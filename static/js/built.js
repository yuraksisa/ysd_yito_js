/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

/*!
 * jQuery Migrate - v1.3.0 - 2016-01-13
 * Copyright jQuery Foundation and other contributors
 */

/*! jQuery UI - v1.9.2 - 2016-02-02
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery Color Animations v2.0.0
 * http://jquery.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Mon Aug 13 13:41:02 2012 -0500
 */

/*
 * jQuery timepicker addon
 * By: Trent Richardson [http://trentrichardson.com]
 * Version 1.0.5
 * Last Modified: 10/06/2012
 *
 * Copyright 2012 Trent Richardson
 * You may use this project under MIT or GPL licenses.
 * http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
 * http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
 */

/*!
 * FullCalendar v1.6.7
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */

/*!
 * jQuery Tools v1.2.5 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * overlay/overlay.apple.js
 * scrollable/scrollable.js
 * tabs/tabs.js
 * toolbox/toolbox.expose.js
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */

/**
 * jQuery Validation Plugin 1.8.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

/* Datepicker Validation 1.0.1 for jQuery UI Datepicker 1.8.6.
   Requires J�rn Zaefferer's Validation plugin (http://plugins.jquery.com/project/validate).
   Written by Keith Wood (kbwood{at}iinet.com.au).
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
   Please attribute the author if you use it. */

/**
* autoNumeric.js
* @author: Bob Knothe
* @author: Sokolov Yura
* @version: 1.9.30 - 2015-01-13 GMT 3:30 AM
*
* Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
* Created by Sokolov Yura on 2010-11-07
*
* Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
*
* The MIT License (http://www.opensource.org/licenses/mit-license.php)
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/

/** Abstract base class for collection plugins v1.0.1.
		Written by Keith Wood (kbwood{at}iinet.com.au) December 2013.
		Licensed under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license.
		@module $.JQPlugin
		@abstract */

/* http://keith-wood.name/timeEntry.html
   Time entry for jQuery v2.0.1.
   Written by Keith Wood (kbwood{at}iinet.com.au) June 2007.
   Available under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license.
   Please attribute the author if you use it. */

/**
 * WYSIWYG – jQuery plugin 0.98.dev
 *
 * Copyright © 2008–2009 Juan M Martinez, 2010–2013 Akzhan Abdulin and all contributors
 * https://github.com/jwysiwyg/jwysiwyg
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Release: 2013-05-14
 *
 */

/**
 * Copyright (c) 2010 Anders Ekdahl (http://coffeescripter.com/)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.2.4
 *
 * Demo and documentation: http://coffeescripter.com/code/ad-gallery/
 */

/*
 * jQuery Nivo Slider v3.2
 * http://nivo.dev7studios.com
 *
 * Copyright 2012, Dev7studios
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */

/**
 FCBKcomplete v2.8.9.3 is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 - Jquery version required: 1.6.x
*/

/*****************************************************************************
jQuery Placeholder 1.1.1

Copyright (c) 2010 Michael J. Ryan (http://tracker1.info/)

Dual licensed under the MIT and GPL licenses:
	http://www.opensource.org/licenses/mit-license.php
	http://www.gnu.org/licenses/gpl.html

------------------------------------------------------------------------------

Sets up a watermark for inputted fields... this will create a LABEL.watermark 
tag immediately following the input tag, the positioning will be set absolute, 
and it will be positioned to match the input tag.

To activate on all tags with a 'data-watermark' attribute:

	$('input[placeholder],textarea[placeholder]').placeholder();


To style the tags as appropriate (you'll want to make sure the font matches):

	label.placeholder {
		cursor: text;				<--- display a cursor to match the text input

		padding: 4px 4px 4px 4px;   <--- this should match the border+padding 
											for the input field(s)
		color: #999999;				<--- this will display as faded
	}

You'll also want to have the color set for browsers with native support
	input:placeholder, textarea:placeholder {
		color: #999999;
	}
	input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {
		color: #999999;
	}

------------------------------------------------------------------------------

Thanks to...
	http://www.alistapart.com/articles/makingcompactformsmoreaccessible
	http://plugins.jquery.com/project/overlabel

	This works similar to the overlabel, but creates the actual label tag
	based on a data-watermark attribute on the input tag, instead of 
	relying on the markup to provide it.

*****************************************************************************/

/*
	SUPERSCROLLORAMA - The jQuery plugin for doing scroll animations
	by John Polacek (@johnpolacek)
	
	Powered by the Greensock Tweening Platform
	http://www.greensock.com
	Greensock License info at http://www.greensock.com/licensing/
	
	Dual licensed under MIT and GPL.
*/

/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*! bsAlerts version: 0.1.1
*  2013-04-19
*  Author: Tim Nelson
*  Website: http://eltimn.github.com/jquery-bs-alerts
*  MIT License http://www.opensource.org/licenses/mit-license.php
*/

/**
 * jquery.dropdown.js v1.0.0
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Copyright 2012, Codrops
 * http://www.codrops.com
 */

/*! Sidr - v1.2.1 - 2013-11-06
 * https://github.com/artberri/sidr
 * Copyright (c) 2013 Alberto Varela; Licensed MIT */

/*
 * jQuery Superfish Menu Plugin - v1.7.4
 * Copyright (c) 2013 Joel Birch
 *
 * Dual licensed under the MIT and GPL licenses:
 *	http://www.opensource.org/licenses/mit-license.php
 *	http://www.gnu.org/licenses/gpl.html
 */

/**
 * Owl carousel
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 * @todo Lazy Load Icon
 * @todo prevent animationend bubling
 * @todo itemsScaleUp
 * @todo Test Zepto
 * @todo stagePadding calculate wrong active classes
 */

/**
 * Lazy Plugin
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */

/**
 * AutoHeight Plugin
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */

/**
 * Video Plugin
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */

/**
 * Animate Plugin
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */

/**
 * Autoplay Plugin
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */

/**
 * Navigation Plugin
 * @version 2.0.0
 * @author Artus Kolanowski
 * @license The MIT License (MIT)
 */

/**
 * Hash Plugin
 * @version 2.0.0
 * @author Artus Kolanowski
 * @license The MIT License (MIT)
 */

/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/

/*! http://mths.be/smoothscroll v1.5.2 by @mathias */

/**
 * Swiper 3.0.6
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * 
 * http://www.idangero.us/swiper/
 * 
 * Copyright 2015, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 * 
 * Licensed under MIT
 * 
 * Released on: March 27, 2015
 */

/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */

/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 5-Feb-2008
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * @website: http://www.datejs.com/
 */

/**
 * Version: 1.0 Alpha-1 
 * Build Date: 13-Nov-2007
 * Copyright (c) 2006-2007, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * License: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * Website: http://www.datejs.com/ or http://www.coolite.com/datejs/
 */

//     Underscore.js 1.4.2
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

/*!
 * VERSION: beta 1.483
 * DATE: 2012-08-16
 * JavaScript (ActionScript 3 and 2 also available)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

/**
 * VERSION: beta 1.484
 * DATE: 2012-08-22
 * JavaScript (ActionScript 3 and 2 also available)
 * UPDATES AND DOCS AT: http://www.greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, easing.EasePack, plugins.CSSPlugin, plugins.RoundPropsPlugin
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */

/*!
 * eventie v1.0.5
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */

/*!
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

/*!
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */

/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */

/*!
 * getStyleProperty v1.0.3
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */

/*!
 * Outlayer v1.2.0
 * the brains and guts of a layout library
 * MIT license
 */

/*!
 * Masonry v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

/*!
 * RequireJS plugin for async dependency load like JSONP and Google Maps
 * @author Miller Medeiros
 * @version 0.0.1 (2011/03/23)
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

(function(e,t){function P(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function B(e){var t=H[e]={};return b.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(e,n,r,i){if(!b.acceptData(e))return;var s,o,u=b.expando,a=typeof n=="string",f=e.nodeType,c=f?b.cache:e,h=f?e[u]:e[u]&&u;if((!h||!c[h]||!i&&!c[h].data)&&a&&r===t)return;h||(f?e[u]=h=l.pop()||b.guid++:h=u),c[h]||(c[h]={},f||(c[h].toJSON=b.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=b.extend(c[h],n):c[h].data=b.extend(c[h].data,n);return s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[b.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[b.camelCase(n)])):o=s,o}function q(e,t,n){if(!b.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?b.cache:e,a=o?e[b.expando]:b.expando;if(!u[a])return;if(t){s=n?u[a]:u[a].data;if(s){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in s?t=[t]:(t=b.camelCase(t),t in s?t=[t]:t=t.split(" "));for(r=0,i=t.length;r<i;r++)delete s[t[r]];if(!(n?U:b.isEmptyObject)(s))return}}if(!n){delete u[a].data;if(!U(u[a]))return}o?b.cleanData([e],!0):b.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function R(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(F,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:j.test(r)?b.parseJSON(r):r}catch(s){}b.data(e,n,r)}else r=t}return r}function U(e){var t;for(t in e){if(t==="data"&&b.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){t=t||0;if(b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=b.grep(e,function(e){return e.nodeType===1});if(at.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function _t(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!b.hasData(e))return;var n,r,i,s=b._data(e),o=b._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)b.event.add(t,n,u[n][r])}o.data&&(o.data=b.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||b.nodeName(s,n)?u.push(s):b.merge(u,jt(s,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,b.css(e,"display")==="none"||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=b._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=b._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=b.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=b.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=b.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=b.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=b.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=b.support.boxSizing&&b.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=s,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&b.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(E)||[];if(b.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,b.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(u in l)u in r&&(n[l[u]]=r[u]);while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=a[++u];)if(r!=="*"){if(f!=="*"&&f!==r){i=o[f+" "+r]||o["* "+r];if(!i)for(n in o){s=n.split(" ");if(s[1]===r){i=o[f+" "+s[0]]||o["* "+s[0]];if(i){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],a.splice(u--,0,r));break}}}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(l){return{state:"parsererror",error:i?l:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Gn[t]||[]).concat(Gn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,s=0,o=Qn.length,u=b.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return Zn(f,l),b.isFunction(f.opts.start)&&f.opts.start.call(e,f),b.fx.timer(b.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(i in e){r=b.camelCase(i),s=t[r],n=e[i],b.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=b.cssHooks[r];if(o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}}function nr(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&nn(e);n.queue||(l=b._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,b.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],b.css(e,"display")==="inline"&&b.css(e,"float")==="none"&&(!b.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",b.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t){o=t[i];if($n.exec(o)){delete t[i],a=a||o==="toggle";if(o===(m?"hide":"show"))continue;v.push(i)}}s=v.length;if(s){u=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?b(e).show():h.done(function(){b(e).hide()}),h.done(function(){var t;b._removeData(e,"fxshow");for(t in d)b.style(e,t,d[t])});for(i=0;i<s;i++)r=v[i],f=h.createTween(r,m?u[r]:0),d[r]=u[r]||b.style(e,r),r in u||(u[r]=f.start,m&&(f.end=f.start,f.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.document,o=e.location,u=e.jQuery,a=e.$,f={},l=[],c="1.9.1",h=l.concat,p=l.push,d=l.slice,v=l.indexOf,m=f.toString,g=f.hasOwnProperty,y=c.trim,b=function(e,t){return new b.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,E=/\S+/g,S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/^[\],:{}\s]*$/,C=/(?:^|:|,)(?:\s*\[)+/g,k=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,L=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,A=/^-ms-/,O=/-([\da-z])/gi,M=function(e,t){return t.toUpperCase()},_=function(e){if(s.addEventListener||e.type==="load"||s.readyState==="complete")D(),b.ready()},D=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",_,!1),e.removeEventListener("load",_,!1)):(s.detachEvent("onreadystatechange",_),e.detachEvent("onload",_))};b.fn=b.prototype={jquery:c,constructor:b,init:function(e,n,r){var i,o;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=x.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:s,!0));if(T.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}o=s.getElementById(i[2]);if(o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=s,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return d.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!b.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,o=e&&b.isArray(e)?e:[]):o=e&&b.isPlainObject(e)?e:{},u[i]=b.extend(l,o,r)):r!==t&&(u[i]=r)}return u},b.extend({noConflict:function(t){return e.$===b&&(e.$=a),t&&e.jQuery===b&&(e.jQuery=u),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?--b.readyWait:b.isReady)return;if(!s.body)return setTimeout(b.ready);b.isReady=!0;if(e!==!0&&--b.readyWait>0)return;n.resolveWith(s,[b]),b.fn.trigger&&b(s).trigger("ready").off("ready")},isFunction:function(e){return b.type(e)==="function"},isArray:Array.isArray||function(e){return b.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?f[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||b.type(e)!=="object"||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||g.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||s;var r=T.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=b.trim(t);if(t&&N.test(t.replace(k,"@").replace(L,"]").replace(C,"")))return(new Function("return "+t))()}b.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(A,"ms-").replace(O,M)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=P(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:y&&!y.call("﻿ ")?function(e){return e==null?"":y.call(e)}:function(e){return e==null?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(P(Object(e))?b.merge(n,typeof e=="string"?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=P(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return h.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),b.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(n||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(b.type(r)==="object"){s=!0;for(a in r)b.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,b.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(b(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){n=b.Deferred();if(s.readyState==="complete")setTimeout(b.ready);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",_,!1),e.addEventListener("load",_,!1);else{s.attachEvent("onreadystatechange",_),e.attachEvent("onload",_);var r=!1;try{r=e.frameElement==null&&s.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}D(),b.ready()}}()}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()}),r=b(s);var H={};b.Callbacks=function(e){e=typeof e=="string"?H[e]||B(e):b.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?b.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!i||f)&&(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,s){var o=s[0],u=b.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=r!==1||e&&b.isFunction(e.promise)?r:0,s=i===1?e:b.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),b.support=function(){var t,n,r,o,u,a,f,l,c,h,p=s.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};u=s.createElement("select"),f=u.appendChild(s.createElement("option")),o=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:p.className!=="t",leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!o.value,optSelected:f.selected,enctype:!!s.createElement("form").enctype,html5Clone:s.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:s.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}o=s.createElement("input"),o.setAttribute("value",""),t.input=o.getAttribute("value")==="",o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","t"),o.setAttribute("name","t"),a=s.createDocumentFragment(),a.appendChild(o),t.appendChecked=o.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box",b(function(){var n,r,o,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=s.getElementsByTagName("body")[0];if(!a)return;n=s.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=p.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=o[0].offsetHeight===0,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&o[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=p.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(s.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=o=r=null}),n=u=a=f=r=o=null,t}();var j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;b.extend({cache:{},expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!U(e)},data:function(e,t,n){return I(e,t,n)},removeData:function(e,t){return q(e,t)},_data:function(e,t,n){return I(e,t,n,!0)},_removeData:function(e,t){return q(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=b.data(s);if(s.nodeType===1&&!b._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),R(s,i,u[i]));b._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){b.data(this,e)}):b.access(this,function(n){if(n===t)return s?R(s,e,b.data(s,e)):null;this.each(function(){b.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=b._data(e,t),n&&(!r||b.isArray(n)?r=b._data(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),s=b._queueHooks(e,t),o=function(){b.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=b.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=b._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var z,W,X=/[\t\r\n]/g,V=/\r/g,$=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,K=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Q=/^(?:checked|selected)$/i,G=b.support.getSetAttribute,Y=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var s,o=0,u=b(this),a=t,f=e.match(E)||[];while(s=f[o++])a=r?a:!u.hasClass(s),u[a?"addClass":"removeClass"](s)}else if(n===i||n==="boolean")this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace(V,""):n==null?"":n);return}return i=b.isFunction(e),this.each(function(n){var s,o=b(this);if(this.nodeType!==1)return;i?s=e.call(this,n,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":b.isArray(s)&&(s=b.map(s,function(e){return e==null?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(b.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!b.nodeName(n.parentNode,"optgroup"))){t=b(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(typeof e.getAttribute===i)return b.prop(e,n,r);o=a!==1||!b.isXMLDoc(e),o&&(n=n.toLowerCase(),s=b.attrHooks[n]||(K.test(n)?W:z));if(r===t)return s&&o&&"get"in s&&(u=s.get(e,n))!==null?u:(typeof e.getAttribute!==i&&(u=e.getAttribute(n)),u==null?t:u);if(r!==null)return s&&o&&"set"in s&&(u=s.set(e,r,n))!==t?u:(e.setAttribute(n,r+""),r);b.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(E);if(s&&e.nodeType===1)while(n=s[i++])r=b.propFix[n]||n,K.test(n)?!G&&Q.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&t==="radio"&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!b.isXMLDoc(e),o&&(n=b.propFix[n]||n,s=b.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):$.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),W={get:function(e,n){var r=b.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Y&&G?i!=null:Q.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}};if(!Y||!G)b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!b.nodeName(e,"input"))return z&&z.set(e,t,n);e.defaultValue=t}};G||(z=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:z.get,set:function(e,t,n){z.set(e,t===""?!1:t,n)}},b.each(["width","height"],function(e,t){b.attrHooks[t]=b.extend(b.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,t){if(b.isArray(t))return e.checked=b.inArray(b(e).val(),t)>=0}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=b._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=b.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof b===i||!!e&&b.event.triggered===e.type?t:b.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(E)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),c=b.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=b.event.special[v]||{},p=b.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),b.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=b.hasData(e)&&b._data(e);if(!m||!(l=m.events))return;t=(t||"").match(E)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)b.event.remove(e,p+t[f],n,r,!0);continue}c=b.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&b.removeEvent(e,p,m.handle),delete l[p])}b.isEmptyObject(l)&&(delete m.handle,b._removeData(e,"events"))},trigger:function(n,r,i,o){var u,a,f,l,c,h,p,d=[i||s],v=g.call(n,"type")?n.type:n,m=g.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||s;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+b.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[b.expando]?n:new b.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:b.makeArray(r,[n]),c=b.event.special[v]||{};if(!o&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!o&&!c.noBubble&&!b.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||s)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(b._data(f,"events")||{})[n.type]&&b._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&b.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(i.ownerDocument,r)===!1)&&(v!=="click"||!b.nodeName(i,"a"))&&b.acceptData(i)&&a&&i[v]&&!b.isWindow(i)){h=i[a],h&&(i[a]=null),b.event.triggered=v;try{i[v]()}catch(y){}b.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=b.event.fix(e);var n,r,i,s,o,u=[],a=d.call(arguments),f=(b._data(this,"events")||{})[e.type]||[],l=b.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=b.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?b(r,this).index(f)>=0:b.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,o=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new b.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||s),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||s,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(b.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==s.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===s.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=s.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!b.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}}),b.support.changeBubbles||(b.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")b.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)});return!1}b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){n++===0&&s.addEventListener(e,r,!0)},teardown:function(){--n===0&&s.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return b().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=w,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=t&&e,r=n&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&i==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[w]||(t[w]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[w]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.random()||.1;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}s=V.needsContext.test(e)?0:o.length;while(s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/^[^{]+\{\s*\[native code/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(E.documentElement.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},y=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(y),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(y);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=b.attr,b.find=ut,b.expr=ut.selectors,b.expr[":"]=b.expr.pseudos,b.unique=ut.uniqueSort,b.text=ut.getText,b.isXMLDoc=ut.isXML,b.contains=ut.contains}(e);var ot=/Until$/,ut=/^(?:parents|prev(?:Until|All))/,at=/^.[^:#\[\.,]*$/,ft=b.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if(typeof e!="string")return r=this,this.pushStack(b(e).filter(function(){for(t=0;t<i;t++)if(b.contains(r[t],this))return!0}));n=[];for(t=0;t<i;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e,!1))},filter:function(e){return this.pushStack(ht(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?ft.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?b(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:b.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?b.unique(s):s)},index:function(e){return e?typeof e=="string"?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack,b.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return ot.test(e)||(r=n),r&&typeof r=="string"&&(i=b.filter(r,i)),i=this.length>1&&!lt[e]?b.unique(i):i,this.length>1&&ut.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!b(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(s),Ot=At.appendChild(s.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||b.filter(e,[n]).length>0)!t&&n.nodeType===1&&b.cleanData(jt(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&b.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(b.support.htmlSerialize||!mt.test(e))&&(b.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(b.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return!t&&typeof e!="string"&&(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=h.apply([],e);var i,s,o,u,a,f,l=0,c=this.length,p=this,d=c-1,v=e[0],m=b.isFunction(v);if(m||!(c<=1||typeof v!="string"||b.support.checkClone||!Tt.test(v)))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(c){f=b.buildFragment(e,this[0].ownerDocument,!1,this),i=f.firstChild,f.childNodes.length===1&&(f=i);if(i){n=n&&b.nodeName(i,"tr"),u=b.map(jt(f,"script"),_t),o=u.length;for(;l<c;l++)s=f,l!==d&&(s=b.clone(s,!0,!0),o&&b.merge(u,jt(s,"script"))),r.call(n&&b.nodeName(this[l],"table")?Mt(this[l],"tbody"):this[l],s,l);if(o){a=u[u.length-1].ownerDocument,b.map(u,Dt);for(l=0;l<o;l++)s=u[l],Nt.test(s.type||"")&&!b._data(s,"globalEval")&&b.contains(a,s)&&(s.src?b.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((s.text||s.textContent||s.innerHTML||"").replace(kt,"")))}f=i=null}}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],s=b(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),b(s[r])[t](n),p.apply(i,n.get());return this.pushStack(i)}}),b.extend({clone:function(e,t,n){var r,i,s,o,u,a=b.contains(e.ownerDocument,e);b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!b.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(b.type(s)==="object")b.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!b.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!b.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)b.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}b.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),b.support.appendChecked||b.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&b.inArray(s,r)!==-1)continue;o=b.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=b.expando,f=b.cache,c=b.support.deleteExpando,h=b.event.special;for(;(n=e[u])!=null;u++)if(t||b.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?b.event.remove(n,r):b.removeEvent(n,r,o.handle);f[s]&&(delete f[s],c?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,l.push(s))}}}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+w+")(.*)$","i"),Jt=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+w+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,s,o={},u=0;if(b.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=b.css(e,n[u],!1,s);return o}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=b.camelCase(n),f=e.style;n=b.cssProps[a]||(b.cssProps[a]=tn(f,a)),u=b.cssHooks[n]||b.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(b.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!b.cssNumber[a]&&(r+="px"),!b.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=b.camelCase(n);return n=b.cssProps[a]||(b.cssProps[a]=tn(e.style,a)),u=b.cssHooks[n]||b.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||b.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!b.contains(e.ownerDocument,e)&&(a=b.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):s.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(b.css(e,"display"))?b.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,b.support.boxSizing&&b.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&b.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,t){if(t)return b.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,t){b.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?b(e).position()[t]+"px":n}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!b.support.reliableHiddenOffsets&&(e.style&&e.style.display||b.css(e,"display"))==="none"},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(b.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=b(this).val();return n==null?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],s=function(e,t){t=b.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,gn,yn=b.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=b.fn.load,Ln={},An={},On="*/".concat("*");try{gn=o.href}catch(Mn){gn=s.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],b.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),b.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&b.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,s){return b.isFunction(r)&&(s=s||i,i=r,r=t),b.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,b.ajaxSettings),t):Pn(b.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(w===2)return;w=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,r&&(E=Hn(c,x,r));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(b.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(b.etag[s]=S)),e===204?(l=!0,T="nocontent"):e===304?(l=!0,T="notmodified"):(l=Bn(c,E),T=l.state,g=l.data,y=l.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--b.active||b.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=b.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?b(h):b.event,d=b.Deferred(),v=b.Callbacks("once memory"),m=c.statusCode||{},g={},y={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(w===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return w===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return w||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=b.trim(c.dataType||"*").toLowerCase().match(E)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?80:443))==(mn[3]||(mn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=b.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(w===2)return x;a=c.global,a&&b.active++===0&&b.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(b.lastModified[s]&&x.setRequestHeader("If-Modified-Since",b.lastModified[s]),b.etag[s]&&x.setRequestHeader("If-None-Match",b.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&w!==2){S="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{w=1,f.send(g,N)}catch(T){if(!(w<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=s.head||b("head")[0]||s.documentElement;return{send:function(t,i){n=s.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||b.expando+"_"+yn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||b.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&b.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=b.ajaxSettings.xhr(),b.support.cors=!!qn&&"withCredentials"in qn,qn=b.support.ajax=!!qn,qn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=b.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},b(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Jn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(b.cssNumber[e]?"":"px");if(r!=="px"&&u){u=b.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,b.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=b.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(e.elem.style[b.cssProps[e.prop]]!=null||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),s=b.speed(t,n,r),o=function(){var t=er(this,b.extend({},e),s);o.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=b.timers,o=b._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=b.timers,o=r?r.length:0;n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&typeof e=="object"?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};r.duration=b.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;Xn=b.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Vn||(Vn=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Vn),Vn=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,b.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");r==="static"&&(e.style.position="relative");var i=b(e),s=i.offset(),o=b.css(e,"top"),u=b.css(e,"left"),a=(r==="absolute"||r==="fixed")&&b.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),b.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},b.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return b.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s.documentElement;while(e&&!b.nodeName(e,"html")&&b.css(e,"position")==="static")e=e.offsetParent;return e||s.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?b(o).scrollLeft():s,r?s:b(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return b.access(this,function(n,r,i){var s;return b.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?b.css(n,r,u):b.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=b,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window),function(e,t,n){function i(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function s(t,n,r,s){if(Object.defineProperty)try{Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(s),r},set:function(e){i(s),r=e}});return}catch(o){}e._definePropertyBroken=!0,t[n]=r}e.migrateVersion="1.3.0";var r={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},document.compatMode==="BackCompat"&&i("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,u=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},f=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;s(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,s,a){var f=r.toLowerCase(),d=t&&t.nodeType;if(a){u.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated");if(t&&!c.test(d)&&(o?r in o:e.isFunction(e.fn[r])))return e(t)[r](s)}return r==="type"&&s!==n&&l.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[f]&&h.test(f)&&(e.attrHooks[f]={get:function(t,r){var i,s=e.prop(t,r);return s===!0||typeof s!="boolean"&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(f)&&i("jQuery.fn.attr('"+f+"') might use property instead of attribute")),u.call(e,t,r,s)},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return n==="button"?a.apply(this,arguments):(n!=="input"&&n!=="option"&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if(n==="button")return f.apply(this,arguments);n!=="input"&&n!=="option"&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var d,v,m=e.fn.init,g=e.parseJSON,y=/^\s*</,b=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,r,s){var o,u;if(t&&typeof t=="string"&&!e.isPlainObject(r)&&(o=b.exec(e.trim(t)))&&o[0]){y.test(t)||i("$(html) HTML strings must start with '<' character"),o[3]&&i("$(html) HTML text after last tag is ignored"),o[0].charAt(0)==="#"&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),r&&r.context&&(r=r.context);if(e.parseHTML)return m.call(this,e.parseHTML(o[2],r&&r.ownerDocument||r||document,!0),r,s)}return t==="#"&&(i("jQuery( '#' ) is not a valid selector"),t=[]),u=m.apply(this,arguments),t&&t.selector!==n?(u.selector=t.selector,u.context=t.context):(u.selector=typeof t=="string"?t:"",t&&(u.context=t.nodeType?t:r||document)),u},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e?g.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(d=e.uaMatch(navigator.userAgent),v={},d.browser&&(v[d.browser]=!0,v.version=d.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),s(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel=document.compatMode==="CSS1Compat",s(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),s(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,s){var o=e.fn.init.call(this,i,s,n);return o instanceof t?o:t(o)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length};var w=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,n){var r=e.cssHooks[n]&&e.cssHooks[n].get;r&&(e.cssHooks[n].get=function(){var e;return w=!0,e=r.apply(this,arguments),w=!1,e})}),e.swap=function(e,t,n,r){var s,o,u={};w||i("jQuery.swap() is undocumented and deprecated");for(o in t)u[o]=e.style[o],e.style[o]=t[o];s=n.apply(e,r||[]);for(o in t)e.style[o]=u[o];return s},e.ajaxSetup({converters:{"text json":e.parseJSON}});var E=e.fn.data;e.fn.data=function(t){var r,s,o=this[0];if(o&&t==="events"&&arguments.length===1){r=e.data(o,t),s=e._data(o,t);if((r===n||r===s)&&s!==n)return i("Use of jQuery.fn.data('events') is deprecated"),s}return E.apply(this,arguments)};var S=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,n,r,s){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var o,u,a,f,l=[];e.merge(l,e.buildFragment(t,n).childNodes);if(r){a=function(e){if(!e.type||S.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e)};for(o=0;(u=l[o])!=null;o++)if(!e.nodeName(u,"script")||!a(u))r.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(f=e.grep(e.merge([],u.getElementsByTagName("script")),a),l.splice.apply(l,[o+1,0].concat(f)),o+=f.length)}return l});var x=e.event.add,T=e.event.remove,N=e.event.trigger,C=e.fn.toggle,k=e.fn.live,L=e.fn.die,A=e.fn.load,O="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",M=new RegExp("\\b(?:"+O+")\\b"),_=/(?:^|\s)hover(\.\S+|)\b/,D=function(t){return typeof t!="string"||e.event.special.hover?t:(_.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(_,"mouseenter$1 mouseleave$1"))};e.event.props&&e.event.props[0]!=="attrChange"&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&s(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,s){e!==document&&M.test(t)&&i("AJAX events should be attached to document: "+t),x.call(this,e,D(t||""),n,r,s)},e.event.remove=function(e,t,n,r,i){T.call(this,e,D(t)||"",n,r,i)},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn."+n+"() is deprecated"),n==="load"&&typeof arguments[0]=="string"?A.apply(this,arguments):(e.splice(0,0,n),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,s=t.guid||e.guid++,o=0,u=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};u.guid=s;while(o<r.length)r[o++].guid=s;return this.click(u)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),k?k.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),L?L.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return!n&&!M.test(e)&&i("Global events are undocumented and deprecated"),N.call(this,e,t,n||document,r)},e.each(O.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}),e.event.special.ready={setup:function(){i("'ready' event is deprecated")}};var P=e.fn.andSelf||e.fn.addBack,H=e.fn.find;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),P.apply(this,arguments)},e.fn.find=function(e){var t=H.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t};if(e.Callbacks){var B=e.Deferred,j=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=B(),r=n.promise();return n.pipe=r.pipe=function(){var t=arguments;return i("deferred.pipe() is deprecated"),e.Deferred(function(i){e.each(j,function(s,o){var u=e.isFunction(t[s])&&t[s];n[o[1]](function(){var t=u&&u.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===r?i.promise():this,u?[t]:arguments)})}),t=null}).promise()},n.isResolved=function(){return i("deferred.isResolved is deprecated"),n.state()==="resolved"},n.isRejected=function(){return i("deferred.isRejected is deprecated"),n.state()==="rejected"},t&&t.call(n,n),n}}}(jQuery,window),define("jquery.migrate",function(){}),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=parseFloat(t[1],10)===6}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function h(e,t,n){return[parseInt(e[0],10)*(l.test(e[0])?t/100:1),parseInt(e[1],10)*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,d,v,m,g=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=g[0],E=(t.collision||"flip").split(" "),S={};return w.nodeType===9?(l=g.width(),d=g.height(),v={top:0,left:0}):e.isWindow(w)?(l=g.width(),d=g.height(),v={top:g.scrollTop(),left:g.scrollLeft()}):w.preventDefault?(t.at="left top",l=d=0,v={top:w.pageY,left:w.pageX}):(l=g.outerWidth(),d=g.outerHeight(),v=g.offset()),m=e.extend({},v),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),t.at[0]==="right"?m.left+=l:t.at[0]==="center"&&(m.left+=l/2),t.at[1]==="bottom"?m.top+=d:t.at[1]==="center"&&(m.top+=d/2),n=h(S.at,l,d),m.left+=n[0],m.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),w=p(this,"marginLeft"),x=p(this,"marginTop"),T=f+w+p(this,"marginRight")+b.width,N=c+x+p(this,"marginBottom")+b.height,C=e.extend({},m),k=h(S.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:w,marginTop:x},e.each(["left","top"],function(r,i){e.ui.position[E[r]]&&e.ui.position[E[r]][i](C,{targetWidth:l,targetHeight:d,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:y,elem:a})}),e.fn.bgiframe&&a.bgiframe(),t.using&&(u=function(e){var n=v.left-C.left,s=n+l-f,o=v.top-C.top,u=o+d-c,h={target:{element:g,left:v.left,top:v.top,width:l,height:d},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),d<c&&i(o+u)<d&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return i.length===1&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),s.length===1&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(jQuery)}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);var r=this.element[0],i=!1;while(r&&(r=r.parentNode))r==document&&(i=!0);if(!i&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3]?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2]?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,a=t.top,f=t.left;return e.ui.isOver(i+n,s+r,a,f,o,u)};e.each(r.sortables,function(s){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=u&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height;for(var l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,d=p+r.snapElements[l].height;if(!(c-s<o&&o<h+s&&p-s<a&&a<d+s||c-s<o&&o<h+s&&p-s<f&&f<d+s||c-s<u&&u<h+s&&p-s<a&&a<d+s||c-s<u&&u<h+s&&p-s<f&&f<d+s)){r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1;continue}if(i.snapMode!="inner"){var v=Math.abs(p-f)<=s,m=Math.abs(d-a)<=s,g=Math.abs(c-u)<=s,y=Math.abs(h-o)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var b=v||m||g||y;if(i.snapMode!="outer"){var v=Math.abs(p-a)<=s,m=Math.abs(d-f)<=s,g=Math.abs(c-o)<=s,y=Math.abs(h-u)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(v||m||g||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=v||m||g||y||b}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!i.length)return;var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];for(var n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t=="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,s=i+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,u=o+t.helperProportions.height,a=n.offset.left,f=a+n.proportions.width,l=n.offset.top,c=l+n.proportions.height;switch(r){case"fit":return a<=i&&s<=f&&l<=o&&u<=c;case"intersect":return a<i+t.helperProportions.width/2&&s-t.helperProportions.width/2<f&&l<o+t.helperProportions.height/2&&u-t.helperProportions.height/2<c;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,d=e.ui.isOver(p,h,l,a,n.proportions.height,n.proportions.width);return d;case"touch":return(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c)&&(i>=a&&i<=f||s>=a&&s<=f||i<a&&s>f);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope]||[],i=n?n.type:null,s=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<r.length;o++){if(r[o].options.disabled||t&&!r[o].accept.call(r[o].element[0],t.currentItem||t.element))continue;for(var u=0;u<s.length;u++)if(s[u]==r[o].element[0]){r[o].proportions.height=0;continue e}r[o].visible=r[o].element.css("display")!="none";if(!r[o].visible)continue;i=="mousedown"&&r[o]._activate.call(r[o],n),r[o].offset=r[o].element.offset(),r[o].proportions={width:r[o].element[0].offsetWidth,height:r[o].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r=e.ui.intersect(t,this,this.options.tolerance),i=!r&&this.isover==1?"isout":r&&this.isover==0?"isover":null;if(!i)return;var s;if(this.options.greedy){var o=this.options.scope,u=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===o});u.length&&(s=e.data(u[0],"droppable"),s.greedyChild=i=="isover"?1:0)}s&&i=="isover"&&(s.isover=0,s.isout=1,s._out.call(s,n)),this[i]=1,this[i=="isout"?"isover":"isout"]=0,this[i=="isover"?"_over":"_out"].call(this,n),s&&i=="isout"&&(s.isout=0,s.isover=1,s._over.call(s,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(n.disabled)return;e(this).removeClass("ui-resizable-autohide"),t._handles.show()}).mouseleave(function(){if(n.disabled)return;t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",a=="auto"?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,n=this.options,r={},i=this,s=this.originalMousePosition,o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);return l=this._respectSize(l,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!a)return;i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this;this.opos=[t.pageX,t.pageY];if(this.options.disabled)return;var r=this.options;this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,!t.metaKey&&!t.ctrlKey&&(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().andSelf().each(function(){var r=e.data(this,"selectable-item");if(r){var i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected");return r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1}})},_mouseDrag:function(t){var n=this;this.dragged=!0;if(this.options.disabled)return;var r=this.options,i=this.opos[0],s=this.opos[1],o=t.pageX,u=t.pageY;if(i>o){var a=o;o=i,i=a}if(s>u){var a=u;u=s,s=a}return this.helper.css({left:i,top:s,width:o-i,height:u-s}),this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!a||a.element==n.element[0])return;var f=!1;r.tolerance=="touch"?f=!(a.left>o||a.right<i||a.top>u||a.bottom<s):r.tolerance=="fit"&&(f=a.left>i&&a.right<o&&a.top>s&&a.bottom<u),f?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,n._trigger("selecting",t,{selecting:a.element}))):(a.selecting&&((t.metaKey||t.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),n._trigger("unselecting",t,{unselecting:a.element}))),a.selected&&!t.metaKey&&!t.ctrlKey&&!a.startselected&&(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,n._trigger("unselecting",t,{unselecting:a.element})))}),!1},_mouseStop:function(t){var n=this;this.dragged=!1;var r=this.options;return e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==r)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var o=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)});if(!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(s.instance!==this.currentContainer)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=this.options.axis==="x"||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}}for(var s=r.length-1;s>=0;s--){var f=r[s][1],l=r[s][0];for(var u=0,c=l.length;u<c;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){if(r&&!n.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!n)return;if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u];for(var l=this.items.length-1;l>=0;l--){if(!e.contains(this.containers[r].element[0],this.items[l].item[0]))continue;if(this.items[l].item[0]==this.currentItem[0])continue;var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n=0,r={},i={};r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n),r=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(r.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!r.collapsible&&(r.active===!1||r.active==null)&&(r.active=0),r.active<0&&(r.active+=this.headers.length),this.active=this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(n){var r=e(this),i=r.attr("id"),s=r.next(),o=s.attr("id");i||(i=t+"-header-"+n,r.attr("id",i)),o||(o=t+"-panel-"+n,s.attr("id",o)),r.attr("aria-controls",o),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(r.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,t){if(e==="active"){this._activate(t);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),e==="collapsible"&&!t&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),t&&this._createIcons()),e==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,n,r=this.options.heightStyle,i=this.element.parent();r==="fill"?(e.support.minHeight||(n=i.css("overflow"),i.css("overflow","hidden")),t=i.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");if(r==="absolute"||r==="fixed")return;t-=n.outerHeight(!0)}),n&&i.css("overflow",n),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):r==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):e()},_setupEvents:function(t){var n={};if(!t)return;e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._on(this.headers,n)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault();if(s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1)return;n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active"))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-expanded":"false","aria-hidden":"true"}),r.prev().attr("aria-selected","false"),n.length&&r.length?r.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,n){var s,o,u,a=this,f=0,l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=l&&c.down||c,p=function(){a._toggleComplete(n)};typeof h=="number"&&(u=h),typeof h=="string"&&(o=h),o=o||h.easing||c.easing,u=u||h.duration||c.duration;if(!t.length)return e.animate(i,u,o,p);if(!e.length)return t.animate(r,u,o,p);s=e.show().outerHeight(),t.animate(r,{duration:u,easing:o,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(i,{duration:u,easing:o,complete:p,step:function(e,n){n.now=Math.round(e),n.prop!=="height"?f+=n.now:a.options.heightStyle!=="content"&&(n.now=Math.round(s-t.outerHeight()-f),f=0)}})},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.uiBackCompat!==!1&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var n=t._create;t._create=function(){if(this.options.navigation){var t=this,r=this.element.find(this.options.header),i=r.next(),s=r.add(i).find("a").filter(this.options.navigationFilter)[0];s&&r.add(i).each(function(n){if(e.contains(this,s))return t.options.active=Math.floor(n/2),!1})}n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=t._create,r=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(e){if(e==="autoHeight"||e==="clearStyle"||e==="fillSpace")this.options.heightStyle=this._mergeHeightStyle();r.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;if(e.fillSpace)return"fill";if(e.clearStyle)return"content";if(e.autoHeight)return"auto"}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var n=t._findActive;t._findActive=function(e){return e===-1&&(e=!1),e&&typeof e!="number"&&(e=this.headers.index(this.headers.filter(e)),e===-1&&(e=!1)),n.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var n=t._trigger;t._trigger=function(e,t,r){var i=n.apply(this,arguments);return i?(e==="beforeActivate"?i=n.call(this,"changestart",t,{oldHeader:r.oldHeader,oldContent:r.oldPanel,newHeader:r.newHeader,newContent:r.newPanel}):e==="activate"&&(i=n.call(this,"change",t,{oldHeader:r.oldHeader,oldContent:r.oldPanel,newHeader:r.newHeader,newContent:r.newPanel})),i):!1}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var n=t._create;t._create=function(){var e=this.options;e.animate===null&&(e.animated?e.animated==="slide"?e.animate=300:e.animated==="bounceslide"?e.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animate=e.animated:e.animate=!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){t=!0,r=!0,n=!0;return}t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t){t=!1,r.preventDefault();return}if(n)return;var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}},input:function(e){if(r){r=!1,e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target!==t.element[0]&&r.target!==n&&!e.contains(n,r.target)&&t.close()})})},menufocus:function(t,n){if(this.isNewMenu){this.isNewMenu=!1;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}var r=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this.document.find(t||"body")[0]),e==="disabled"&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){e=e!=null?e:this._value(),this.term=this._value();if(e.length<this.options.minLength)return this.close(t);if(this._trigger("search",t)===!1)return;return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(r){t===n&&e.__response(r),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term),this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(e,t),t.preventDefault()}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;e&&e.length?t=this.options.messages.results(e.length):t=this.options.messages.noResults,this.liveRegion.text(t)}})}(jQuery),function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(r?i=e(r).find("[name='"+n+"']"):i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c=a?"":"ui-state-active",h="ui-state-focus";u.label===null&&(u.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(u.disabled)return;this===n&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(u.disabled)return;e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){u.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),a&&(this.element.bind("change"+this.eventNamespace,function(){if(s)return;t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(u.disabled)return;s=!1,r=e.pageX,i=e.pageY}).bind("mouseup"+this.eventNamespace,function(e){if(u.disabled)return;if(r!==e.pageX||i!==e.pageY)s=!0})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(u.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){e==="disabled"&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)if(t[n]==null||t[n]==undefined)e[n]=t[n];return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName))return;this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++)e[r].length>t&&(t=e[r].length,n=r);return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName))return;n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string")return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null;var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e)return;var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1)return;extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e)))e=e[n?"previousSibling":"nextSibling"];var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME))return;if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst)return;var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0]))return;var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(e==null||t==null)throw"Invalid arguments";t=typeof t=="object"?t.toString():t+"";if(t=="")return null;var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s)throw"Missing number at position "+g;return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase())return s=n[0],g+=r.length,!1});if(s!=-1)return s+1;throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y))throw"Unexpected literal at position "+g;g++},g=0;for(var y=0;y<e.length;y++)if(h)e.charAt(y)=="'"&&!p("'")?h=!1:m();else switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/1e4);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w))throw"Extra/unparsed characters found in date: "+w}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E)break;f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e))while(r.length<n)r="0"+r;return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t)for(var h=0;h<e.length;h++)if(c)e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h);else switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++)if(n)e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal)return;var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v)p--,p<0&&(p=11,d--)}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1)switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a)h+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++)(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>");h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f)c+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t=this,r=this.options,i=r.title||"&#160;",s,o,u,a,f;s=(this.uiDialog=e("<div>")).addClass(n+r.dialogClass).css({display:"none",outline:0,zIndex:r.zIndex}).attr("tabIndex",-1).keydown(function(n){r.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}).mousedown(function(e){t.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(s),o=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){s.focus()}).prependTo(s),u=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),t.close(e)}).appendTo(o),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(r.closeText).appendTo(u),a=e("<span>").uniqueId().addClass("ui-dialog-title").html(i).prependTo(o),f=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(f),s.attr({role:"dialog","aria-labelledby":a.attr("id")}),o.find("*").add(o).disableSelection(),this._hoverable(u),this._focusable(u),r.draggable&&e.fn.draggable&&this._makeDraggable(),r.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(r.buttons),this._isOpen=!1,e.fn.bgiframe&&s.bgiframe(),this._on(s,{keydown:function(t){if(!r.modal||t.keyCode!==e.ui.keyCode.TAB)return;var n=e(":tabbable",s),i=n.filter(":first"),o=n.filter(":last");if(t.target===o[0]&&!t.shiftKey)return i.focus(1),!1;if(t.target===i[0]&&t.shiftKey)return o.focus(1),!1}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var n=this,r,i;if(!this._isOpen)return;if(!1===this._trigger("beforeClose",t))return;return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(r=0,e(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(r=Math.max(r,i)))}),e.ui.dialog.maxZ=r),this},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var r=this.options,i;return r.modal&&!t||!r.stack&&!r.modal?this._trigger("focus",n):(r.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=r.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",n),this)},open:function(){if(this._isOpen)return;var t,n=this.options,r=this.uiDialog;return this._size(),this._position(n.position),r.show(n.show),this.overlay=n.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=r)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(t){var n=this,r=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof t=="object"&&t!==null&&e.each(t,function(){return!(r=!0)}),r?(e.each(t,function(t,r){var i,s;r=e.isFunction(r)?{click:r,text:t}:r,r=e.extend({type:"button"},r),s=r.click,r.click=function(){s.apply(n.element[0],arguments)},i=e("<button></button>",r).appendTo(n.uiButtonSet),e.fn.button&&i.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function r(e){return{position:e.position,offset:e.offset}}var t=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,s){n.position=[s.position.left-t.document.scrollLeft(),s.position.top-t.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),t._trigger("dragStop",i,r(s)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function u(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var r=this,i=this.options,s=this.uiDialog.css("position"),o=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,n){e(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,u(n))},resize:function(e,t){r._trigger("resize",e,u(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),i.height=e(this).height(),i.width=e(this).width(),r._trigger("resizeStop",t,u(n)),e.ui.dialog.overlay.resize()}}).css("position",s).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n=[],r=[0,0],i;if(t){if(typeof t=="string"||typeof t=="object"&&"0"in t)n=t.split?t.split(" "):[t[0],t[1]],n.length===1&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),t={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")};t=e.extend({},e.ui.dialog.prototype.options.position,t)}else t=e.ui.dialog.prototype.options.position;i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var n=this,s={},o=!1;e.each(t,function(e,t){n._setOption(e,t),e in r&&(o=!0),e in i&&(s[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,r){var i,s,o=this.uiDialog;switch(t){case"buttons":this._createButtons(r);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":o.removeClass(this.options.dialogClass).addClass(n+r);break;case"disabled":r?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":i=o.is(":data(draggable)"),i&&!r&&o.draggable("destroy"),!i&&r&&this._makeDraggable();break;case"position":this._position(r);break;case"resizable":s=o.is(":data(resizable)"),s&&!r&&o.resizable("destroy"),s&&typeof r=="string"&&o.resizable("option","handles",r),!s&&r!==!1&&this._makeResizable(r);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(r||"&#160;"))}this._super(t,r)},_size:function(){var t,n,r,i=this.options,s=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),n=Math.max(0,i.minHeight-t),i.height==="auto"?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),r=this.element.css("height","auto").height(),s||this.uiDialog.hide(),this.element.height(Math.max(r,n))):this.element.height(Math.max(i.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(r){var i=e.ui.dialog.overlay.instances;i.length!==0&&i[i.length-1]===n&&t.options.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===e.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}),n.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances),r=0;n!==-1&&this.oldInstances.push(this.instances.splice(n,1)[0]),this.instances.length===0&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){r=Math.max(r,this.css("z-index"))}),this.maxZ=r},height:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){var n=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var r=e(t.target).closest(".ui-menu-item");!n&&r.not(".ui-state-disabled").length&&(n=!0,this.select(t),r.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,i,s,o,u=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),n=s&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}u&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,r=this.element.find(this.options.menus);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),r=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);r.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",r.attr("id"))}),t=r.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,r;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.height(),i<0?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active})},_startOpening:function(e){clearTimeout(this.timer);if(e.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close(),this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):r=this.active[e+"All"](".ui-menu-item").eq(0));if(!r||!r.length||!this.active)r=this.activeMenu.children(".ui-menu-item")[t]();this.focus(n,r)},nextPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isLastItem())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r-i<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isFirstItem())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){e==="value"&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return typeof e!="number"&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,r,i=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",u=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),i.range&&(i.range===!0&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&i.values.length!==2&&(i.values=[i.values[0],i.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(i.range==="min"||i.range==="max"?" ui-slider-range-"+i.range:""))),r=i.values&&i.values.length||1;for(t=s.length;t<r;t++)u.push(o);this.handles=s.add(e(u.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){i.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var r,i,s,o,u=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=!0,e(t.target).addClass("ui-state-active"),r=this._start(t,u);if(r===!1)return}}o=this.options.step,this.options.values&&this.options.values.length?i=s=this.values(u):i=s=this.value();switch(t.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-o)}this._slide(t,u,s)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));i>n&&(i=n,s=e(this),o=t)}),c.range===!0&&this.values(1)===c.min&&(o+=1,s=e(this.handles[o])),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return this.orientation==="horizontal"?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&n>r||t===1&&n<r)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n,!0))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,n){var r,i,s;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();r=this.options.values,i=arguments[0];for(s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t),t;n=this.options.values.slice();for(r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return Math.abs(n)*2>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=(a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())*100,l[a.orientation==="horizontal"?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&(a.orientation==="horizontal"?(r===0&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(r===0&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?(r-i)/(s-i)*100:0,l[this.orientation==="horizontal"?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),o==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),o==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);i!==undefined&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(!t)return;if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()},"mousedown .ui-spinner-button":function(t){function r(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)});if(this._start(t)===!1)return;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active"))return;if(this._start(t)===!1)return!1;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(e.height()*.5)&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",t,{value:n})!==!1)this._value(n),this.counter++},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=r.min!==null?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){if(!this.spinning)return;clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e)},_setOption:function(e,t){if(e==="culture"||e==="numberFormat"){var n=this._parse(this.element.val());this.options[e]=t,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof t=="string"&&(t=this._parse(t)),this._super(e,t),e==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;e!==""&&(n=this._parse(e),n!==null&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++n}function s(e){return e.hash.length>1&&e.href.replace(r,"")===location.href.replace(r,"").replace(/\s/g,"%20")}var n=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options,r=n.active,i=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(r===null){i&&this.tabs.each(function(t,n){if(e(n).attr("aria-controls")===i)return r=t,!1}),r===null&&(r=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(r===null||r===-1)r=this.tabs.length?0:!1}r!==!1&&(r=this.tabs.index(this.tabs.eq(r)),r===-1&&(r=n.collapsible?!1:0)),n.active=r,!n.collapsible&&n.active===!1&&this.anchors.length&&(n.active=0),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(this._handlePageNav(t))return;switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(r);return;case e.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r);return;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))},_panelKeydown:function(t){if(this._handlePageNav(t))return;t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),t<0&&(t=r),t}var r=this.tabs.length-1;while(e.inArray(i(),this.options.disabled)!==-1)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="disabled"){this._setupDisabled(t);return}this._super(e,t),e==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),!t&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(t),e==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active===!1||!this.anchors.length?(t.active=!1,this.active=e()):this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,o,u,a=e(r).uniqueId().attr("id"),f=e(r).closest("li"),l=f.attr("aria-controls");s(r)?(i=r.hash,o=t.element.find(t._sanitizeSelector(i))):(u=t._tabId(f),i="#"+u,o=t.element.find(i),o.length||(o=t._createPanel(u),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),l&&f.data("ui-tabs-aria-controls",l),f.attr({"aria-controls":i.substring(1),"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n=0,r;r=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(r).addClass("ui-state-disabled").attr("aria-disabled","true"):e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r,i=this.element.parent();t==="fill"?(e.support.minHeight||(r=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");if(r==="absolute"||r==="fixed")return;n-=t.outerHeight(!0)}),r&&i.css("overflow",r),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):t==="auto"&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault();if(s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1)return;n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),!f.length&&!a.length&&e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l)},_toggle:function(t,n){function o(){r.running=!1,r._trigger("activate",t,n)}function u(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,o):(i.show(),o())}var r=this,i=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),u()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),i.length&&s.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);if(r[0]===this.active[0])return;r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n):t.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(n){var r=this.options.disabled;if(r===!1)return;n===t?r=!1:(n=this._getIndex(n),e.isArray(r)?r=e.map(r,function(e){return e!==n?e:null}):r=e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(r)},disable:function(n){var r=this.options.disabled;if(r===!0)return;if(n===t)r=!0;else{n=this._getIndex(n);if(e.inArray(n,r)!==-1)return;e.isArray(r)?r=e.merge([n],r).sort():r=[n]}this._setupDisabled(r)},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),u=this._getPanelForTab(i),a={tab:i,panel:u};if(s(o[0]))return;this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&this.xhr.statusText!=="canceled"&&(i.addClass("ui-tabs-loading"),u.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){u.html(e),r._trigger("load",n,a)},1)}).complete(function(e,t){setTimeout(function(){t==="abort"&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),u.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)}))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.uiBackCompat!==!1&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(n,r){if(e.data(r.tab[0],"cache.tabs")){n.preventDefault();return}r.jqXHR.success(function(){t.options.cache&&e.data(r.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,n,r){var i=this.options.ajaxOptions;return e.extend({},i,{error:function(e,t){try{i.error(e,t,r.tab.closest("li").index(),r.tab[0])}catch(n){}}},this._superApply(arguments))},_setOption:function(e,t){e==="cache"&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target!==this.element[0]||!this.options.spinner)return;var n=t.tab.find("span"),r=n.html();n.html(this.options.spinner),t.jqXHR.complete(function(){n.html(r)})}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var n=this.options,r;if(t&&n.disabled===!0||e.isArray(n.disabled)&&e.inArray(t,n.disabled)!==-1)r=!0;this._superApply(arguments),r&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var n=this.options,r;if(t&&n.disabled===!1||e.isArray(n.disabled)&&e.inArray(t,n.disabled)===-1)r=!0;this._superApply(arguments),r&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(n,r,i){i===t&&(i=this.anchors.length);var s,o,u=this.options,a=e(u.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,r)),f=n.indexOf("#")?this._tabId(a):n.replace("#","");return a.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),a.attr("aria-controls",f),s=i>=this.tabs.length,o=this.element.find("#"+f),o.length||(o=this._createPanel(f),s?i>0?o.insertAfter(this.panels.eq(-1)):o.appendTo(this.element):o.insertBefore(this.panels[i])),o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),s?a.appendTo(this.tablist):a.insertBefore(this.tabs[i]),u.disabled=e.map(u.disabled,function(e){return e>=i?++e:e}),this.refresh(),this.tabs.length===1&&u.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[i],this.panels[i])),this},remove:function(t){t=this._getIndex(t);var n=this.options,r=this.tabs.eq(t).remove(),i=this._getPanelForTab(r).remove();return r.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var n=t.is("li")?t.find("a[href]"):t;return n=n[0],e(n).closest("li").attr("aria-controls")||n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;e.active===null&&e.selected!==t&&(e.active=e.selected===-1?!1:e.selected),this._super(),e.selected=e.active,e.selected===!1&&(e.selected=-1)},_setOption:function(e,t){if(e!=="selected")return this._super(e,t);var n=this.options;this._super("active",t===-1?!1:t),n.selected=n.active,n.selected===!1&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,n){var r,i,s=this._superApply(arguments);return s?(e==="beforeActivate"?(r=n.newTab.length?n.newTab:n.oldTab,i=n.newPanel.length?n.newPanel:n.oldPanel,s=this._super("select",t,{tab:r.find(".ui-tabs-anchor")[0],panel:i[0],index:r.closest("li").index()})):e==="activate"&&n.newTab.length&&(s=this._super("show",t,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),s):!1}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){e=this._getIndex(e);if(e===-1){if(!this.options.collapsible||this.options.selected===-1)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e=this.options,t;e.active==null&&e.cookie&&(t=parseInt(this._cookie(),10),t===-1&&(t=!1),e.active=t),this._super()},_cookie:function(n){var r=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(r.push(n===!1?-1:n),r.push(this.options.cookie)),e.cookie.apply(null,r)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,n,r){var i=e.extend({},r);return t==="load"&&(i.panel=i.panel[0],i.tab=i.tab.find(".ui-tabs-anchor")[0]),this._super(t,n,i)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,n,r=this.options.fx;return r&&(e.isArray(r)?(t=r[0],n=r[1]):t=n=r),r?{show:n,hide:t}:null},_toggle:function(e,t){function o(){n.running=!1,n._trigger("activate",e,t)}function u(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.show?r.animate(s.show,s.show.duration,function(){o()}):(r.show(),o())}var n=this,r=t.newPanel,i=t.oldPanel,s=this._getFx();if(!s)return this._super(e,t);n.running=!0,i.length&&s.hide?i.animate(s.hide,s.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i.hide(),u())}}))}(jQuery),function(e){function n(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))}function r(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);i!==-1&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")}var t=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var r=this;if(t==="disabled"){this[n?"_disable":"_enable"](),this.options[t]=n;return}this._super(t,n),t==="content"&&e.each(this.tooltips,function(e,t){r._updateContent(t)})},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);if(!r.length||r.data("ui-tooltip-id"))return;r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&r.parents().each(function(){var t=e(this),r;t.data("ui-tooltip-open")&&(r=e.Event("blur"),r.target=r.currentTarget=this,n.close(r,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(r,t)},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;if(typeof r=="string")return this._open(t,e,r);n=r.call(e[0],function(n){if(!e.data("ui-tooltip-open"))return;i._delay(function(){t&&(t.type=s),this._open(t,e,n)})}),n&&this._open(t,e,n)},_open:function(t,r,i){function f(e){a.of=e;if(s.is(":hidden"))return;s.position(a)}var s,o,u,a=e.extend({},this.options.position);if(!i)return;s=this._find(r);if(s.length){s.find(".ui-tooltip-content").html(i);return}r.is("[title]")&&(t&&t.type==="mouseover"?r.attr("title",""):r.removeAttr("title")),s=this._tooltip(r),n(r,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:f}),f(t)):s.position(e.extend({of:r},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(u=setInterval(function(){s.is(":visible")&&(f(a.of),clearInterval(u))},e.fx.interval)),this._trigger("open",t,{tooltip:s}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=r[0],this.close(n,!0)}},remove:function(){this._removeTooltip(s)}};if(!t||t.type==="mouseover")o.mouseleave="close";if(!t||t.type==="focusin")o.focusout="close";this._on(!0,r,o)},close:function(t){var n=this,i=e(t?t.currentTarget:this.element),s=this._find(i);if(this.closing)return;i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),r(i),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&e.each(this.parents,function(t,r){e(r.element).attr("title",r.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1},_tooltip:function(n){var r="ui-tooltip-"+t++,i=e("<div>").attr({id:r,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),e.fn.bgiframe&&i.bgiframe(),this.tooltips[r]=n,i},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0),e("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,r="ui-effects-";e.effects={effect:{}},function(t,n){function p(e,t,n){var r=a[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(e){var n=o(),r=n._rgba=[];return e=e.toLowerCase(),h(s,function(t,i){var s,o=i.re.exec(e),a=o&&i.parse(o),f=i.space||"rgba";if(a)return s=n[f](a),n[u[f].cache]=s[u[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&t.extend(r,c.transparent),n):c[e]}function v(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=o.support={},l=t("<p>")[0],c,h=t.each;l.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=l.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(r,i,s,a){if(r===n)return this._rgba=[null,null,null,null],this;if(r.jquery||r.nodeType)r=t(r).css(i),i=n;var f=this,l=t.type(r),v=this._rgba=[];i!==n&&(r=[r,i,s,a],l="array");if(l==="string")return this.parse(d(r)||c._default);if(l==="array")return h(u.rgba.props,function(e,t){v[t.idx]=p(r[t.idx],t)}),this;if(l==="object")return r instanceof o?h(u,function(e,t){r[t.cache]&&(f[t.cache]=r[t.cache].slice())}):h(u,function(t,n){var i=n.cache;h(n.props,function(e,t){if(!f[i]&&n.to){if(e==="alpha"||r[e]==null)return;f[i]=n.to(f._rgba)}f[i][t.idx]=p(r[e],t,!0)}),f[i]&&e.inArray(null,f[i].slice(0,3))<0&&(f[i][3]=1,n.from&&(f._rgba=n.from(f[i])))}),this},is:function(e){var t=o(e),n=!0,r=this;return h(u,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],h(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return h(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=u[r],s=this.alpha()===0?o("transparent"):this,f=s[i.cache]||i.to(s._rgba),l=f.slice();return n=n[i.cache],h(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],u=a[r.type]||{};if(o===null)return;s===null?l[i]=o:(u.mod&&(o-s>u.mod/2?s+=u.mod:s-o>u.mod/2&&(s-=u.mod)),l[i]=p((o-s)*t+s,r))}),this[r](l)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=o(e)._rgba;return o(t.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+t.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,u.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,f===0||f===1?c=f:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},u.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(v(o,s,t+1/3)*255),Math.round(v(o,s,t)*255),Math.round(v(o,s,t-1/3)*255),i]},h(u,function(e,r){var s=r.props,u=r.cache,a=r.to,f=r.from;o.fn[e]=function(e){a&&!this[u]&&(this[u]=a(this._rgba));if(e===n)return this[u].slice();var r,i=t.type(e),l=i==="array"||i==="object"?e:arguments,c=this[u].slice();return h(s,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=c[t.idx]),c[t.idx]=p(n,t)}),f?(r=o(f(c)),r[u]=c,r):o(c)},h(s,function(n,r){if(o.fn[n])return;o.fn[n]=function(s){var o=t.type(s),u=n==="alpha"?this._hsla?"hsla":"rgba":e,a=this[u](),f=a[r.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=t.type(s)),s==null&&r.empty?this:(o==="string"&&(l=i.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[r.idx]=s,this[u](a)))}})}),h(r,function(e,n){t.cssHooks[n]={set:function(e,r){var i,s,u="";if(t.type(r)!=="string"||(i=d(r))){r=o(i||r);if(!f.rgba&&r._rgba[3]!==1){s=n==="backgroundColor"?e.parentNode:e;while((u===""||u==="transparent")&&s&&s.style)try{u=t.css(s,"backgroundColor"),s=s.parentNode}catch(a){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},c=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={},r,i;if(t&&t.length&&t[0]&&t[t[0]]){i=t.length;while(i--)r=t[i],typeof t[r]=="string"&&(n[e.camelCase(r)]=t[r])}else for(r in t)typeof t[r]=="string"&&(n[r]=t[r]);return n}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").andSelf():r;f=f.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i.call(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=jQuery.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function i(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function s(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?n&&e.effects[t]?!1:!0:!1}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,n){var i,s;for(s=0;s<n.length;s++)n[s]!==null&&(i=e.data(r+n[s]),i===t&&(i=""),e.css(n[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function a(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,s=t.mode;(r.is(":hidden")?s==="hide":s==="show")?u():o.call(r[0],t,u)}var t=i.apply(this,arguments),r=t.mode,s=t.queue,o=e.effects.effect[t.effect],u=!o&&n&&e.effects[t.effect];return e.fx.off||!o&&!u?r?this[r](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):o?s===!1?this.each(a):this.queue(s||"fx",a):u.call(this,{options:t,duration:t.duration,callback:t.complete,mode:t.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery),function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=s==="hide",u=s==="show",a=t.direction||"up",f=t.distance,l=t.times||5,c=l*2+(u||o?1:0),h=t.duration/c,p=t.easing,d=a==="up"||a==="down"?"top":"left",v=a==="up"||a==="left",m,g,y,b=r.queue(),w=b.length;(u||o)&&i.push("opacity"),e.effects.save(r,i),r.show(),e.effects.createWrapper(r),f||(f=r[d==="top"?"outerHeight":"outerWidth"]()/3),u&&(y={opacity:1},y[d]=0,r.css("opacity",0).css(d,v?-f*2:f*2).animate(y,h,p)),o&&(f/=Math.pow(2,l-1)),y={},y[d]=0;for(m=0;m<l;m++)g={},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p).animate(y,h,p),f=o?f*2:f/2;o&&(g={opacity:0},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p)),r.queue(function(){o&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,c+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"vertical",a=u==="vertical",f=a?"height":"width",l=a?"top":"left",c={},h,p,d;e.effects.save(r,i),r.show(),h=e.effects.createWrapper(r).css({overflow:"hidden"}),p=r[0].tagName==="IMG"?h:r,d=p[f](),o&&(p.css(f,0),p.css(l,d/2)),c[f]=o?d:0,c[l]=o?0:d/2,p.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o||r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,n){var r=e(this),i=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left"?"pos":"neg",l={opacity:o?1:0},c;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),c=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(a,f==="pos"?-c:c),l[a]=(o?f==="pos"?"+=":"-=":f==="pos"?"-=":"+=")+c,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,n){function y(){c.push(this),c.length===r*i&&b()}function b(){s.css({visibility:"visible"}),e(c).remove(),u||s.hide(),n()}var r=t.pieces?Math.round(Math.sqrt(t.pieces)):3,i=r,s=e(this),o=e.effects.setMode(s,t.mode||"hide"),u=o==="show",a=s.show().css("visibility","hidden").offset(),f=Math.ceil(s.outerWidth()/i),l=Math.ceil(s.outerHeight()/r),c=[],h,p,d,v,m,g;for(h=0;h<r;h++){v=a.top+h*l,g=h-(r-1)/2;for(p=0;p<i;p++)d=a.left+p*f,m=p-(i-1)/2,s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-p*f,top:-h*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:l,left:d+(u?m*f:0),top:v+(u?g*l:0),opacity:u?0:1}).animate({left:d+(u?0:m*f),top:v+(u?0:g*l),opacity:u?1:0},t.duration||500,t.easing,y)}}}(jQuery),function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=s==="hide",a=t.size||15,f=/([0-9]+)%/.exec(a),l=!!t.horizFirst,c=o!==l,h=c?["width","height"]:["height","width"],p=t.duration/2,d,v,m={},g={};e.effects.save(r,i),r.show(),d=e.effects.createWrapper(r).css({overflow:"hidden"}),v=c?[d.width(),d.height()]:[d.height(),d.width()],f&&(a=parseInt(f[1],10)/100*v[u?0:1]),o&&d.css(l?{height:0,width:a}:{height:a,width:0}),m[h[0]]=o?v[0]:a,g[h[1]]=o?v[1]:0,d.animate(m,p,t.easing).animate(g,p,t.easing,function(){u&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"show"),s=i==="show",o=i==="hide",u=s||i==="hide",a=(t.times||5)*2+(u?1:0),f=t.duration/a,l=0,c=r.queue(),h=c.length,p;if(s||!r.is(":visible"))r.css("opacity",0).show(),l=1;for(p=1;p<a;p++)r.animate({opacity:l},f,t.easing),l=1-l;r.animate({opacity:l},f,t.easing),r.queue(function(){o&&r.hide(),n()}),h>1&&c.splice.apply(c,[1,0].concat(c.splice(h,a+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",u=t.distance||20,a=t.times||3,f=a*2+1,l=Math.round(t.duration/f),c=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",p={},d={},v={},m,g=r.queue(),y=g.length;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),p[c]=(h?"-=":"+=")+u,d[c]=(h?"+=":"-=")+u*2,v[c]=(h?"-=":"+=")+u*2,r.animate(p,l,t.easing);for(m=1;m<a;m++)r.animate(d,l,t.easing).animate(v,l,t.easing);r.animate(d,l,t.easing).animate(p,l/2,t.easing).queue(function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,f+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),define("jquery.ui",function(){}),function(e){e.datepicker.regional.es={closeText:"Cerrar",prevText:"&#x3c;Ant",nextText:"Sig&#x3e;",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.es)}(jQuery),define("jquery.ui.datepicker-es",function(){}),function(e){e.datepicker.regional.ca={closeText:"Tancar",prevText:"&#x3c;Ant",nextText:"Seg&#x3e;",currentText:"Avui",monthNames:["Gener","Febrer","Mar&ccedil;","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthNamesShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],dayNames:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],dayNamesShort:["Dug","Dln","Dmt","Dmc","Djs","Dvn","Dsb"],dayNamesMin:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.ca)}(jQuery),define("jquery.ui.datepicker-ca",function(){}),function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altSeparator:null,altTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null},$.extend(this._defaults,this.regional[""])}function isEmptyObject(e){var t;for(t in e)if(e.hasOwnProperty(e))return!1;return!0}function extendRemove(e,t){$.extend(e,t);for(var n in t)if(t[n]===null||t[n]===undefined)e[n]=t[n];return e}$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version)return;$.extend($.ui,{timepicker:{version:"1.0.5"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,n){tp_inst._updateDateTime(n),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,n,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),typeof tp_inst._defaults.controlType=="string"?(tp_inst._defaults.controlType=="slider"&&$.fn.slider===undefined&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;if(tp_inst._defaults.timezoneList===null){var timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"];tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(e){return e=="+0000"?"Z":e.substring(0,3)+":"+e.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")}));if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)tp_inst._defaults.minDate=new Date;if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)tp_inst._defaults.maxDate=new Date;return tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){this.inst||(this.inst=$.datepicker._getInst(this.$input[0]));if(t||!this._defaults.timeOnly){var n=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(n,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(i){return!1}return!0}var s=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return s?($.extend(this,s),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,n=this,r="",i="",s={},o={},u=null;if(e.find("div.ui-timepicker-div").length===0&&t.showTimepicker){var a=' style="display:none;"',f='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl>'+'<dt class="ui_tpicker_time_label"'+(t.showTime?"":a)+">"+t.timeText+"</dt>"+'<dd class="ui_tpicker_time"'+(t.showTime?"":a)+"></dd>";for(var l=0,c=this.units.length;l<c;l++){r=this.units[l],i=r.substr(0,1).toUpperCase()+r.substr(1),s[r]=parseInt(t[r+"Max"]-(t[r+"Max"]-t[r+"Min"])%t["step"+i],10),o[r]=0,f+='<dt class="ui_tpicker_'+r+'_label"'+(t["show"+i]?"":a)+">"+t[r+"Text"]+"</dt>"+'<dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(t["show"+i]?"":a)+"></div>";if(t["show"+i]&&t[r+"Grid"]>0){f+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if(r=="hour")for(var h=t[r+"Min"];h<=s[r];h+=parseInt(t[r+"Grid"],10)){o[r]++;var p=t.ampm&&h>12?h-12:h;p<10&&(p="0"+p),t.ampm&&(h===0?p="12a":h<12?p+="a":p+="p"),f+='<td data-for="'+r+'">'+p+"</td>"}else for(var d=t[r+"Min"];d<=s[r];d+=parseInt(t[r+"Grid"],10))o[r]++,f+='<td data-for="'+r+'">'+(d<10?"0":"")+d+"</td>";f+="</tr></table></div>"}f+="</dd>"}f+='<dt class="ui_tpicker_timezone_label"'+(t.showTimezone?"":a)+">"+t.timezoneText+"</dt>",f+='<dd class="ui_tpicker_timezone" '+(t.showTimezone?"":a)+"></dd>",f+="</dl></div>";var v=$(f);t.timeOnly===!0&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());for(var l=0,c=n.units.length;l<c;l++)r=n.units[l],i=r.substr(0,1).toUpperCase()+r.substr(1),n[r+"_slider"]=n.control.create(n,v.find(".ui_tpicker_"+r+"_slider"),r,n[r],t[r+"Min"],s[r],t["step"+i]),t["show"+i]&&t[r+"Grid"]>0&&(u=100*o[r]*t[r+"Grid"]/(s[r]-t[r+"Min"]),v.find(".ui_tpicker_"+r+" table").css({width:u+"%",marginLeft:t.isRTL?"0":u/(-2*o[r])+"%",marginRight:t.isRTL?u/(-2*o[r])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var r=$(this),i=r.html(),s=r.data("for");if(s=="hour"&&t.ampm){var o=i.substring(2).toLowerCase(),u=parseInt(i.substring(0,2),10);o=="a"?u==12?i=0:i=u:u==12?i=12:i=u+12}n.control.value(n,n[s+"_slider"],parseInt(i,10)),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/o[r]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val(typeof e=="object"?e.value:e).text(typeof e=="object"?e.label:e)}));if(typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""){var m=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),g=$.timepicker.timeZoneOffsetString(m);g==this.timezone?selectLocalTimeZone(n):this.timezone_select.val(this.timezone)}else typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(t.defaultTimezone):selectLocalTimeZone(n);this.timezone_select.change(function(){n._defaults.useLocalTimezone=!1,n._onTimeChange()});var y=e.find(".ui-datepicker-buttonpane");y.length?y.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time");if(this.inst!==null){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs,E=this._defaults.isRTL;w.isRTL=E,setTimeout(function(){if(v.find(".ui-slider-access").length===0){v.find(".ui-slider:visible").sliderAccess(w);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each(function(){var t=$(this),n=t.outerWidth(),r=t.css(E?"marginRight":"marginLeft").toString().replace("%",""),i=n-e,s=r*i/n+"%",o={width:i,marginRight:0,marginLeft:0};o[E?"marginRight":"marginLeft"]=s,t.css(o)})}},10)}}},_limitMinMaxDateTime:function(e,t){var n=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(!this._defaults.showTimepicker)return;if($.datepicker._get(e,"minDateTime")!==null&&$.datepicker._get(e,"minDateTime")!==undefined&&r){var i=$.datepicker._get(e,"minDateTime"),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=n.hourMin,this.minuteMinOriginal=n.minuteMin,this.secondMinOriginal=n.secondMin,this.millisecMinOriginal=n.millisecMin;e.settings.timeOnly||s.getTime()==r.getTime()?(this._defaults.hourMin=i.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=i.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=i.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=i.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if($.datepicker._get(e,"maxDateTime")!==null&&$.datepicker._get(e,"maxDateTime")!==undefined&&r){var o=$.datepicker._get(e,"maxDateTime"),u=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=n.hourMax,this.minuteMaxOriginal=n.minuteMax,this.secondMaxOriginal=n.secondMax,this.millisecMaxOriginal=n.millisecMax;e.settings.timeOnly||u.getTime()==r.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(t!==undefined&&t===!0){var a=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),f=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),c=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,{min:this._defaults.hourMin,max:a}),this.control.value(this,this.hour_slider,this.hour)),this.minute_slider&&(this.control.options(this,this.minute_slider,{min:this._defaults.minuteMin,max:f}),this.control.value(this,this.minute_slider,this.minute)),this.second_slider&&(this.control.options(this,this.second_slider,{min:this._defaults.secondMin,max:l}),this.control.value(this,this.second_slider,this.second)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,{min:this._defaults.millisecMin,max:c}),this.control.value(this,this.millisec_slider,this.millisec))}},_onTimeChange:function(){var e=this.hour_slider?this.control.value(this,this.hour_slider):!1,t=this.minute_slider?this.control.value(this,this.minute_slider):!1,n=this.second_slider?this.control.value(this,this.second_slider):!1,r=this.millisec_slider?this.control.value(this,this.millisec_slider):!1,i=this.timezone_select?this.timezone_select.val():!1,s=this._defaults;typeof e=="object"&&(e=!1),typeof t=="object"&&(t=!1),typeof n=="object"&&(n=!1),typeof r=="object"&&(r=!1),typeof i=="object"&&(i=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),n!==!1&&(n=parseInt(n,10)),r!==!1&&(r=parseInt(r,10));var o=s[e<12?"amNames":"pmNames"][0],u=e!=this.hour||t!=this.minute||n!=this.second||r!=this.millisec||this.ampm.length>0&&e<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&i!=this.defaultTimezone||this.timezone!==null&&i!=this.timezone;u&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),n!==!1&&(this.second=n),r!==!1&&(this.millisec=r),i!==!1&&(this.timezone=i),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),s.ampm&&(this.ampm=o),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+s.timeSuffix),this.timeDefined=!0,u&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),n=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),i=t!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,t===null?new Date:t,r);var s=this.formattedDate;this._defaults.timeOnly===!0?s=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||i)&&(s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=s;if(!this._defaults.showTimepicker)this.$input.val(this.formattedDate);else if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(s);var o="",u=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,a=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.altFormat?o=$.datepicker.formatDate(this._defaults.altFormat,t===null?new Date:t,r):o=this.formattedDate,o&&(o+=u),this._defaults.altTimeFormat?o+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+a:o+=this.formattedTime+a,this.$altInput.val(o)}else this.$input.val(s);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!=e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(n){$.datepicker.log(n)}}},_controls:{slider:{create:function(e,t,n,r,i,s,o){var u=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:u?r*-1:r,min:u?s*-1:i,max:u?i*-1:s,step:o,slide:function(t,n){e.control.value(e,$(this),u?n.value*-1:n.value),e._onTimeChange()},stop:function(t,n){e._onSelectHandler()}})},options:function(e,t,n,r){if(e._defaults.isRTL){if(typeof n=="string")return n=="min"||n=="max"?r!==undefined?t.slider(n,r*-1):Math.abs(t.slider(n)):t.slider(n);var i=n.min,s=n.max;return n.min=n.max=null,i!==undefined&&(n.max=i*-1),s!==undefined&&(n.min=s*-1),t.slider(n)}return typeof n=="string"&&r!==undefined?t.slider(n,r):t.slider(n)},value:function(e,t,n){return e._defaults.isRTL?n!==undefined?t.slider("value",n*-1):Math.abs(t.slider("value")):n!==undefined?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,n,r,i,s,o){var u='<select class="ui-timepicker-select" data-unit="'+n+'" data-min="'+i+'" data-max="'+s+'" data-step="'+o+'">',a=e._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",f=0;for(var l=i;l<=s;l+=o)u+='<option value="'+l+'"'+(l==r?" selected":"")+">",n=="hour"&&e._defaults.ampm?(f=l%12,l===0||l===12?u+="12":f<10?u+="0"+f.toString():u+=f,u+=" "+(l<12?e._defaults.amNames[0]:e._defaults.pmNames[0])[a]()):n=="millisec"||l>=10?u+=l:u+="0"+l.toString(),u+="</option>";return u+="</select>",t.children("select").remove(),$(u).appendTo(t).change(function(t){e._onTimeChange(),e._onSelectHandler()}),t},options:function(e,t,n,r){var i={},s=t.children("select");if(typeof n=="string"){if(r===undefined)return s.data(n);i[n]=r}else i=n;return e.control.create(e,t,s.data("unit"),s.val(),i.min||s.data("min"),i.max||s.data("max"),i.step||s.data("step"))},value:function(e,t,n){var r=t.children("select");return n!==undefined?r.val(n):r.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return typeof e=="object"&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return typeof e=="string"?e=="getDate"?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,n,r,i){var s=parseDateTimeInternal(e,t,n,r,i);if(s.timeObj){var o=s.timeObj;s.date.setHours(o.hour,o.minute,o.second,o.millisec)}return s.date},$.datepicker.parseTime=function(e,t,n){var r=function(e,t){var n=[];return e&&$.merge(n,e),t&&$.merge(n,t),n=$.map(n,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+n.join("|")+")?"},i=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),n={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t)for(var r=0;r<t.length;r++)n[t[r].toString().charAt(0)]==-1&&(n[t[r].toString().charAt(0)]=r+1);return n},s=extendRemove(extendRemove({},$.timepicker._defaults),n||{}),o="^"+e.toString().replace(/(hh?|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(e){switch(e.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return r(s.amNames,s.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+s.timeSuffix+"$",u=i(e),a="",f;f=t.match(new RegExp(o,"i"));var l={hour:0,minute:0,second:0,millisec:0};if(f){u.t!==-1&&(f[u.t]===undefined||f[u.t].length===0?(a="",l.ampm=""):(a=$.inArray(f[u.t].toUpperCase(),s.amNames)!==-1?"AM":"PM",l.ampm=s[a=="AM"?"amNames":"pmNames"][0])),u.h!==-1&&(a=="AM"&&f[u.h]=="12"?l.hour=0:a=="PM"&&f[u.h]!="12"?l.hour=parseInt(f[u.h],10)+12:l.hour=Number(f[u.h])),u.m!==-1&&(l.minute=Number(f[u.m])),u.s!==-1&&(l.second=Number(f[u.s])),u.l!==-1&&(l.millisec=Number(f[u.l]));if(u.z!==-1&&f[u.z]!==undefined){var c=f[u.z].toUpperCase();switch(c.length){case 1:c=s.timezoneIso8601?"Z":"+0000";break;case 5:s.timezoneIso8601&&(c=c.substring(1)=="0000"?"Z":c.substring(0,3)+":"+c.substring(3));break;case 6:s.timezoneIso8601?c.substring(1)=="00:00"&&(c="Z"):c=c=="Z"||c.substring(1)=="00:00"?"+0000":c.replace(/:/,"")}l.timezone=c}return l}return!1},$.datepicker.formatTime=function(e,t,n){n=n||{},n=$.extend({},$.timepicker._defaults,n),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var r=e,i=n.amNames[0],s=parseInt(t.hour,10);return n.ampm&&(s>11&&(i=n.pmNames[0],s>12&&(s%=12)),s===0&&(s=12)),r=r.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(e){switch(e.toLowerCase()){case"hh":return("0"+s).slice(-2);case"h":return s;case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone===null?n.defaultTimezone:t.timezone;case"t":case"tt":if(n.ampm)return e.length==1&&(i=i.charAt(0)),e.charAt(0)==="T"?i.toUpperCase():i.toLowerCase();return"";default:return e.replace(/\'/g,"")||"'"}}),r=$.trim(r),r},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var n=this._getInst($(e)[0]),r=this._get(n,"timepicker");r?(r._limitMinMaxDateTime(n,!0),n.inline=n.stay_open=!0,this._base_selectDate(e,t),n.inline=n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t)return;if(typeof e.stay_open!="boolean"||e.stay_open===!1){this._base_updateDatepicker(e);var n=this._get(e,"timepicker");if(n){n._addTimePicker(e);if(n._defaults.useLocalTimezone){var r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,12);selectLocalTimeZone(n,r),n._onTimeChange()}}}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&$.datepicker._get(t,"constrainInput")){var r=n._defaults.ampm,i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),s=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+n._defaults.separator+n._defaults.timeSuffix+(n._defaults.showTimezone?n._defaults.timezoneList.join(""):"")+n._defaults.amNames.join("")+n._defaults.pmNames.join("")+i,o=String.fromCharCode(e.charCode===undefined?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!i||s.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var n=t._defaults.altField;if(n){var r=t._defaults.altFormat||t._defaults.dateFormat,i=this._getDate(e),s=$.datepicker._getFormatConfig(e),o="",u=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,a=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,f=t._defaults.altTimeFormat!==undefined?t._defaults.altTimeFormat:t._defaults.timeFormat;o+=$.datepicker.formatTime(f,t,t._defaults)+a,!t._defaults.timeOnly&&!t._defaults.altFieldTimeOnly&&(t._defaults.altFormat?o=$.datepicker.formatDate(t._defaults.altFormat,i===null?new Date:i,s)+u+o:o=t.formattedDate+u+o),$(n).val(o)}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&n._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(r){$.datepicker.log(r)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),n=t.dpDiv;this._base_gotoToday(e);var r=this._get(t,"timepicker");selectLocalTimeZone(r);var i=new Date;this._setTime(t,i),$(".ui-datepicker-today",n).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t)return;var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!1,n._updateDateTime(t))},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t)return;var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!0,n._addTimePicker(t),n._updateDateTime(t))},$.datepicker._setTime=function(e,t){var n=this._get(e,"timepicker");if(n){var r=n._defaults;n.hour=t?t.getHours():r.hour,n.minute=t?t.getMinutes():r.minute,n.second=t?t.getSeconds():r.second,n.millisec=t?t.getMilliseconds():r.millisec,n._limitMinMaxDateTime(e,!0),n._onTimeChange(),n._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,n){var r=this._getInst(e);if(!r)return;var i=this._get(r,"timepicker");if(i){this._setDateFromField(r);var s;t&&(typeof t=="string"?(i._parseTime(t,n),s=new Date,s.setHours(i.hour,i.minute,i.second,i.millisec)):s=new Date(t.getTime()),s.toString()=="Invalid Date"&&(s=undefined),this._setTime(r,s))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e);if(!n)return;var r=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e);if(!n)return;var r=this._get(n,"timepicker");if(r){n.lastVal===undefined&&this._setDateFromField(n,t);var i=this._getDate(n);return i&&r._parseTime($(e).val(),r.timeOnly)&&i.setHours(r.hour,r.minute,r.second,r.millisec),i}return this._base_getDateDatepicker(e,t)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,n){var r;try{r=this._base_parseDate(e,t,n)}catch(i){r=this._base_parseDate(e,t.substring(0,t.length-(i.length-i.indexOf(":")-2)),n)}return r},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,n,r){var i=this._get(e,"timepicker");return i?(i._updateDateTime(e),i.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,n){var r=this._getInst(e),i;if(!r)return null;var s=this._get(r,"timepicker");if(s){var o=null,u=null,a=null,f=s._defaults.evnts,l={},c;if(typeof t=="string"){if(t==="minDate"||t==="minDateTime")o=n;else if(t==="maxDate"||t==="maxDateTime")u=n;else if(t==="onSelect")a=n;else if(f.hasOwnProperty(t)){if(typeof n=="undefined")return f[t];l[t]=n,i={}}}else if(typeof t=="object"){t.minDate?o=t.minDate:t.minDateTime?o=t.minDateTime:t.maxDate?u=t.maxDate:t.maxDateTime&&(u=t.maxDateTime);for(c in f)f.hasOwnProperty(c)&&t[c]&&(l[c]=t[c])}for(c in l)l.hasOwnProperty(c)&&(f[c]=l[c],i||(i=$.extend({},t)),delete i[c]);if(i&&isEmptyObject(i))return;o?(o===0?o=new Date:o=new Date(o),s._defaults.minDate=o,s._defaults.minDateTime=o):u?(u===0?u=new Date:u=new Date(u),s._defaults.maxDate=u,s._defaults.maxDateTime=u):a&&(s._defaults.onSelect=a)}return n===undefined?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,i||t,n)};var splitDateTime=function(e,t,n,r){try{var i=r&&r.separator?r.separator:$.timepicker._defaults.separator,s=r&&r.timeFormat?r.timeFormat:$.timepicker._defaults.timeFormat,o=r&&r.ampm?r.ampm:$.timepicker._defaults.ampm,u=s.split(i),a=u.length,f=t.split(i),l=f.length;o||(u=$.trim(s.replace(/t/gi,"")).split(i),a=u.length);if(l>1)return[f.splice(0,l-a).join(i),f.splice(0,a).join(i)]}catch(c){if(c.indexOf(":")>=0){var h=t.length-(c.length-c.indexOf(":")-2),p=t.substring(h);return[$.trim(t.substring(0,h)),$.trim(t.substring(h))]}throw c}return[t,""]},parseDateTimeInternal=function(e,t,n,r,i){var s,o=splitDateTime(e,n,r,i);s=$.datepicker._base_parseDate(e,o[0],r);if(o[1]!==""){var u=o[1],a=$.datepicker.parseTime(t,u,i);if(a===null)throw"Wrong time format";return{date:s,timeObj:a}}return{date:s}},selectLocalTimeZone=function(e,t){if(e&&e.timezone_select){e._defaults.useLocalTimezone=!0;var n=typeof t!="undefined"?t:new Date,r=$.timepicker.timeZoneOffsetString(n);e._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),e.timezone_select.val(r)}};$.timepicker=new Timepicker,$.timepicker.timeZoneOffsetString=function(e){var t=e.getTimezoneOffset()*-1,n=t%60,r=(t-n)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).substr(-2)+("0"+(n*101).toString()).substr(-2)},$.timepicker.timeRange=function(e,t,n){return $.timepicker.handleRange("timepicker",e,t,n)},$.timepicker.dateTimeRange=function(e,t,n){$.timepicker.dateRange(e,t,n,"datetimepicker")},$.timepicker.dateRange=function(e,t,n,r){r=r||"datepicker",$.timepicker.handleRange(r,e,t,n)},$.timepicker.handleRange=function(e,t,n,r){function i(e,r,i){r.val()&&new Date(t.val())>new Date(n.val())&&r.val(i)}function s(t,n,r){if(!$(t).val())return;var i=$(t)[e].call($(t),"getDate");i.getTime&&$(n)[e].call($(n),"option",r,i)}return $.fn[e].call(t,$.extend({onClose:function(e,t){i(this,n,e)},onSelect:function(e){s(this,n,"minDate")}},r,r.start)),$.fn[e].call(n,$.extend({onClose:function(e,n){i(this,t,e)},onSelect:function(e){s(this,t,"maxDate")}},r,r.end)),e!="timepicker"&&r.reformat&&$([t,n]).each(function(){var t=$(this)[e].call($(this),"option","dateFormat"),n=new Date($(this).val());$(this).val()&&n&&$(this).val($.datepicker.formatDate(t,n))}),i(t,n,t.val()),s(t,n,"minDate"),s(n,t,"maxDate"),$([t.get(0),n.get(0)])},$.timepicker.version="1.0.5"}(jQuery),define("jquery.ui.timepicker",function(){}),function(e){e.timepicker.regional.es={timeOnlyTitle:"Elegir una hora",timeText:"Hora",hourText:"Horas",minuteText:"Minutos",secondText:"Segundos",millisecText:"Milisegundos",microsecText:"Microsegundos",timezoneText:"Uso horario",currentText:"Hoy",closeText:"Cerrar",timeFormat:"hh:mm tt",amNames:["a.m.","AM","A"],pmNames:["p.m.","PM","P"],isRTL:!1}}(jQuery),define("jquery.ui.timepicker-es",function(){}),function(e){e.timepicker.regional.ca={timeOnlyTitle:"Escollir una hora",timeText:"Hora",hourText:"Hores",minuteText:"Minuts",secondText:"Segons",millisecText:"Milisegons",microsecText:"Microsegons",timezoneText:"Fus horari",currentText:"Ara",closeText:"Tancar",timeFormat:"hh:mm tt",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1}}(jQuery),define("jquery.ui.timepicker-ca",function(){}),function(e,t){function o(t){e.extend(!0,n,t)}function u(n,r,i){function M(e){d?H()&&(z(),q(e)):_()}function _(){v=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),d=e("<div class='fc-content' style='position:relative'/>").prependTo(n),h=new a(o,r),p=h.render(),p&&n.prepend(p),j(r.defaultView),r.handleWindowResize&&e(window).resize(X),B()||D()}function D(){setTimeout(function(){!b.start&&B()&&I()},0)}function P(){b&&(gt("viewDestroy",b,b,b.element),b.triggerEventDestroy()),e(window).unbind("resize",X),h.destroy(),d.remove(),n.removeClass("fc fc-rtl ui-widget")}function H(){return n.is(":visible")}function B(){return e("body").is(":visible")}function j(e){(!b||e!=b.name)&&F(e)}function F(t){T++,b&&(gt("viewDestroy",b,b,b.element),it(),b.triggerEventDestroy(),pt(),b.element.remove(),h.deactivateButton(b.name)),h.activateButton(t),b=new s[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(d),o),I(),dt(),T--}function I(e){(!b.start||e||C<b.start||C>=b.end)&&H()&&q(e)}function q(e){T++,b.start&&(gt("viewDestroy",b,b,b.element),it(),Q()),pt(),b.render(C,e||0),W(),dt(),(b.afterRender||V)(),tt(),nt(),gt("viewRender",b,b,b.element),b.trigger("viewDisplay",l),T--,G()}function R(){H()&&(it(),Q(),z(),W(),K())}function z(){r.contentHeight?E=r.contentHeight:r.height?E=r.height-(p?p.height():0)-U(d):E=Math.round(d.width()/Math.max(r.aspectRatio,.5))}function W(){E===t&&z(),T++,b.setHeight(E),b.setWidth(d.width()),T--,w=n.outerWidth()}function X(){if(!T)if(b.start){var e=++x;setTimeout(function(){e==x&&!T&&H()&&w!=(w=n.outerWidth())&&(T++,R(),b.trigger("windowResize",l),T--)},200)}else D()}function $(){Q(),Y()}function J(e){Q(),K(e)}function K(e){H()&&(b.setEventData(k),b.renderEvents(k,e),b.trigger("eventAfterAllRender"))}function Q(){b.triggerEventDestroy(),b.clearEvents(),b.clearEventData()}function G(){!r.lazyFetching||u(b.visStart,b.visEnd)?Y():K()}function Y(){f(b.visStart,b.visEnd)}function Z(e){k=e,K()}function et(e){J(e)}function tt(){h.updateTitle(b.title)}function nt(){var e=new Date;e>=b.start&&e<b.end?h.disableButton("today"):h.enableButton("today")}function rt(e,n,r){b.select(e,n,r===t?!0:r)}function it(){b&&b.unselect()}function st(){I(-1)}function ot(){I(1)}function ut(){m(C,-1),I()}function at(){m(C,1),I()}function ft(){C=new Date,I()}function lt(e,t,n){e instanceof Date?C=S(e):N(C,e,t,n),I()}function ct(e,n,r){e!==t&&m(C,e),n!==t&&g(C,n),r!==t&&y(C,r),I()}function ht(){return S(C)}function pt(){d.css({width:"100%",height:d.height(),overflow:"hidden"})}function dt(){d.css({width:"",height:"",overflow:""})}function vt(){return b}function mt(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,R()}function gt(e,t){if(r[e])return r[e].apply(t||l,Array.prototype.slice.call(arguments,2))}var o=this;o.options=r,o.render=M,o.destroy=P,o.refetchEvents=$,o.reportEvents=Z,o.reportEventChange=et,o.rerenderEvents=J,o.changeView=j,o.select=rt,o.unselect=it,o.prev=st,o.next=ot,o.prevYear=ut,o.nextYear=at,o.today=ft,o.gotoDate=lt,o.incrementDate=ct,o.formatDate=function(e,t){return A(e,t,r)},o.formatDates=function(e,t,n){return O(e,t,n,r)},o.getDate=ht,o.getView=vt,o.option=mt,o.trigger=gt,c.call(o,r,i);var u=o.isFetchNeeded,f=o.fetchEvents,l=n[0],h,p,d,v,b,w,E,x=0,T=0,C=new Date,k=[],L;N(C,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))L=i,b.dragStart(L,t,n)}}).bind("dragstop",function(e,t){L&&(b.dragStop(L,e,t),L=null)})}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t)return i=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(f("left")).append(f("center")).append(f("right"))),i}function a(){i.remove()}function f(r){var i=e("<td class='fc-header-"+r+"'/>"),u=n.header[r];return u&&e.each(u.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var u;e.each(this.split(","),function(r,a){if(a=="title")i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),u&&u.addClass(o+"-corner-right"),u=null;else{var f;t[a]?f=t[a]:s[a]&&(f=function(){h.removeClass(o+"-state-hover"),t.changeView(a)});if(f){var l=n.theme?Q(n.buttonIcons,a):null,c=Q(n.buttonText,a),h=e("<span class='fc-button fc-button-"+a+" "+o+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){h.hasClass(o+"-state-disabled")||f()}).mousedown(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){h.removeClass(o+"-state-down")}).hover(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){h.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(i);Y(h),u||h.addClass(o+"-corner-left"),u=h}}}),u&&u.addClass(o+"-corner-right")}),i}function l(e){i.find("h2").html(e)}function c(e){i.find("span.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("span.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("span.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("span.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u,r.destroy=a,r.updateTitle=l,r.activateButton=c,r.deactivateButton=h,r.disableButton=p,r.enableButton=d;var i=e([]),o}function c(n,r){function w(e,t){return!p||e<p||t>d}function E(e,t){p=e,d=t,y=[];var n=++v,r=h.length;m=r;for(var i=0;i<r;i++)x(h[i],n)}function x(t,r){T(t,function(i){if(r==v){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;s<i.length;s++)i[s].source=t,H(i[s]);y=y.concat(i)}m--,m||a(y)}})}function T(t,r){var s,o=i.sourceFetchers,u;for(s=0;s<o.length;s++){u=o[s](t,p,d,r);if(u===!0)return;if(typeof u=="object"){T(u,r);return}}var a=t.events;if(a)e.isFunction(a)?(D(),a(S(p),S(d),function(e){r(e),P()})):e.isArray(a)?r(a):r();else{var l=t.url;if(l){var c=t.success,h=t.error,v=t.complete,m;e.isFunction(t.data)?m=t.data():m=t.data;var g=e.extend({},m||{}),y=rt(t.startParam,n.startParam),b=rt(t.endParam,n.endParam);y&&(g[y]=Math.round(+p/1e3)),b&&(g[b]=Math.round(+d/1e3)),D(),e.ajax(e.extend({},f,t,{data:g,success:function(t){t=t||[];var n=nt(c,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){nt(h,this,arguments),r()},complete:function(){nt(v,this,arguments),P()}}))}else r()}}function N(e){e=k(e),e&&(m++,x(e,v))}function k(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return B(t),h.push(t),t}function L(t){h=e.grep(h,function(e){return!j(e,t)}),y=e.grep(y,function(e){return!j(e.source,t)}),a(y)}function A(e){var t,n=y.length,r,i=u().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=y[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),e.end?r.end?r.end=new Date(+r.end+o):r.end=new Date(+i(r)+o):r.end=null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroundColor=e.backgroundColor,r.borderColor=e.borderColor,r.textColor=e.textColor,H(r));H(e),a(y)}function O(e,t){H(e),e.source||(t&&(c.events.push(e),e.source=c),y.push(e)),a(y)}function M(t){if(!t){y=[];for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=[])}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}y=e.grep(y,t,!0);for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=e.grep(h[n].events,t,!0))}a(y)}function _(t){return e.isFunction(t)?e.grep(y,t):t?(t+="",e.grep(y,function(e){return e._id==t})):y}function D(){g++||o("loading",null,!0,u())}function P(){--g||o("loading",null,!1,u())}function H(e){var r=e.source||{},i=rt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+l++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=S(e.start=C(e.start,i)),e.end=C(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?S(e.end):null,e.allDay===t&&(e.allDay=rt(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function B(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];var t=i.sourceNormalizers;for(var n=0;n<t.length;n++)t[n](e)}function j(e,t){return e&&t&&F(e)==F(t)}function F(e){return(typeof e=="object"?e.googleCalendarId||e.events||e.url:"")||e}var s=this;s.isFetchNeeded=w,s.fetchEvents=E,s.addEventSource=N,s.removeEventSource=L,s.updateEvent=A,s.renderEvent=O,s.removeEvents=M,s.clientEvents=_,s.normalizeEvent=H;var o=s.trigger,u=s.getView,a=s.reportEvents,c={events:[]},h=[c],p,d,v=0,m=0,g=0,y=[];for(var b=0;b<r.length;b++)k(r[b])}function m(e,t,n){return e.setFullYear(e.getFullYear()+t),n||E(e),e}function g(e,t,n){if(+e){var r=e.getMonth()+t,i=S(e);i.setDate(1),i.setMonth(r),e.setMonth(r),n||E(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function y(e,t,n){if(+e){var r=e.getDate()+t,i=S(e);i.setHours(9),i.setDate(r),e.setDate(r),n||E(e),b(e,i)}return e}function b(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*d)}function w(e,t){return e.setMinutes(e.getMinutes()+t),e}function E(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function S(e,t){return t?E(new Date(+e)):new Date(+e)}function x(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function T(e,t){return Math.round((S(e,!0)-S(t,!0))/p)}function N(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function C(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),k(e,n)||(e?new Date(e):null)):null}function k(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),b(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3),b(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1,r=new Date(+r+s*60*1e3)}}return r}function L(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,t[3].toLowerCase().charAt(0)=="p"&&(n+=12)),n*60+(t[2]?parseInt(t[2],10):0)}}function A(e,t,n){return O(e,null,t,n)}function O(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++)if(r.charAt(l)=="'"){s&&(l==u+1?h+="'":h+=r.substring(u+1,l),u=l);break}}else if(f=="("){for(l=u+1;l<a;l++)if(r.charAt(l)==")"){var p=A(s,r.substring(u+1,l),i);parseInt(p.replace(/\D/,""),10)&&(h+=p),u=l;break}}else if(f=="["){for(l=u+1;l<a;l++)if(r.charAt(l)=="]"){var d=r.substring(u+1,l),p=A(s,d,i);p!=A(o,d,i)&&(h+=p),u=l;break}}else if(f=="{")s=t,o=e;else if(f=="}")s=e,o=t;else{for(l=a;l>u;l--)if(c=M[r.substring(u,l)]){s&&(h+=c(s,i)),u=l-1;break}l==u&&s&&(h+=f)}}return h}function _(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function D(e){return e.end?P(e.end,e.allDay):y(S(e.start),1)}function P(e,t){return e=S(e),t||e.getHours()||e.getMinutes()?y(e,1):E(e)}function H(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this)o=s,s=s.parentNode;(u=o._fci)!==t&&(o._fci=t,a=r[u],i(a.event,a.element,a),e(n.target).trigger(n)),n.stopPropagation()})}function B(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-F(s,r)))}function j(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-U(s,r)))}function F(e,t){return I(e)+R(e)+(t?q(e):0)}function I(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function q(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function R(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function U(e,t){return z(e)+X(e)+(t?W(e):0)}function z(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function W(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function X(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function V(){}function $(e,t){return e-t}function J(e){return Math.max.apply(Math,e)}function K(e){return(e<10?"0":"")+e}function Q(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function G(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Z(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function et(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+h[t.getDay()])})}function tt(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function nt(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function rt(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function it(e,t){function a(e,t){t&&(g(e,t),e.setDate(1));var a=r("firstDay"),f=S(e,!0);f.setDate(1);var l=g(S(f),1),c=S(f);y(c,-((c.getDay()-a+7)%7)),s(c);var h=S(l);y(h,(7-h.getDay()+a)%7),s(h,-1,!0);var p=o(),d=Math.round(T(h,c)/7);r("weekMode")=="fixed"&&(y(h,(6-d)*7),d=6),n.title=u(f,r("titleFormat")),n.start=f,n.end=l,n.visStart=c,n.visEnd=h,i(d,p,!0)}var n=this;n.render=a,ut.call(n,e,t,"month");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDate}function st(e,t){function a(e,t){t&&y(e,t*7);var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),f=y(S(a),7),l=S(a);s(l);var c=S(f);s(c,-1,!0);var h=o();n.start=a,n.end=f,n.visStart=l,n.visEnd=c,n.title=u(l,y(S(c),-1),r("titleFormat")),i(1,h,!1)}var n=this;n.render=a,ut.call(n,e,t,"basicWeek");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDates}function ot(e,t){function u(e,t){t&&y(e,t),s(e,t<0?-1:1);var u=S(e,!0),a=y(S(u),1);n.title=o(e,r("titleFormat")),n.start=n.visStart=u,n.end=n.visEnd=a,i(1,1,!1)}var n=this;n.render=u,ut.call(n,e,t,"basicDay");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=t.formatDate}function ut(t,n,r){function $(e,t,n){D=e,P=t,H=n,J(),b||K(),Q()}function J(){R=s("theme")?"ui":"fc",z=s("columnFormat"),W=s("weekNumbers"),X=s("weekNumberTitle"),s("weekNumberCalculation")!="iso"?V="w":V="W"}function K(){L=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function Q(){var n=et();v&&v.remove(),v=e(n).appendTo(t),m=v.find("thead"),g=m.find(".fc-day-header"),b=v.find("tbody"),w=b.find("tr"),x=b.find(".fc-day"),T=w.find("td:first-child"),N=w.eq(0).find(".fc-day > div"),C=w.eq(0).find(".fc-day-content > div"),Z(m.add(m.find("tr"))),Z(w),w.eq(0).addClass("fc-first"),w.filter(":last").addClass("fc-last"),x.each(function(t,n){var r=l(Math.floor(t/P),t%P);o("dayRender",i,r,e(n))}),ot(x)}function et(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+tt()+nt()+"</table>";return e}function tt(){var e=R+"-widget-header",t="",n,r;t+="<thead><tr>",W&&(t+="<th class='fc-week-number "+e+"'>"+G(X)+"</th>");for(n=0;n<P;n++)r=l(0,n),t+="<th class='fc-day-header fc-"+h[r.getDay()]+" "+e+"'>"+G(d(r,z))+"</th>";return t+="</tr></thead>",t}function nt(){var e=R+"-widget-content",t="",n,r,i;t+="<tbody>";for(n=0;n<D;n++){t+="<tr class='fc-week'>",W&&(i=l(n,0),t+="<td class='fc-week-number "+e+"'>"+"<div>"+G(d(i,V))+"</div>"+"</td>");for(r=0;r<P;r++)i=l(n,r),t+=rt(i);t+="</tr>"}return t+="</tbody>",t}function rt(e){var t=R+"-widget-content",n=i.start.getMonth(),r=E(new Date),s="",o=["fc-day","fc-"+h[e.getDay()],t];return e.getMonth()!=n&&o.push("fc-other-month"),+e==+r?o.push("fc-today",R+"-state-highlight"):e<r?o.push("fc-past"):o.push("fc-future"),s+="<td class='"+o.join(" ")+"'"+" data-date='"+d(e,"yyyy-MM-dd")+"'"+">"+"<div>",H&&(s+="<div class='fc-day-number'>"+e.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",s}function it(t){O=t;var n=O-m.height(),r,i,o;s("weekMode")=="variable"?r=i=Math.floor(n/(D==1?2:6)):(r=Math.floor(n/D),i=n-r*(D-1)),T.each(function(t,n){t<D&&(o=e(n),o.find("> div").css("min-height",(t==D-1?i:r)-U(o)))})}function st(e){A=e,I.clear(),q.clear(),_=0,W&&(_=m.find("th.fc-week-number").outerWidth()),M=Math.floor((A-_)/P),B(g.slice(0,-1),M)}function ot(e){e.click(ut).mousedown(f)}function ut(t){if(!s("selectable")){var n=k(e(this).data("date"));o("dayClick",this,n,!0,t)}}function ft(e,t,n){n&&j.build();var r=p(e,t);for(var i=0;i<r.length;i++){var s=r[i];ot(lt(s.row,s.leftCol,s.row,s.rightCol))}}function lt(e,n,r,i){var s=j.rect(e,n,r,i,t);return u(s,t)}function ct(e,t){return S(e)}function ht(e,t,n){ft(e,y(S(t),1),!0)}function pt(){a()}function dt(e,t,n){var r=c(e),i=x[r.row*P+r.col];o("dayClick",i,e,t,n)}function vt(e,t,n){F.start(function(e){a(),e&&lt(e.row,e.col,e.row,e.col)},t)}function mt(e,t,n){var r=F.stop();a();if(r){var i=l(r);o("drop",e,i,!0,t,n)}}function gt(e){return S(e.start)}function yt(e){return I.left(e)}function bt(e){return I.right(e)}function wt(e){return q.left(e)}function Et(e){return q.right(e)}function St(e){return w.eq(e)}var i=this;i.renderBasic=$,i.setHeight=it,i.setWidth=st,i.renderDayOverlay=ft,i.defaultSelectionEnd=ct,i.renderSelection=ht,i.clearSelection=pt,i.reportDayClick=dt,i.dragStart=vt,i.dragStop=mt,i.defaultEventEnd=gt,i.getHoverListener=function(){return F},i.colLeft=yt,i.colRight=bt,i.colContentLeft=wt,i.colContentRight=Et,i.getIsCellAllDay=function(){return!0},i.allDayRow=St,i.getRowCnt=function(){return D},i.getColCnt=function(){return P},i.getColWidth=function(){return M},i.getDaySegmentContainer=function(){return L},xt.call(i,t,n,r),At.call(i),Lt.call(i),at.call(i);var s=i.opt,o=i.trigger,u=i.renderOverlay,a=i.clearOverlays,f=i.daySelectionMousedown,l=i.cellToDate,c=i.dateToCell,p=i.rangeToSegments,d=n.formatDate,v,m,g,b,w,x,T,N,C,L,A,O,M,_,D,P,H,j,F,I,q,R,z,W,X,V;Y(t.addClass("fc-grid")),j=new Ot(function(t,n){var r,i,s;g.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),w.each(function(n,o){n<D&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),F=new Mt(j),I=new Dt(function(e){return N.eq(e)}),q=new Dt(function(e){return C.eq(e)})}function at(){function t(t,n){e.renderDayEvents(t,n)}function n(){e.getDaySegmentContainer().empty()}var e=this;e.renderEvents=t,e.clearEvents=n,Tt.call(e)}function ft(e,t){function a(e,t){t&&y(e,t*7);var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),f=y(S(a),7),l=S(a);s(l);var c=S(f);s(c,-1,!0);var h=o();n.title=u(l,y(S(c),-1),r("titleFormat")),n.start=a,n.end=f,n.visStart=l,n.visEnd=c,i(h)}var n=this;n.render=a,ct.call(n,e,t,"agendaWeek");var r=n.opt,i=n.renderAgenda,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDates}function lt(e,t){function u(e,t){t&&y(e,t),s(e,t<0?-1:1);var u=S(e,!0),a=y(S(u),1);n.title=o(e,r("titleFormat")),n.start=n.visStart=u,n.end=n.visEnd=a,i(1)}var n=this;n.render=u,ct.call(n,e,t,"agendaDay");var r=n.opt,i=n.renderAgenda,s=n.skipHiddenDays,o=t.formatDate}function ct(n,r,i){function Et(e){st=e,St(),T?Nt():Tt()}function St(){pt=o("theme")?"ui":"fc",dt=o("isRTL"),vt=L(o("minTime")),mt=L(o("maxTime")),gt=o("columnFormat"),yt=o("weekNumbers"),bt=o("weekNumberTitle"),o("weekNumberCalculation")!="iso"?wt="w":wt="W",nt=o("snapMinutes")||o("slotMinutes")}function Tt(){var t=pt+"-widget-header",r=pt+"-widget-content",i,s,u,a,f,l=o("slotMinutes")%15==0;Nt(),P=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),o("allDaySlot")?(H=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(P),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+o("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",F=e(i).appendTo(P),I=F.find("tr"),Ft(I.find("td")),P.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):H=e([]),q=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(P),R=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(q),z=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",s=x(),a=w(S(s),mt),w(s,vt),ot=0;for(u=0;s<a;u++)f=s.getMinutes(),i+="<tr class='fc-slot"+u+" "+(f?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!l||!f?b(s,o("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",w(s,o("slotMinutes")),ot++;i+="</tbody></table>",W=e(i).appendTo(R),It(W.find("td"))}function Nt(){var t=Ct();T&&T.remove(),T=e(t).appendTo(n),N=T.find("thead"),C=N.find("th").slice(1,-1),k=T.find("tbody"),A=k.find("td").slice(0,-1),O=A.find("> div"),M=A.find(".fc-day-content > div"),_=A.eq(0),D=O.eq(0),Z(N.add(N.find("tr"))),Z(k.add(k.find("tr")))}function Ct(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+kt()+_t()+"</table>";return e}function kt(){var e=pt+"-widget-header",t,n="",r,i;n+="<thead><tr>",yt?(t=v(0,0),r=b(t,wt),dt?r+=bt:r=bt+r,n+="<th class='fc-agenda-axis fc-week-number "+e+"'>"+G(r)+"</th>"):n+="<th class='fc-agenda-axis "+e+"'>&nbsp;</th>";for(i=0;i<st;i++)t=v(0,i),n+="<th class='fc-"+h[t.getDay()]+" fc-col"+i+" "+e+"'>"+G(b(t,gt))+"</th>";return n+="<th class='fc-agenda-gutter "+e+"'>&nbsp;</th>"+"</tr>"+"</thead>",n}function _t(){var e=pt+"-widget-header",t=pt+"-widget-content",n,r=E(new Date),i,s,o,u,a="";a+="<tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;</th>",s="";for(i=0;i<st;i++)n=v(0,i),u=["fc-col"+i,"fc-"+h[n.getDay()],t],+n==+r?u.push(pt+"-state-highlight","fc-today"):n<r?u.push("fc-past"):u.push("fc-future"),o="<td class='"+u.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",s+=o;return a+=s,a+="<td class='fc-agenda-gutter "+t+"'>&nbsp;</td>"+"</tr>"+"</tbody>",a}function Pt(e){e===t&&(e=J),J=e,ct={};var n=k.position().top,r=q.position().top,i=Math.min(e-n,W.height()+r+1);D.height(i-U(_)),P.css("top",n),q.height(i-r-1),tt=W.find("tr:first").height()+1,rt=o("slotMinutes")/nt,it=tt/rt}function Ht(t){V=t,ft.clear(),lt.clear();var n=N.find("th:first");F&&(n=n.add(F.find("th:first"))),n=n.add(W.find("th:first")),K=0,B(n.width("").each(function(t,n){K=Math.max(K,e(n).outerWidth())}),K);var r=T.find(".fc-agenda-gutter");F&&(r=r.add(F.find("th.fc-agenda-gutter")));var i=q[0].clientWidth;et=q.width()-i,et?(B(r,et),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),Q=Math.floor((i-K)/st),B(C.slice(0,-1),Q)}function Bt(){function r(){q.scrollTop(n)}var e=x(),t=S(e);t.setHours(o("firstHour"));var n=Qt(e,t)+1;r(),setTimeout(r,0)}function jt(){Bt()}function Ft(e){e.click(qt).mousedown(p)}function It(e){e.click(qt).mousedown(rn)}function qt(e){if(!o("selectable")){var t=Math.min(st-1,Math.floor((e.pageX-T.offset().left-K)/Q)),n=v(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+vt),u("dayClick",A[t],n,!1,e)}else u("dayClick",A[t],n,!0,e)}}function Rt(e,t,n){n&&ut.build();var r=g(e,t);for(var i=0;i<r.length;i++){var s=r[i];Ft(Ut(s.row,s.leftCol,s.row,s.rightCol))}}function Ut(e,t,n,r){var i=ut.rect(e,t,n,r,P);return a(i,P)}function zt(e,t){for(var n=0;n<st;n++){var r=v(0,n),i=y(S(r),1),s=new Date(Math.max(r,e)),o=new Date(Math.min(i,t));if(s<o){var u=ut.rect(0,n,0,n,R),f=Qt(r,s),l=Qt(r,o);u.top=f,u.height=l-f,It(a(u,R))}}}function Wt(e){return ft.left(e)}function Xt(e){return lt.left(e)}function Vt(e){return ft.right(e)}function $t(e){return lt.right(e)}function Jt(e){return o("allDaySlot")&&!e.row}function Kt(e){var t=v(0,e.col),n=e.row;return o("allDaySlot")&&n--,n>=0&&w(t,vt+n*nt),t}function Qt(e,n){e=S(e,!0);if(n<w(S(e),vt))return 0;if(n>=w(S(e),mt))return W.height();var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-vt,s=Math.floor(i/r),u=ct[s];return u===t&&(u=ct[s]=W.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(u-1+tt*(i%r/r)))}function Gt(e){return I}function Yt(e){var t=S(e.start);return e.allDay?t:w(t,o("defaultEventMinutes"))}function Zt(e,t){return t?S(e):w(S(e),o("slotMinutes"))}function en(e,t,n){n?o("allDaySlot")&&Rt(e,y(S(t),1),!0):tn(e,t)}function tn(t,n){var r=o("selectHelper");ut.build();if(r){var i=m(t).col;if(i>=0&&i<st){var s=ut.rect(0,i,0,i,R),u=Qt(t,t),a=Qt(t,n);if(a>u){s.top=u,s.height=a-u,s.left+=2,s.width-=5;if(e.isFunction(r)){var f=r(t,n);f&&(s.position="absolute",X=e(f).css(s).appendTo(R))}else s.isStart=!0,s.isEnd=!0,X=e(d({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},s)),X.css("opacity",o("dragOpacity"));X&&(It(X),R.append(X),B(X,s.width,!0),j(X,s.height,!0))}}}else zt(t,n)}function nn(){f(),X&&(X.remove(),X=null)}function rn(t){if(t.which==1&&o("selectable")){c(t);var n;at.start(function(e,t){nn();if(e&&e.col==t.col&&!Jt(e)){var r=Kt(t),i=Kt(e);n=[r,w(S(r),nt),i,w(S(i),nt)].sort($),tn(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){at.stop(),n&&(+n[0]==+n[1]&&sn(n[0],!1,e),l(n[0],n[3],!1,e))})}}function sn(e,t,n){u("dayClick",A[m(e).col],e,t,n)}function on(e,t,n){at.start(function(e){f();if(e)if(Jt(e))Ut(e.row,e.col,e.row,e.col);else{var t=Kt(e),n=w(S(t),o("defaultEventMinutes"));zt(t,n)}},t)}function un(e,t,n){var r=at.stop();f(),r&&u("drop",e,Kt(r),Jt(r),t,n)}var s=this;s.renderAgenda=Et,s.setWidth=Ht,s.setHeight=Pt,s.afterRender=jt,s.defaultEventEnd=Yt,s.timePosition=Qt,s.getIsCellAllDay=Jt,s.allDayRow=Gt,s.getCoordinateGrid=function(){return ut},s.getHoverListener=function(){return at},s.colLeft=Wt,s.colRight=Vt,s.colContentLeft=Xt,s.colContentRight=$t,s.getDaySegmentContainer=function(){return H},s.getSlotSegmentContainer=function(){return z},s.getMinMinute=function(){return vt},s.getMaxMinute=function(){return mt},s.getSlotContainer=function(){return R},s.getRowCnt=function(){return 1},s.getColCnt=function(){return st},s.getColWidth=function(){return Q},s.getSnapHeight=function(){return it},s.getSnapMinutes=function(){return nt},s.defaultSelectionEnd=Zt,s.renderDayOverlay=Rt,s.renderSelection=en,s.clearSelection=nn,s.reportDayClick=sn,s.dragStart=on,s.dragStop=un,xt.call(s,n,r,i),At.call(s),Lt.call(s),ht.call(s);var o=s.opt,u=s.trigger,a=s.renderOverlay,f=s.clearOverlays,l=s.reportSelection,c=s.unselect,p=s.daySelectionMousedown,d=s.slotSegHtml,v=s.cellToDate,m=s.dateToCell,g=s.rangeToSegments,b=r.formatDate,T,N,C,k,A,O,M,_,D,P,H,F,I,q,R,z,W,X,V,J,K,Q,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct={},pt,dt,vt,mt,gt,yt,bt,wt;Y(n.addClass("fc-agenda")),ut=new Ot(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;C.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),o("allDaySlot")&&(r=I,i=r.offset().top,t[0]=[i,i+r.outerHeight()]);var u=R.offset().top,a=q.offset().top,f=a+q.outerHeight();for(var c=0;c<ot*rt;c++)t.push([l(u+it*c),l(u+it*(c+1))])}),at=new Mt(ut),ft=new Dt(function(e){return O.eq(e)}),lt=new Dt(function(e){return M.eq(e)})}function ht(){function V(e,t){var n,i=e.length,s=[],o=[];for(n=0;n<i;n++)e[n].allDay?s.push(e[n]):o.push(e[n]);r("allDaySlot")&&(R(s,t),f()),Y(J(o),t)}function $(){l().empty(),c().empty()}function J(t){var n=N(),r=d(),i=p(),s,o=e.map(t,Q),u,a,f,l,c=[];for(u=0;u<n;u++){s=x(0,u),w(s,r),l=K(t,o,s,w(S(s),i-r)),l=pt(l);for(a=0;a<l.length;a++)f=l[a],f.col=u,c.push(f)}return c}function K(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(l=S(n),h=!1):(l=a,h=!0),f>r?(c=S(r),p=!1):(c=f,p=!0),i.push({event:u,start:l,end:c,isStart:h,isEnd:p}));return i.sort(St)}function Q(e){return e.end?S(e.end):w(S(e.start),r("defaultEventMinutes"))}function Y(n,s){var o,u=n.length,a,f,l,h,p,d,v,g,y,w,S="",x,T,N,C,k,L=c(),A=r("isRTL");for(o=0;o<u;o++)a=n[o],f=a.event,l=m(a.start,a.start),h=m(a.start,a.end),p=b(a.col),d=E(a.col),v=d-p,d-=v*.025,v=d-p,g=v*(a.forwardCoord-a.backwardCoord),r("slotEventOverlap")&&(g=Math.max((g-10)*2,g)),A?(w=d-a.backwardCoord*v,y=w-g):(y=p+a.backwardCoord*v,w=y+g),y=Math.max(y,p),w=Math.min(w,d),g=w-y,a.top=l,a.left=y,a.outerWidth=g,a.outerHeight=h-l,S+=Z(f,a);L[0].innerHTML=S,x=L.children();for(o=0;o<u;o++)a=n[o],f=a.event,T=e(x[o]),N=i("eventRender",f,f,T),N===!1?T.remove():(N&&N!==!0&&(T.remove(),T=e(N).css({position:"absolute",top:a.top,left:a.left}).appendTo(L)),a.element=T,f._id===s?et(f,T,a):T[0]._fci=o,O(f,T));H(L,n,et);for(o=0;o<u;o++){a=n[o];if(T=a.element)a.vsides=U(T,!0),a.hsides=F(T,!0),C=T.find(".fc-event-title"),C.length&&(a.contentTop=C[0].offsetTop)}for(o=0;o<u;o++){a=n[o];if(T=a.element)T[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",k=Math.max(0,a.outerHeight-a.vsides),T[0].style.height=k+"px",f=a.event,a.contentTop!==t&&k-a.contentTop<10&&(T.find("div.fc-event-time").text(W(f.start,r("timeFormat"))+" - "+f.title),T.find("div.fc-event-title").remove()),i("eventAfterRender",f,f,T)}}function Z(e,t){var n="<",i=e.url,u=tt(e,r),a=["fc-event","fc-event-vert"];return s(e)&&a.push("fc-event-draggable"),t.isStart&&a.push("fc-event-start"),t.isEnd&&a.push("fc-event-end"),a=a.concat(e.className),e.source&&(a=a.concat(e.source.className||[])),i?n+="a href='"+G(e.url)+"'":n+="div",n+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+u+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+G(X(e.start,e.end,r("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+G(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&o(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(i?"a":"div")+">",n}function et(e,t,n){var r=t.find("div.fc-event-time");s(e)&&rt(e,t,r),n.isEnd&&o(e)&&it(e,t,r),a(e,t)}function nt(e,t,n){function b(){a||(t.width(o).height("").draggable("option","grid",null),a=!0)}var s=n.isStart,o,u,a=!0,f,l=h(),c=C(),p=k(),m=L(),g=d();t.draggable({opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(n,h){i("eventDragStart",t,e,n,h),_(e,t),o=t.width(),l.start(function(n,i){q();if(n){u=!1;var o=x(0,i.col),l=x(0,n.col);f=T(l,o),n.row?s?a&&(t.width(c-10),j(t,p*Math.round((e.end?(e.end-e.start)/v:r("defaultEventMinutes"))/m)),t.draggable("option","grid",[c,1]),a=!1):u=!0:(I(y(S(e.start),f),y(D(e),f)),b()),u=u||a&&!f}else b(),u=!0;t.draggable("option","revert",u)},n,"drag")},stop:function(n,r){l.stop(),q(),i("eventDragStop",t,e,n,r);if(u)b(),t.css("filter",""),M(e,t);else{var s=0;a||(s=Math.round((t.offset().top-A().offset().top)/p)*m+g-(e.start.getHours()*60+e.start.getMinutes())),P(this,e,f,s,a,n,r)}}})}function rt(e,t,s){function B(){q(),p&&(v?(s.hide(),t.draggable("option","grid",null),I(y(S(e.start),A),y(D(e),A))):(j(O),s.css("display",""),t.draggable("option","grid",[a,f])))}function j(t){var n=w(S(e.start),t),i;e.end&&(i=w(S(e.end),t)),s.text(X(n,i,r("timeFormat")))}var o=n.getCoordinateGrid(),u=N(),a=C(),f=k(),l=L(),c,h,p,d,v,m,b,E,A,O,H;t.draggable({scroll:!1,grid:[a,f],axis:u==1?"y":!1,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(n,r){i("eventDragStart",t,e,n,r),_(e,t),o.build(),c=t.position(),h=o.cell(n.pageX,n.pageY),p=d=!0,v=m=g(h),b=E=0,A=0,O=H=0},drag:function(e,n){var r=o.cell(e.pageX,e.pageY);p=!!r;if(p){v=g(r),b=Math.round((n.position.left-c.left)/a);if(b!=E){var i=x(0,h.col),s=h.col+b;s=Math.max(0,s),s=Math.min(u-1,s);var y=x(0,s);A=T(y,i)}v||(O=Math.round((n.position.top-c.top)/f)*l)}if(p!=d||v!=m||b!=E||O!=H)B(),d=p,m=v,E=b,H=O;t.draggable("option","revert",!p)},stop:function(n,r){q(),i("eventDragStop",t,e,n,r),p&&(v||A||O)?P(this,e,A,v?0:O,v,n,r):(p=!0,v=!1,b=0,A=0,O=0,B(),t.css("filter",""),t.css(c),M(e,t))}})}function it(e,t,n){var s,o,a=k(),f=L();t.resizable({handles:{s:".ui-resizable-handle"},grid:a,start:function(n,r){s=o=0,_(e,t),i("eventResizeStart",this,e,n,r)},resize:function(i,l){s=Math.round((Math.max(a,t.height())-l.originalSize.height)/a),s!=o&&(n.text(X(e.start,!s&&!e.end?null:w(u(e),f*s),r("timeFormat"))),o=s)},stop:function(n,r){i("eventResizeStop",this,e,n,r),s?B(this,e,0,f*s,n,r):M(e,t)}})}var n=this;n.renderEvents=V,n.clearEvents=$,n.slotSegHtml=Z,Tt.call(n);var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.eventElementHandlers,f=n.setHeight,l=n.getDaySegmentContainer,c=n.getSlotSegmentContainer,h=n.getHoverListener,p=n.getMaxMinute,d=n.getMinMinute,m=n.timePosition,g=n.getIsCellAllDay,b=n.colContentLeft,E=n.colContentRight,x=n.cellToDate,N=n.getColCnt,C=n.getColWidth,k=n.getSnapHeight,L=n.getSnapMinutes,A=n.getSlotContainer,O=n.reportEventElement,M=n.showEvents,_=n.hideEvents,P=n.eventDrop,B=n.eventResize,I=n.renderDayOverlay,q=n.clearOverlays,R=n.renderDayEvents,z=n.calendar,W=z.formatDate,X=z.formatDates;n.draggableDayEvent=nt}function pt(e){var t=dt(e),n=t[0],r;vt(t);if(n){for(r=0;r<n.length;r++)mt(n[r]);for(r=0;r<n.length;r++)gt(n[r],0,0)}return yt(t)}function dt(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<t.length;i++)if(!bt(r,t[i]).length)break;(t[i]||(t[i]=[])).push(r)}return t}function vt(e){var t,n,r,i,s;for(t=0;t<e.length;t++){n=e[t];for(r=0;r<n.length;r++){i=n[r],i.forwardSegs=[];for(s=t+1;s<e.length;s++)bt(i,e[s],i.forwardSegs)}}}function mt(e){var n=e.forwardSegs,r=0,i,s;if(e.forwardPressure===t){for(i=0;i<n.length;i++)s=n[i],mt(s),r=Math.max(r,1+s.forwardPressure);e.forwardPressure=r}}function gt(e,n,r){var i=e.forwardSegs,s;if(e.forwardCoord===t){i.length?(i.sort(Et),gt(i[0],n+1,r),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1);for(s=0;s<i.length;s++)gt(i[s],0,e.forwardCoord)}}function yt(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<r.length;i++)t.push(r[i])}return t}function bt(e,t,n){n=n||[];for(var r=0;r<t.length;r++)wt(e,t[r])&&n.push(t[r]);return n}function wt(e,t){return e.end>t.start&&e.start<t.end}function Et(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||St(e,t)}function St(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function xt(n,r,i){function p(t,n){var r=h[t];return e.isPlainObject(r)?Q(r,n||i):r}function d(e,t){return r.trigger.apply(r,[e,t||s].concat(Array.prototype.slice.call(arguments,2),[s]))}function v(e){var t=e.source||{};return rt(e.startEditable,t.startEditable,p("eventStartEditable"),e.editable,t.editable,p("editable"))&&!p("disableDragging")}function m(e){var t=e.source||{};return rt(e.durationEditable,t.durationEditable,p("eventDurationEditable"),e.editable,t.editable,p("editable"))&&!p("disableResizing")}function g(e){f={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],f[r._id]?f[r._id].push(r):f[r._id]=[r]}function b(){f={},l={},c=[]}function E(e){return e.end?S(e.end):o(e)}function x(e,t){c.push({event:e,element:t}),l[e._id]?l[e._id].push(t):l[e._id]=[t]}function N(){e.each(c,function(e,t){s.trigger("eventDestroy",t.event,t.event,t.element)})}function C(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return d("eventClick",this,e,n)}).hover(function(t){d("eventMouseover",this,e,t)},function(t){d("eventMouseout",this,e,t)})}function k(e,t){A(e,t,"show")}function L(e,t){A(e,t,"hide")}function A(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function O(e,t,n,r,i,s,o){var u=t.allDay,l=t._id;_(f[l],n,r,i),d("eventDrop",e,t,n,r,i,function(){_(f[l],-n,-r,u),a(l)},s,o),a(l)}function M(e,t,n,r,i,s){var o=t._id;D(f[o],n,r),d("eventResize",e,t,n,r,function(){D(f[o],-n,-r),a(o)},i,s),a(o)}function _(e,n,r,i){r=r||0;for(var s,o=e.length,a=0;a<o;a++)s=e[a],i!==t&&(s.allDay=i),w(y(s.start,n,!0),r),s.end&&(s.end=w(y(s.end,n,!0),r)),u(s,h)}function D(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=w(y(E(r),t,!0),n),u(r,h)}function q(e){return typeof e=="object"&&(e=e.getDay()),H[e]}function R(){return B}function U(e,t,n){t=t||1;while(H[(e.getDay()+(n?t:0)+7)%7])y(e,t)}function z(){var e=W.apply(null,arguments),t=X(e),n=V(t);return n}function W(e,t){var n=s.getColCnt(),r=I?-1:1,i=I?n-1:0;typeof e=="object"&&(t=e.col,e=e.row);var o=e*n+(t*r+i);return o}function X(e){var t=s.visStart.getDay();return e+=j[t],Math.floor(e/B)*7+F[(e%B+B)%B]-t}function V(e){var t=S(s.visStart);return y(t,e),t}function $(e){var t=J(e),n=K(t),r=G(n);return r}function J(e){return T(e,s.visStart)}function K(e){var t=s.visStart.getDay();return e+=t,Math.floor(e/7)*B+j[(e%7+7)%7]-j[t]}function G(e){var t=s.getColCnt(),n=I?-1:1,r=I?t-1:0,i=Math.floor(e/t),o=(e%t+t)%t*n+r;return{row:i,col:o}}function Y(e,t){var n=s.getRowCnt(),r=s.getColCnt(),i=[],o=J(e),u=J(t),a=K(o),f=K(u)-1;for(var l=0;l<n;l++){var c=l*r,h=c+r-1,p=Math.max(a,c),d=Math.min(f,h);if(p<=d){var v=G(p),m=G(d),g=[v.col,m.col].sort(),y=X(p)==o,b=X(d)+1==u;i.push({row:l,leftCol:g[0],rightCol:g[1],isStart:y,isEnd:b})}}return i}var s=this;s.element=n,s.calendar=r,s.name=i,s.opt=p,s.trigger=d,s.isEventDraggable=v,s.isEventResizable=m,s.setEventData=g,s.clearEventData=b,s.eventEnd=E,s.reportEventElement=x,s.triggerEventDestroy=N,s.eventElementHandlers=C,s.showEvents=k,s.hideEvents=L,s.eventDrop=O,s.eventResize=M;var o=s.defaultEventEnd,u=r.normalizeEvent,a=r.reportEventChange,f={},l={},c=[],h=r.options;s.isHiddenDay=q,s.skipHiddenDays=U,s.getCellsPerWeek=R,s.dateToCell=$,s.dateToDayOffset=J,s.dayOffsetToCellOffset=K,s.cellOffsetToCell=G,s.cellToDate=z,s.cellToCellOffset=W,s.cellOffsetToDayOffset=X,s.dayOffsetToDate=V,s.rangeToSegments=Y;var P=p("hiddenDays")||[],H=[],B,j=[],F=[],I=p("isRTL");(function(){p("weekends")===!1&&P.push(0,6);for(var t=0,n=0;t<7;t++)j[t]=n,H[t]=e.inArray(t,P)!=-1,H[t]||(F[n]=t,n++);B=n;if(!B)throw"invalid hiddenDays"})()}function Tt(){function q(e,t){var n=U(e,!1,!0);Ct(n,function(e,t){u(e.event,t)}),st(n,t),Ct(n,function(e,t){r("eventAfterRender",e.event,e.event,t)})}function R(e,t,n){var r=U([e],!0,!1),i=[];return Ct(r,function(e,r){e.row===t&&r.css("top",n),i.push(r[0])}),i}function U(t,n,r){var i=N(),s=n?e("<div/>"):i,o=z(t),u,a;return X(o),u=V(o),s[0].innerHTML=u,a=s.children(),n&&i.append(a),K(o,a),Ct(o,function(e,t){e.hsides=F(t,!0)}),Ct(o,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),Ct(o,function(e,t){e.outerHeight=t.outerHeight(!0)}),Q(o,r),o}function z(e){var t=[];for(var n=0;n<e.length;n++){var r=W(e[n]);t.push.apply(t,r)}return t}function W(e){var t=e.start,n=D(e),r=M(t,n);for(var i=0;i<r.length;i++)r[i].event=e;return r}function X(e){var t=n("isRTL");for(var r=0;r<e.length;r++){var i=e[r],s=(t?i.isEnd:i.isStart)?w:g,o=(t?i.isStart:i.isEnd)?E:b,u=s(i.leftCol),a=o(i.rightCol);i.left=u,i.outerWidth=a-u}}function V(e){var t="";for(var n=0;n<e.length;n++)t+=$(e[n]);return t}function $(e){var t="",r=n("isRTL"),o=e.event,u=o.url,a=["fc-event","fc-event-hori"];i(o)&&a.push("fc-event-draggable"),e.isStart&&a.push("fc-event-start"),e.isEnd&&a.push("fc-event-end"),a=a.concat(o.className),o.source&&(a=a.concat(o.source.className||[]));var f=tt(o,n);return u?t+="<a href='"+G(u)+"'":t+="<div",t+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+f+"'"+">"+"<div class='fc-event-inner'>",!o.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+G(C(o.start,o.end,n("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+G(o.title||"")+"</span>"+"</div>",e.isEnd&&s(o)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(r?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(u?"a":"div")+">",t}function K(t,n){for(var i=0;i<t.length;i++){var s=t[i],o=s.event,u=n.eq(i),a=r("eventRender",o,o,u);a===!1?u.remove():(a&&a!==!0&&(a=e(a).css({position:"absolute",left:s.left}),u.replaceWith(a),u=a),s.element=u)}}function Q(e,t){var n=Z(e),r=it(),i=[];if(t)for(var s=0;s<r.length;s++)r[s].height(n[s]);for(var s=0;s<r.length;s++)i.push(r[s].position().top);Ct(e,function(e,t){t.css("top",i[e.row]+e.top)})}function Z(e){var t=p(),n=d(),r=[],i=et(e);for(var s=0;s<t;s++){var o=i[s],u=[];for(var a=0;a<n;a++)u.push(0);for(var f=0;f<o.length;f++){var l=o[f];l.top=J(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;a<=l.rightCol;a++)u[a]=l.top+l.outerHeight}r.push(J(u))}return r}function et(e){var t=p(),n=[],r,i,s;for(r=0;r<e.length;r++)i=e[r],s=i.row,i.element&&(n[s]?n[s].push(i):n[s]=[i]);for(s=0;s<t;s++)n[s]=nt(n[s]||[]);return n}function nt(e){var t=[],n=rt(e);for(var r=0;r<n.length;r++)t.push.apply(t,n[r]);return t}function rt(e){e.sort(kt);var t=[];for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<t.length;i++)if(!Nt(r,t[i]))break;t[i]?t[i].push(r):t[i]=[r]}return t}function it(){var e,t=p(),n=[];for(e=0;e<t;e++)n[e]=m(e).find("div.fc-day-content > div");return n}function st(e,t){var n=N();Ct(e,function(e,n,r){var i=e.event;i._id===t?ot(i,n,e):n[0]._fci=r}),H(n,e,ot)}function ot(e,n,r){i(e)&&t.draggableDayEvent(e,n,r),r.isEnd&&s(e)&&t.resizableDayEvent(e,n,r),a(e,n)}function ut(e,t){var i=O(),s;t.draggable({delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(n,o){r("eventDragStart",t,e,n,o),l(e,t),i.start(function(n,r,i,o){t.draggable("option","revert",!n||!i&&!o),L();if(n){var u=_(r),a=_(n);s=T(a,u),k(y(S(e.start),s),y(D(e),s))}else s=0},n,"drag")},stop:function(n,o){i.stop(),L(),r("eventDragStop",t,e,n,o),s?c(this,e,s,0,e.allDay,n,o):(t.css("filter",""),f(e,t))}})}function at(t,i,s){var u=n("isRTL"),a=u?"w":"e",c=i.find(".ui-resizable-"+a),v=!1;Y(i),i.mousedown(function(e){e.preventDefault()}).click(function(e){v&&(e.preventDefault(),e.stopImmediatePropagation())}),c.mousedown(function(n){function x(n){r("eventResizeStop",this,t,n),e("body").css("cursor",""),u.stop(),L(),b&&h(this,t,b,0,n),setTimeout(function(){v=!1},0)}if(n.which!=1)return;v=!0;var u=O(),c=p(),m=d(),g=i.css("top"),b,w,E=e.extend({},t),S=I(j(t.start));A(),e("body").css("cursor",a+"-resize").one("mouseup",x),r("eventResizeStart",this,t,n),u.start(function(n,r){if(n){var i=P(r),u=P(n);u=Math.max(u,S),b=B(u)-B(i);if(b){E.end=y(o(t),b,!0);var c=w;w=R(E,s.row,g),w=e(w),w.find("*").css("cursor",a+"-resize"),c&&c.remove(),l(t)}else w&&(f(t),w.remove(),w=null);L(),k(t.start,y(D(t),b))}},n)})}var t=this;t.renderDayEvents=q,t.draggableDayEvent=ut,t.resizableDayEvent=at;var n=t.opt,r=t.trigger,i=t.isEventDraggable,s=t.isEventResizable,o=t.eventEnd,u=t.reportEventElement,a=t.eventElementHandlers,f=t.showEvents,l=t.hideEvents,c=t.eventDrop,h=t.eventResize,p=t.getRowCnt,d=t.getColCnt,v=t.getColWidth,m=t.allDayRow,g=t.colLeft,b=t.colRight,w=t.colContentLeft,E=t.colContentRight,x=t.dateToCell,N=t.getDaySegmentContainer,C=t.calendar.formatDates,k=t.renderDayOverlay,L=t.clearOverlays,A=t.clearSelection,O=t.getHoverListener,M=t.rangeToSegments,_=t.cellToDate,P=t.cellToCellOffset,B=t.cellOffsetToDayOffset,j=t.dateToDayOffset,I=t.dayOffsetToCellOffset}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function Ct(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.element;i&&t(r,i,n)}}function kt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function Lt(){function a(e,t,n){f(),t||(t=i(e,n)),s(e,t,n),l(e,t,n)}function f(e){u&&(u=!1,o(),r("unselect",null,e))}function l(e,t,n,i){u=!0,r("select",null,e,t,n,i)}function c(r){var i=t.cellToDate,u=t.getIsCellAllDay,a=t.getHoverListener(),c=t.reportDayClick;if(r.which==1&&n("selectable")){f(r);var h=this,p;a.start(function(e,t){o(),e&&u(e)?(p=[i(t),i(e)].sort($),s(p[0],p[1],!0)):p=null},r),e(document).one("mouseup",function(e){a.stop(),p&&(+p[0]==+p[1]&&c(p[0],!0,e),l(p[0],p[1],!0,e))})}}var t=this;t.select=a,t.unselect=f,t.reportSelection=l,t.daySelectionMousedown=c;var n=t.opt,r=t.trigger,i=t.defaultSelectionEnd,s=t.renderSelection,o=t.clearSelection,u=!1;n("selectable")&&n("unselectAuto")&&e(document).mousedown(function(t){var r=n("unselectCancel");if(r&&e(t.target).parents(r).length)return;f(t)})}function At(){function i(t,i){var s=r.shift();return s||(s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),s[0].parentNode!=i[0]&&s.appendTo(i),n.push(s.css(t).show()),s}function s(){var e;while(e=n.shift())r.push(e.hide().unbind())}var t=this;t.renderOverlay=i,t.clearOverlays=s;var n=[],r=[]}function Ot(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function Mt(t){function u(e){_t(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n}var n=this,r,i,s,o;n.start=function(n,a,f){i=n,s=o=null,t.build(),u(a),r=f||"mousemove",e(document).bind(r,u)},n.stop=function(){return e(document).unbind(r,u),o}}function _t(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Dt(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]},n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]},n.clear=function(){r={},i={},s={}}}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},i=e.fullCalendar={version:"1.6.7"},s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1),o;return this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);o===t&&(o=r),i=="destroy"&&e.removeData(this,"fullCalendar")}}),o!==t?o:this}i=i||{};var a=i.eventSources||[];return delete i.eventSources,i.events&&(a.push(i.events),delete i.events),i=e.extend(!0,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i),this.each(function(t,n){var r=e(n),s=new u(r,i,a);r.data("fullCalendar",s),s.render()}),this},i.sourceNormalizers=[],i.sourceFetchers=[];var f={dataType:"json",cache:!1},l=1;i.addDays=y,i.cloneDate=S,i.parseDate=C,i.parseISO8601=k,i.parseTime=L,i.formatDate=A,i.formatDates=O;var h=["sun","mon","tue","wed","thu","fri","sat"],p=864e5,d=36e5,v=6e4,M={s:function(e){return e.getSeconds()},ss:function(e){return K(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return K(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return K(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return K(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return K(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return K(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return A(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return _(e)}};i.dateFormatters=M,i.applyAll=nt,s.month=it,s.basicWeek=st,s.basicDay=ot,o({weekMode:"fixed"}),s.agendaWeek=ft,s.agendaDay=lt,o({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),define("jquery.fullcalendar",function(){}),function(e){function r(r,i){var s=this,o=r.add(s),u=e(window),f,l,h,p=e.tools.expose&&(i.mask||i.expose),d=Math.random().toString().slice(10);p&&(typeof p=="string"&&(p={color:p}),p.closeOnClick=p.closeOnEsc=!1);var v=i.target||r.attr("rel");l=v?e(v):r;if(!l.length)throw"Could not find Overlay: "+v;r&&r.index(l)==-1&&r.click(function(e){return s.load(e),e.preventDefault()}),e.extend(s,{load:function(r){if(s.isOpened())return s;var f=n[i.effect];if(!f)throw'Overlay: cannot find effect : "'+i.effect+'"';i.oneInstance&&e.each(t,function(){this.close(r)}),r=r||e.Event(),r.type="onBeforeLoad",o.trigger(r);if(r.isDefaultPrevented())return s;h=!0,p&&e(l).expose(p);var v=i.top,y=i.left,w=l.outerWidth({margin:!0}),E=l.outerHeight({margin:!0});return typeof v=="string"&&(v=v=="center"?Math.max((u.height()-E)/2,0):parseInt(v,10)/100*u.height()),y=="center"&&(y=Math.max((u.width()-w)/2,0)),f[0].call(s,{top:v,left:y},function(){h&&(r.type="onLoad",o.trigger(r))}),p&&i.closeOnClick&&e.mask.getMask().one("click",s.close),i.closeOnClick&&e(document).bind("click."+d,function(t){e(t.target).parents(l).length||s.close(t)}),i.closeOnEsc&&e(document).bind("keydown."+d,function(e){e.keyCode==27&&s.close(e)}),s},close:function(t){if(!s.isOpened())return s;t=t||e.Event(),t.type="onBeforeClose",o.trigger(t);if(!t.isDefaultPrevented())return h=!1,n[i.effect][1].call(s,function(){t.type="onClose",o.trigger(t)}),e(document).unbind("click."+d).unbind("keydown."+d),p&&e.mask.close(),s},getOverlay:function(){return l},getTrigger:function(){return r},getClosers:function(){return f},isOpened:function(){return h},getConf:function(){return i}}),e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}}),f=l.find(i.close||".close"),!f.length&&!i.close&&(f=e('<a class="close"></a>'),l.prepend(f)),f.click(function(e){s.close(e)}),i.load&&s.load()}e.tools=e.tools||{version:"v1.2.5"},e.tools.overlay={addEffect:function(e,t,r){n[e]=[t,r]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!e.browser.msie||e.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var t=[],n={};e.tools.overlay.addEffect("default",function(t,n){var r=this.getConf(),i=e(window);r.fixed||(t.top+=i.scrollTop(),t.left+=i.scrollLeft()),t.position=r.fixed?"fixed":"absolute",this.getOverlay().css(t).fadeIn(r.speed,n)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)}),e.fn.overlay=function(n){var i=this.data("overlay");return i?i:(e.isFunction(n)&&(n={onBeforeLoad:n}),n=e.extend(!0,{},e.tools.overlay.conf,n),this.each(function(){i=new r(e(this),n),t.push(i),e(this).data("overlay",i)}),n.api?i:this)}}(jQuery),function(e){function r(e){var t=e.offset();return{top:t.top+e.height()/2,left:t.left+e.width()/2}}var t=e.tools.overlay,n=e(window);e.extend(t.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});var i=function(t,i){var s=this.getOverlay(),o=this.getConf(),u=this.getTrigger(),f=this,l=s.outerWidth({margin:!0}),h=s.data("img"),p=o.fixed?"fixed":"absolute";if(!h){var v=s.css("backgroundImage");if(!v)throw"background-image CSS property not set for overlay";v=v.slice(v.indexOf("(")+1,v.indexOf(")")).replace(/\"/g,""),s.css("backgroundImage","none"),h=e('<img src="'+v+'"/>'),h.css({border:0,display:"none"}).width(l),e("body").append(h),s.data("img",h)}var m=o.start.top||Math.round(n.height()/2),g=o.start.left||Math.round(n.width()/2);if(u){var y=r(u);m=y.top,g=y.left}o.fixed?(m-=n.scrollTop(),g-=n.scrollLeft()):(t.top+=n.scrollTop(),t.left+=n.scrollLeft()),h.css({position:"absolute",top:m,left:g,width:0,zIndex:o.zIndex}).show(),t.position=p,s.css(t),h.animate({top:s.css("top"),left:s.css("left"),width:l},o.speed,function(){s.css("zIndex",o.zIndex+1).fadeIn(o.fadeInSpeed,function(){f.isOpened()&&!e(this).index(s)?i.call():s.hide()})}).css("position",p)},s=function(t){var i=this.getOverlay().hide(),s=this.getConf(),o=this.getTrigger(),u=i.data("img"),f={top:s.start.top,left:s.start.left,width:0};o&&e.extend(f,r(o)),s.fixed&&u.css({position:"absolute"}).animate({top:"+="+n.scrollTop(),left:"+="+n.scrollLeft()},0),u.animate(f,s.closeSpeed,t)};t.addEffect("apple",i,s)}(jQuery),function(e){function t(e,t){var n=parseInt(e.css(t),10);if(n)return n;var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function n(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}function i(t,i){var s=this,o=t.add(s),u=t.children(),f=0,l=i.vertical;r||(r=s),u.length>1&&(u=e(i.items,t)),e.extend(s,{getConf:function(){return i},getIndex:function(){return f},getSize:function(){return s.getItems().size()},getNaviButtons:function(){return v.add(m)},getRoot:function(){return t},getItemWrap:function(){return u},getItems:function(){return u.children(i.item).not("."+i.clonedClass)},move:function(e,t){return s.seekTo(f+e,t)},next:function(e){return s.move(1,e)},prev:function(e){return s.move(-1,e)},begin:function(e){return s.seekTo(0,e)},end:function(e){return s.seekTo(s.getSize()-1,e)},focus:function(){return r=s,s},addItem:function(t){return t=e(t),i.circular?(u.children("."+i.clonedClass+":last").before(t),u.children("."+i.clonedClass+":first").replaceWith(t.clone().addClass(i.clonedClass))):u.append(t),o.trigger("onAddItem",[t]),s},seekTo:function(t,n,c){t.jquery||(t*=1);if(i.circular&&t===0&&f==-1&&n!==0)return s;if(!i.circular&&t<0||t>s.getSize()||t<-1)return s;var h=t;t.jquery?t=s.getItems().index(t):h=s.getItems().eq(t);var p=e.Event("onBeforeSeek");if(!c){o.trigger(p,[t,n]);if(p.isDefaultPrevented()||!h.length)return s}var v=l?{top:-h.position().top}:{left:-h.position().left};return f=t,r=s,n===undefined&&(n=i.speed),u.animate(v,n,i.easing,c||function(){o.trigger("onSeek",[t])}),s}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}});if(i.circular){var h=s.getItems().slice(-1).clone().prependTo(u),p=s.getItems().eq(1).clone().appendTo(u);h.add(p).addClass(i.clonedClass),s.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1)return s.seekTo(h,n,function(){s.end(0)}),e.preventDefault();t==s.getSize()&&s.seekTo(p,n,function(){s.begin(0)})}}),s.seekTo(0,0,function(){})}var v=n(t,i.prev).click(function(){s.prev()}),m=n(t,i.next).click(function(){s.next()});!i.circular&&s.getSize()>1&&(s.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(v.toggleClass(i.disabledClass,t<=0),m.toggleClass(i.disabledClass,t>=s.getSize()-1))},1)}),i.initialIndex||v.addClass(i.disabledClass)),i.mousewheel&&e.fn.mousewheel&&t.mousewheel(function(e,t){if(i.mousewheel)return s.move(t<0?1:-1,i.wheelSpeed||50),!1});if(i.touch){var g={};u[0].ontouchstart=function(e){var t=e.touches[0];g.x=t.clientX,g.y=t.clientY},u[0].ontouchmove=function(e){if(e.touches.length==1&&!u.is(":animated")){var t=e.touches[0],n=g.x-t.clientX,r=g.y-t.clientY;s[l&&r>0||!l&&n>0?"next":"prev"](),e.preventDefault()}}}i.keyboard&&e(document).bind("keydown.scrollable",function(t){if(i.keyboard&&!t.altKey&&!t.ctrlKey&&!e(t.target).is(":input")){if(i.keyboard!="static"&&r!=s)return;var n=t.keyCode;if(!(!l||n!=38&&n!=40))return s.move(n==38?-1:1),t.preventDefault();if(!l&&(n==37||n==39))return s.move(n==37?-1:1),t.preventDefault()}}),i.initialIndex&&s.seekTo(i.initialIndex,0,function(){})}e.tools=e.tools||{version:"v1.2.5"},e.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var r;e.fn.scrollable=function(t){var n=this.data("scrollable");return n?n:(t=e.extend({},e.tools.scrollable.conf,t),this.each(function(){n=new i(e(this),t),e(this).data("scrollable",n)}),t.api?n:this)}}(jQuery),function(e){function r(n,r,i){var s=this,o=n.add(this),u=n.find(i.tabs),f=r.jquery?r:n.children(r),l;u.length||(u=n.children()),f.length||(f=n.parent().find(r)),f.length||(f=e(r)),e.extend(this,{click:function(n,r){var f=u.eq(n);typeof n=="string"&&n.replace("#","")&&(f=u.filter("[href*="+n.replace("#","")+"]"),n=Math.max(u.index(f),0));if(i.rotate){var c=u.length-1;if(n<0)return s.click(c,r);if(n>c)return s.click(0,r)}if(!f.length){if(l>=0)return s;n=i.initialIndex,f=u.eq(n)}if(n===l)return s;r=r||e.Event(),r.type="onBeforeClick",o.trigger(r,[n]);if(!r.isDefaultPrevented())return t[i.effect].call(s,n,function(){r.type="onClick",o.trigger(r,[n])}),l=n,u.removeClass(i.current),f.addClass(i.current),s},getConf:function(){return i},getTabs:function(){return u},getPanes:function(){return f},getCurrentPane:function(){return f.eq(l)},getCurrentTab:function(){return u.eq(l)},getIndex:function(){return l},next:function(){return s.click(l+1)},prev:function(){return s.click(l-1)},destroy:function(){return u.unbind(i.event).removeClass(i.current),f.find("a[href^=#]").unbind("click.T"),s}}),e.each("onBeforeClick,onClick".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}}),i.history&&e.fn.history&&(e.tools.history.init(u),i.event="history"),u.each(function(t){e(this).bind(i.event,function(e){return s.click(t,e),e.preventDefault()})}),f.find("a[href^=#]").bind("click.T",function(t){s.click(e(this).attr("href"),t)}),location.hash&&i.tabs=="a"&&n.find("[href="+location.hash+"]").length?s.click(location.hash):(i.initialIndex===0||i.initialIndex>0)&&s.click(i.initialIndex)}e.tools=e.tools||{version:"v1.2.5"},e.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(e,n){t[e]=n}};var t={"default":function(e,t){this.getPanes().hide().eq(e).show(),t.call()},fade:function(e,t){var n=this.getConf(),r=n.fadeOutSpeed,i=this.getPanes();r?i.fadeOut(r):i.hide(),i.eq(e).fadeIn(n.fadeInSpeed,t)},slide:function(e,t){this.getPanes().slideUp(200),this.getPanes().eq(e).slideDown(400,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getTabs().eq(e).attr("href"),t)}},n;e.tools.tabs.addEffect("horizontal",function(t,r){n||(n=this.getPanes().eq(0).width()),this.getCurrentPane().animate({width:0},function(){e(this).hide()}),this.getPanes().eq(t).animate({width:n},function(){e(this).show(),r.call()})}),e.fn.fpTabs=function(t,n){var i=this.data("tabs");return i&&(i.destroy(),this.removeData("tabs")),e.isFunction(n)&&(n={onBeforeClick:n}),n=e.extend({},e.tools.tabs.conf,n),this.each(function(){i=new r(e(this),t,n),e(this).data("tabs",i)}),n.api?i:this}}(jQuery),function(e){function n(){if(e.browser.msie){var t=e(document).height(),n=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t-n<20?n:t]}return[e(document).width(),e(document).height()]}function r(t){if(t)return t.call(e.mask)}e.tools=e.tools||{version:"v1.2.5"};var t;t=e.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var i,s,o,u,a;e.mask={load:function(l,p){if(o)return this;typeof l=="string"&&(l={color:l}),l=l||u,u=l=e.extend(e.extend({},t.conf),l),i=e("#"+l.maskId),i.length||(i=e("<div/>").attr("id",l.maskId),e("body").append(i));var v=n();return i.css({position:"absolute",top:0,left:0,width:v[0],height:v[1],display:"none",opacity:l.startOpacity,zIndex:l.zIndex}),l.color&&i.css("backgroundColor",l.color),r(l.onBeforeLoad)===!1?this:(l.closeOnEsc&&e(document).bind("keydown.mask",function(t){t.keyCode==27&&e.mask.close(t)}),l.closeOnClick&&i.bind("click.mask",function(t){e.mask.close(t)}),e(window).bind("resize.mask",function(){e.mask.fit()}),p&&p.length&&(a=p.eq(0).css("zIndex"),e.each(p,function(){var t=e(this);/relative|absolute|fixed/i.test(t.css("position"))||t.css("position","relative")}),s=p.css({zIndex:Math.max(l.zIndex+1,a=="auto"?0:a)})),i.css({display:"block"}).fadeTo(l.loadSpeed,l.opacity,function(){e.mask.fit(),r(l.onLoad),o="full"}),o=!0,this)},close:function(){if(o){if(r(u.onBeforeClose)===!1)return this;i.fadeOut(u.closeSpeed,function(){r(u.onClose),s&&s.css({zIndex:a}),o=!1}),e(document).unbind("keydown.mask"),i.unbind("click.mask"),e(window).unbind("resize.mask")}return this},fit:function(){if(o){var e=n();i.css({width:e[0],height:e[1]})}},getMask:function(){return i},isLoaded:function(e){return e?o=="full":o},getConf:function(){return u},getExposed:function(){return s}},e.fn.mask=function(t){return e.mask.load(t),this},e.fn.expose=function(t){return e.mask.load(t,this),this}}(jQuery),function(e){function n(t,n,r){var i=r.relative?t.position().top:t.offset().top,s=r.relative?t.position().left:t.offset().left,o=r.position[0];i-=n.outerHeight()-r.offset[0],s+=t.outerWidth()+r.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=e(window).scrollTop());var u=n.outerHeight()+t.outerHeight();o=="center"&&(i+=u/2),o=="bottom"&&(i+=u),o=r.position[1];var f=n.outerWidth()+t.outerWidth();return o=="center"&&(s-=f/2),o=="left"&&(s-=f),{top:i,left:s}}function r(r,i){var s=this,o=r.add(s),u,f=0,l=0,h=r.attr("title"),p=r.attr("data-tooltip"),d=t[i.effect],v,m=r.is(":input"),g=m&&r.is(":checkbox, :radio, select, :button, :submit"),y=r.attr("type"),w=i.events[y]||i.events[m?g?"widget":"input":"def"];if(!d)throw'Nonexistent effect "'+i.effect+'"';w=w.split(/,\s*/);if(w.length!=2)throw"Tooltip: bad events configuration for "+y;r.bind(w[0],function(e){clearTimeout(f),i.predelay?l=setTimeout(function(){s.show(e)},i.predelay):s.show(e)}).bind(w[1],function(e){clearTimeout(l),i.delay?f=setTimeout(function(){s.hide(e)},i.delay):s.hide(e)}),h&&i.cancelDefault&&(r.removeAttr("title"),r.data("title",h)),e.extend(s,{show:function(t){if(!u){p?u=e(p):i.tip?u=e(i.tip).eq(0):h?u=e(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(h):(u=r.next(),u.length||(u=r.parent().next()));if(!u.length)throw"Cannot find tooltip for "+r}if(s.isShown())return s;u.stop(!0,!0);var m=n(r,u,i);i.tip&&u.html(r.data("title")),t=t||e.Event(),t.type="onBeforeShow",o.trigger(t,[m]);if(t.isDefaultPrevented())return s;m=n(r,u,i),u.css({position:"absolute",top:m.top,left:m.left}),v=!0,d[0].call(s,function(){t.type="onShow",v="full",o.trigger(t)});var g=i.events.tooltip.split(/,\s*/);return u.data("__set")||(u.bind(g[0],function(){clearTimeout(f),clearTimeout(l)}),g[1]&&!r.is("input:not(:checkbox, :radio), textarea")&&u.bind(g[1],function(e){e.relatedTarget!=r[0]&&r.trigger(w[1].split(" ")[0])}),u.data("__set",!0)),s},hide:function(n){if(!u||!s.isShown())return s;n=n||e.Event(),n.type="onBeforeHide",o.trigger(n);if(!n.isDefaultPrevented())return v=!1,t[i.effect][1].call(s,function(){n.type="onHide",o.trigger(n)}),s},isShown:function(e){return e?v=="full":v},getConf:function(){return i},getTip:function(){return u},getTrigger:function(){return r}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}})}e.tools=e.tools||{version:"v1.2.5"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,n,r){t[e]=[n,r]}};var t={toggle:[function(e){var t=this.getConf(),n=this.getTip(),r=t.opacity;r<1&&n.css({opacity:r}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};e.fn.tooltip=function(t){var n=this.data("tooltip");return n?n:(t=e.extend(!0,{},e.tools.tooltip.conf,t),typeof t.position=="string"&&(t.position=t.position.split(/,?\s/)),this.each(function(){n=new r(e(this),t),e(this).data("tooltip",n)}),t.api?n:this)}}(jQuery),define("jquery.tools",function(){}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var n=e.data(this[0],"validator");return n?n:(n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){n.cancelSubmit=!0}),n.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){n.submitButton=this}),this.submit(function(t){function r(){if(n.settings.submitHandler){if(n.submitButton)var t=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm);return n.settings.submitHandler.call(n,n.currentForm),n.submitButton&&t.remove(),!1}return!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}var a=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(r),e.validator.classRules(r),e.validator.attributeRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required,a=e.extend({required:f},a)}return a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length==1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!=Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!=Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e){(e.name in this.submitted||e==this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0])}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){e.each(r.split(/\s/),function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",r).validateDelegate(":radio, :checkbox, select, option","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.clean(t),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t);return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name==t.name}).length==1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){return e(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},check:function(t){t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]);var n=e(t).rules(),r=!1;for(var i in n){var s={method:i,parameters:n[i]};try{var o=e.validator.methods[i].call(this,t.value.replace(/\r/g,""),t,s.parameters);if(o=="dependency-mismatch"){r=!0;continue}r=!1;if(o=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!o)return this.formatAndAdd(t,s),!1}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+s.method+"' method",u),u}}if(r)return;return this.objectLength(n)&&this.successList.push(t),!0},customMetaMessage:function(t,n){if(!e.metadata)return;var r=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return r&&r.messages&&r.messages[n]},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor==String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customMetaMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),r=/\$?\{(\d+)\}/g;typeof n=="function"?n=n.call(this,t.parameters,e):r.test(n)&&(n=jQuery.format(n.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:n,element:e}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var t=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(var e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(var e=0,n=this.validElements();n[e];e++)this.settings.unhighlight.call(this,n[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(n)):(r=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")==n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){var n=this.currentForm;return e(document.getElementsByName(t)).map(function(e,r){return r.form==n&&r.name==t&&r||null})},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){return!e.validator.methods.required.call(this,e.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest==0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor==String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t);for(var i in e.validator.methods){var s=r.attr(i);s&&(n[i]=s)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},metadataRules:function(t){if(!e.metadata)return{};var n=e.data(t.form,"validator").settings.meta;return n?e(t).metadata()[n]:e(t).metadata()},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!=undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";switch(n.nodeName.toLowerCase()){case"select":var i=e(n).val();return i&&i.length>0;case"input":if(this.checkable(n))return this.getLength(t,n)>0;default:return e.trim(t).length>0}},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(this.pending[n.name])return"pending";if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0;if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f,s.showErrors(a)}i.valid=o,s.stopRequest(n,o)}},r)),"pending"},minlength:function(t,n,r){return this.optional(n)||this.getLength(e.trim(t),n)>=r},maxlength:function(t,n,r){return this.optional(n)||this.getLength(e.trim(t),n)<=r},rangelength:function(t,n,r){var i=this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s),r=parseInt(o,10);i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return n%10==0},accept:function(e,t,n){return n=typeof n=="string"?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+n+")$","i"))},equalTo:function(t,n,r){var i=e(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()});return t==i.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode=="abort"&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i=="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&e.each({focus:"focusin",blur:"focusout"},function(t,n){function r(t){return t=e.event.fix(t),t.type=n,e.event.handle.call(this,t)}e.event.special[n]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=e.event.fix(t),arguments[0].type=n,e.event.handle.apply(this,arguments)}}}),e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),define("jquery.validate",function(){}),function(e){if(e.fn.validate){e.datepicker._selectDate2=e.datepicker._selectDate,e.extend(e.datepicker.regional[""],{validateDate:"Please enter a valid date",validateDateMin:"Please enter a date on or after {0}",validateDateMax:"Please enter a date on or before {0}",validateDateMinMax:"Please enter a date between {0} and {1}",validateDateCompare:"Please enter a date {0} {1}",validateDateToday:"today",validateDateOther:"the other date",validateDateEQ:"equal to",validateDateNE:"not equal to",validateDateLT:"before",validateDateGT:"after",validateDateLE:"not after",validateDateGE:"not before"}),e.extend(e.datepicker._defaults,e.datepicker.regional[""]),e.extend(e.datepicker,{_selectDate:function(t,n){this._selectDate2(t,n);var r=e(t),i=this._getInst(r[0]);!i.inline&&e.fn.validate&&r.parents("form").validate().element(r)},errorPlacement:function(t,n){var r=n.next("."+e.datepicker._triggerClass),i=!1;r.length==0&&(r=n.prev("."+e.datepicker._triggerClass),i=r.length>0),t[i?"insertBefore":"insertAfter"](r.length>0?r:n)},errorFormat:function(t,n,r){var i=e.datepicker._get(t,"dateFormat");return e.each(r,function(t,r){n=n.replace(new RegExp("\\{"+t+"\\}","g"),e.datepicker.formatDate(i,r)||"nothing")}),n}});var t=null;e.validator.addMethod("dpDate",function(n,r,i){t=r;var s=e.datepicker._getInst(r),o=e.datepicker._get(s,"dateFormat");try{var u=e.datepicker.parseDate(o,n,e.datepicker._getFormatConfig(s)),a=e.datepicker._determineDate(s,e.datepicker._get(s,"minDate"),null),f=e.datepicker._determineDate(s,e.datepicker._get(s,"maxDate"),null),l=e.datepicker._get(s,"beforeShowDay");return this.optional(r)||!u||(!a||u>=a)&&(!f||u<=f)&&(!l||l.apply(r,[u])[0])}catch(c){return!1}},function(n){var r=e.datepicker._getInst(t),i=e.datepicker._determineDate(r,e.datepicker._get(r,"minDate"),null),s=e.datepicker._determineDate(r,e.datepicker._get(r,"maxDate"),null),o=e.datepicker._defaults;return i&&s?e.datepicker.errorFormat(r,o.validateDateMinMax,[i,s]):i?e.datepicker.errorFormat(r,o.validateDateMin,[i]):s?e.datepicker.errorFormat(r,o.validateDateMax,[s]):o.validateDate}),e.validator.addClassRules("dpDate",{dpDate:!0});var n={equal:"eq",same:"eq",notEqual:"ne",notSame:"ne",lessThan:"lt",before:"lt",greaterThan:"gt",after:"gt",notLessThan:"ge",notBefore:"ge",notGreaterThan:"le",notAfter:"le"};e.validator.addMethod("dpCompareDate",function(s,o,u){if(this.optional(o))return!0;u=r(u);var a=e(o).datepicker("getDate"),f=i(o,u[1]);if(!a||!f)return!0;t=o;var l=!0;switch(n[u[0]]||u[0]){case"eq":l=a.getTime()==f.getTime();break;case"ne":l=a.getTime()!=f.getTime();break;case"lt":l=a.getTime()<f.getTime();break;case"gt":l=a.getTime()>f.getTime();break;case"le":l=a.getTime()<=f.getTime();break;case"ge":l=a.getTime()>=f.getTime();break;default:l=!0}return l},function(s){var o=e.datepicker._getInst(t),u=e.datepicker._defaults;s=r(s);var a=i(t,s[1],!0);return a=s[1]=="today"?u.validateDateToday:a?e.datepicker.formatDate(e.datepicker._get(o,"dateFormat"),a,e.datepicker._getFormatConfig(o)):u.validateDateOther,u.validateDateCompare.replace(/\{0\}/,u["validateDate"+(n[s[0]]||s[0]).toUpperCase()]).replace(/\{1\}/,a)});function r(t){if(typeof t=="string")t=t.split(" ");else if(!e.isArray(t)){var n=[];for(var r in t)n[0]=r,n[1]=t[r];t=n}return t}function i(t,n,r){if(n.constructor==Date)return n;var i=e.datepicker._getInst(t),s=null;try{typeof n=="string"&&n!="today"&&(s=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),n,e.datepicker._getFormatConfig(i)))}catch(o){}return s=s?s:n=="today"?new Date:r?null:e(n).datepicker("getDate"),s&&s.setHours(0,0,0,0),s}}}(jQuery),define("jquery.ui.datepicker.validation",function(){}),function(e){var t=/radio|checkbox/i,n=/[^\[\]]+/g,r=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,i=function(e){return typeof e=="number"?!0:typeof e!="string"?!1:e.match(r)};e.fn.extend({formParams:function(e){return this[0].nodeName.toLowerCase()=="form"&&this[0].elements?jQuery(jQuery.makeArray(this[0].elements)).getParams(e):jQuery("input[name], textarea[name], select[name]",this[0]).getParams(e)},getParams:function(r){var s={},o;return r=r===undefined?!0:r,this.each(function(){var u=this,a=u.type&&u.type.toLowerCase();if(a=="submit"||!u.name)return;var f=u.name,l=e.data(u,"value")||e.fn.val.call([u]),c=t.test(u.type),h=f.match(n),p=!c||!!u.checked,d;r&&(i(l)?l=parseFloat(l):l==="true"?l=!0:l==="false"&&(l=!1)),o=s;for(var v=0;v<h.length-1;v++)o[h[v]]||(o[h[v]]={}),o=o[h[v]];d=h[h.length-1];if(d in o&&a==="checkbox")e.isArray(o[d])||(o[d]=o[d]===undefined?[]:[o[d]]),p&&o[d].push(l);else if(p||!o[d])o[d]=p?l:undefined}),s}})}(jQuery),define("jquery.formparams",function(){}),function(e){function t(e){var t={};if(e.selectionStart===undefined){e.focus();var n=document.selection.createRange();t.length=n.text.length,n.moveStart("character",-e.value.length),t.end=n.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function n(e,t,n){if(e.selectionStart===undefined){e.focus();var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select()}else e.selectionStart=t,e.selectionEnd=n}function r(t,n){e.each(n,function(e,r){typeof r=="function"?n[e]=r(t,n,e):typeof t.autoNumeric[r]=="function"&&(n[e]=t.autoNumeric[r](t,n,e))})}function i(e,t){typeof e[t]=="string"&&(e[t]*=1)}function s(e,t){r(e,t),t.oEvent=null,t.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var n=t.vMax.toString().split("."),s=!t.vMin&&t.vMin!==0?[]:t.vMin.toString().split(".");i(t,"vMax"),i(t,"vMin"),i(t,"mDec"),t.mDec=t.mRound==="CHF"?"2":t.mDec,t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",n[0]=n[0].replace("-",""),s[0]=s[0].replace("-",""),t.mInt=Math.max(n[0].length,s[0].length,1);if(t.mDec===null){var o=0,u=0;n[1]&&(o=n[1].length),s[1]&&(u=s[1].length),t.mDec=Math.max(o,u)}t.altDec===null&&t.mDec>0&&(t.aDec==="."&&t.aSep!==","?t.altDec=",":t.aDec===","&&t.aSep!=="."&&(t.altDec="."));var a=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=a,t.skipFirstAutoStrip=new RegExp(a+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d]"+".*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var f="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+f+"]","gi"),t.numRegAutoStrip=new RegExp(a+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function o(e,t,n){if(t.aSign)while(e.indexOf(t.aSign)>-1)e=e.replace(t.aSign,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var r=e.match(t.numRegAutoStrip);e=r?[r[1],r[2],r[3]].join(""):"";if((t.lZero==="allow"||t.lZero==="keep")&&n!=="strip"){var i=[],s="";i=e.split(t.aDec),i[0].indexOf("-")!==-1&&(s="-",i[0]=i[0].replace("-","")),i[0].length>t.mInt&&i[0].charAt(0)==="0"&&(i[0]=i[0].slice(1)),e=s+i.join(t.aDec)}if(n&&t.lZero==="deny"||n&&t.lZero==="allow"&&t.allowLeading===!1){var o="^"+t.aNegRegAutoStrip+"0*(\\d"+(n==="leading"?")":"|$)");o=new RegExp(o),e=e.replace(o,"$1$2")}return e}function u(e,t,n){return t=t.split(","),n==="set"||n==="focusout"?(e=e.replace("-",""),e=t[0]+e+t[1]):(n==="get"||n==="focusin"||n==="pageLoad")&&e.charAt(0)===t[0]&&(e=e.replace(t[0],"-"),e=e.replace(t[1],"")),e}function a(e,t,n){if(t&&n){var r=e.split(t);r[1]&&r[1].length>n&&(n>0?(r[1]=r[1].substring(0,n),e=r.join(t)):e=r[0])}return e}function f(e,t,n){return t&&t!=="."&&(e=e.replace(t,".")),n&&n!=="-"&&(e=e.replace(n,"-")),e.match(/\d/)||(e+="0"),e}function l(e,t){if(e){var n=+e;if(n<1e-6&&n>-1)e=+e,e<1e-6&&e>0&&(e=(e+10).toString(),e=e.substring(1)),e<0&&e>-1&&(e=(e-10).toString(),e="-"+e.substring(2)),e=e.toString();else{var r=e.split(".");r[1]!==undefined&&(+r[1]===0?e=r[0]:(r[1]=r[1].replace(/0*$/,""),e=r.join(".")))}}return t.lZero==="keep"?e:e.replace(/^0*(\d)/,"$1")}function c(e,t,n){return n&&n!=="-"&&(e=e.replace("-",n)),t&&t!=="."&&(e=e.replace(".",t)),e}function h(t,n){t=o(t,n),t=a(t,n.aDec,n.mDec),t=f(t,n.aDec,n.aNeg);var r=+t;return n.oEvent==="set"&&(r<n.vMin||r>n.vMax)&&e.error("The value ("+r+") from the 'set' method falls outside of the vMin / vMax range"),r>=n.vMin&&r<=n.vMax}function p(e,t,n){return e===""||e===t.aNeg?t.wEmpty==="zero"?e+"0":t.wEmpty==="sign"||n?e+t.aSign:e:null}function d(e,t){e=o(e,t);var n=e.replace(",","."),r=p(e,t,!0);if(r!==null)return r;var i="";t.dGroup===2?i=/(\d)((\d)(\d{2}?)+)$/:t.dGroup===4?i=/(\d)((\d{4}?)+)$/:i=/(\d)((\d{3}?)+)$/;var s=e.split(t.aDec);t.altDec&&s.length===1&&(s=e.split(t.altDec));var a=s[0];if(t.aSep)while(i.test(a))a=a.replace(i,"$1"+t.aSep+"$2");t.mDec!==0&&s.length>1?(s[1].length>t.mDec&&(s[1]=s[1].substring(0,t.mDec)),e=a+t.aDec+s[1]):e=a;if(t.aSign){var f=e.indexOf(t.aNeg)!==-1;e=e.replace(t.aNeg,""),e=t.pSign==="p"?t.aSign+e:e+t.aSign,f&&(e=t.aNeg+e)}return t.oEvent==="set"&&n<0&&t.nBracket!==null&&(e=u(e,t.nBracket,t.oEvent)),e}function v(e,t){e=e===""?"0":e.toString(),i(t,"mDec"),t.mRound==="CHF"&&(e=(Math.round(e*20)/20).toString());var n="",r=0,s="",o=typeof t.aPad=="boolean"||t.aPad===null?t.aPad?t.mDec:0:+t.aPad,u=function(e){var t=o===0?/(\.(?:\d*[1-9])?)0*$/:o===1?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+o+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),o===0&&(e=e.replace(/\.$/,"")),e};e.charAt(0)==="-"&&(s="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),s==="-"&&+e===0&&(s="");if(+e>0&&t.lZero!=="keep"||e.length>0&&t.lZero==="allow")e=e.replace(/^0*(\d)/,"$1");var a=e.lastIndexOf("."),f=a===-1?e.length-1:a,l=e.length-1-f;if(l<=t.mDec){n=e;if(l<o){a===-1&&(n+=".");var c="000000";while(l<o)c=c.substring(0,o-l),n+=c,l+=c.length}else l>o?n=u(n):l===0&&o===0&&(n=n.replace(/\.$/,""));if(t.mRound!=="CHF")return+n===0?n:s+n;t.mRound==="CHF"&&(a=n.lastIndexOf("."),e=n)}var h=a+t.mDec,p=+e.charAt(h+1),d=e.substring(0,h+1).split(""),v=e.charAt(h)==="."?e.charAt(h-1)%2:e.charAt(h)%2,m=!0;v!==1&&(v=v===0&&e.substring(h+2,e.length)>0?1:0);if(p>4&&t.mRound==="S"||p>4&&t.mRound==="A"&&s===""||p>5&&t.mRound==="A"&&s==="-"||p>5&&t.mRound==="s"||p>5&&t.mRound==="a"&&s===""||p>4&&t.mRound==="a"&&s==="-"||p>5&&t.mRound==="B"||p===5&&t.mRound==="B"&&v===1||p>0&&t.mRound==="C"&&s===""||p>0&&t.mRound==="F"&&s==="-"||p>0&&t.mRound==="U"||t.mRound==="CHF")for(r=d.length-1;r>=0;r-=1)if(d[r]!=="."){if(t.mRound==="CHF"&&d[r]<=2&&m){d[r]=0,m=!1;break}if(t.mRound==="CHF"&&d[r]<=7&&m){d[r]=5,m=!1;break}t.mRound==="CHF"&&m?(d[r]=10,m=!1):d[r]=+d[r]+1;if(d[r]<10)break;r>0&&(d[r]="0")}return d=d.slice(0,h+1),n=u(d.join("")),+n===0?n:s+n}function m(t,n){this.settings=n,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=s(this.$that,this.settings),this.value=t.value}function g(t){return typeof t=="string"&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function y(e,t,n){var r=e.data("autoNumeric");r||(r={},e.data("autoNumeric",r));var i=r.holder;if(i===undefined&&t||n)i=new m(e.get(0),t),r.holder=i;return i}m.prototype={init:function(e){this.value=this.that.value,this.settingsClone=s(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that);if(e.type==="keydown"||e.type==="keyup")this.kdCode=e.keyCode;this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,r){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(r===undefined||r)&&n(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),n=e.substring(this.selection.end,e.length);return[t,n]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=o(e[0],this.settingsClone),e[1]=o(e[1],this.settingsClone),e},normalizeParts:function(e,t){var n=this.settingsClone;t=o(t,n);var r=t.match(/^\d/)?!0:"leading";e=o(e,n,r),(e===""||e===n.aNeg)&&n.lZero==="deny"&&t>""&&(t=t.replace(/^0*(\d)/,"$1"));var i=e+t;if(n.aDec){var s=i.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));s&&(e=e.replace(s[1],s[1]+"0"),i=e+t)}return n.wEmpty==="zero"&&(i===n.aNeg||i==="")&&(e+="0"),[e,t]},setValueParts:function(e,t){var n=this.settingsClone,r=this.normalizeParts(e,t),i=r.join(""),s=r[0].length;return h(i,n)?(i=a(i,n.aDec,n.mDec),s>i.length&&(s=i.length),this.value=i,this.setPosition(s,!1),!0):!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,n=this.that;if(t){var r=t.length;if(e.pSign==="p"){var i=e.aNeg&&n.value&&n.value.charAt(0)===e.aNeg;return i?[1,r+1]:[0,r]}var s=n.value.length;return[s-r,s]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),n=this.selection;n.start<t[1]&&n.end>t[0]&&((n.start<t[0]||n.end>t[1])&&this.value.substring(Math.max(n.start,t[0]),Math.min(n.end,t[1])).match(/^\s*$/)?n.start<t[0]?this.setSelection(n.start,t[0],e):this.setSelection(t[1],n.end,e):this.setSelection(Math.min(n.start,t[0]),Math.max(n.end,t[1]),e))},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+o(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1])||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,n=this.which,r=this.ctrlKey,i=this.cmdKey,s=this.shiftKey;if((r||i)&&e.type==="keyup"&&this.valuePartsBeforePaste!==undefined||s&&t===45)return this.checkPaste(),!1;if(t>=112&&t<=123||t>=91&&t<=93||t>=9&&t<=31||t<8&&(n===0||n===t)||t===144||t===145||t===45)return!0;if((r||i)&&t===65)return!0;if(!r&&!i||t!==67&&t!==86&&t!==88){if(r||i)return!0;if(t===37||t===39){var o=this.settingsClone.aSep,u=this.selection.start,a=this.that.value;return e.type==="keydown"&&o&&!this.shiftKey&&(t===37&&a.charAt(u-2)===o?this.setPosition(u-1):t===39&&a.charAt(u+1)===o&&this.setPosition(u+1)),!0}return t>=34&&t<=40?!0:!1}e.type==="keydown"&&this.expandSelectionOnSign();if(t===86||t===45)e.type==="keydown"||e.type==="keypress"?this.valuePartsBeforePaste===undefined&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste();return e.type==="keydown"||e.type==="keypress"||t===67},processAllways:function(){var e;return this.kdCode===8||this.kdCode===46?(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),this.kdCode===8?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0):!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),r=n[0],i=n[1];return t===e.aDec||e.altDec&&t===e.altDec||(t==="."||t===",")&&this.kdCode===110?!e.mDec||!e.aDec?!0:e.aNeg&&i.indexOf(e.aNeg)>-1?!0:r.indexOf(e.aDec)>-1?!0:i.indexOf(e.aDec)>0?!0:(i.indexOf(e.aDec)===0&&(i=i.substr(1)),this.setValueParts(r+e.aDec,i),!0):t==="-"||t==="+"?e.aNeg?(r===""&&i.indexOf(e.aNeg)>-1&&(r=e.aNeg,i=i.substring(1,i.length)),r.charAt(0)===e.aNeg?r=r.substring(1,r.length):r=t==="-"?e.aNeg+r:r,this.setValueParts(r,i),!0):!0:t>="0"&&t<="9"?(e.aNeg&&r===""&&i.indexOf(e.aNeg)>-1&&(r=e.aNeg,i=i.substring(1,i.length)),e.vMax<=0&&e.vMin<e.vMax&&this.value.indexOf(e.aNeg)===-1&&t!=="0"&&(r=e.aNeg+r),this.setValueParts(r+t,i),!0):!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),n=this.value;if((e.aSep===""||e.aSep!==""&&n.indexOf(e.aSep)===-1)&&(e.aSign===""||e.aSign!==""&&n.indexOf(e.aSign)===-1)){var r=[],i="";r=n.split(e.aDec),r[0].indexOf("-")>-1&&(i="-",r[0]=r[0].replace("-",""),t[0]=t[0].replace("-","")),r[0].length>e.mInt&&t[0].charAt(0)==="0"&&(t[0]=t[0].slice(1)),t[0]=i+t[0]}var s=d(this.value,this.settingsClone),o=s.length;if(s){var u=t[0].split(""),a=0;for(a;a<u.length;a+=1)u[a].match("\\d")||(u[a]="\\"+u[a]);var f=new RegExp("^.*?"+u.join(".*?")),l=s.match(f);l?(o=l[0].length,(o===0&&s.charAt(0)!==e.aNeg||o===1&&s.charAt(0)===e.aNeg)&&e.aSign&&e.pSign==="p"&&(o=this.settingsClone.aSign.length+(s.charAt(0)==="-"?1:0))):e.aSign&&e.pSign==="s"&&(o-=e.aSign.length)}this.that.value=s,this.setPosition(o),this.formatted=!0}};var b={init:function(t){return this.each(function(){var r=e(this),i=r.data("autoNumeric"),s=r.data();if(typeof i=="object")return this;i=e.extend({},e.fn.autoNumeric.defaults,s,t);if(i.aDec===i.aSep)return e.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),this;r.data("autoNumeric",i),i.runOnce=!1;var a=y(r,i);if(e.inArray(r.prop("tagName").toLowerCase(),i.tagList)===-1&&r.prop("tagName").toLowerCase()!=="input")return e.error("The <"+r.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),this;if(i.runOnce===!1&&i.aForm){if(r.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){var l=!0;r[0].value===""&&i.wEmpty==="empty"&&(r[0].value="",l=!1),r[0].value===""&&i.wEmpty==="sign"&&(r[0].value=i.aSign,l=!1),l&&r[0].value===r.prop("defaultValue")&&r.autoNumeric("set",r.val())}e.inArray(r.prop("tagName").toLowerCase(),i.tagList)!==-1&&r.text()!==""&&r.autoNumeric("set",r.text())}i.runOnce=!0,r.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(r.on("keydown.autoNumeric",function(t){return a=y(r),a.settings.aDec===a.settings.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+a.settings.aDec+"' and thousand separator aSep: '"+a.settings.aSep+"' are the same character"),this):a.that.readOnly?(a.processed=!0,!0):(a.init(t),a.settings.oEvent="keydown",a.skipAllways(t)?(a.processed=!0,!0):a.processAllways()?(a.processed=!0,a.formatQuick(),t.preventDefault(),!1):(a.formatted=!1,!0))}),r.on("keypress.autoNumeric",function(e){var t=y(r),n=t.processed;t.init(e),t.settings.oEvent="keypress";if(t.skipAllways(e))return!0;if(n)return e.preventDefault(),!1;if(t.processAllways()||t.processKeypress())return t.formatQuick(),e.preventDefault(),!1;t.formatted=!1}),r.on("keyup.autoNumeric",function(e){var t=y(r);t.init(e),t.settings.oEvent="keyup";var i=t.skipAllways(e);t.kdCode=0,delete t.valuePartsBeforePaste,r[0].value===t.settings.aSign&&(t.settings.pSign==="s"?n(this,0,0):n(this,t.settings.aSign.length,t.settings.aSign.length));if(i)return!0;if(this.value==="")return!0;t.formatted||t.formatQuick()}),r.on("focusin.autoNumeric",function(){var e=y(r);e.settingsClone.oEvent="focusin";if(e.settingsClone.nBracket!==null){var t=r.val();r.val(u(t,e.settingsClone.nBracket,e.settingsClone.oEvent))}e.inVal=r.val();var i=p(e.inVal,e.settingsClone,!0);i!==null&&(r.val(i),e.settings.pSign==="s"?n(this,0,0):n(this,e.settings.aSign.length,e.settings.aSign.length))}),r.on("focusout.autoNumeric",function(){var e=y(r),t=e.settingsClone,n=r.val(),i=n;e.settingsClone.oEvent="focusout";var s="";t.lZero==="allow"&&(t.allowLeading=!1,s="leading"),n!==""&&(n=o(n,t,s),p(n,t)===null&&h(n,t,r[0])?(n=f(n,t.aDec,t.aNeg),n=v(n,t),n=c(n,t.aDec,t.aNeg)):n="");var a=p(n,t,!1);a===null&&(a=d(n,t));if(a!==e.inVal||a!==i)r.change(),r.val(a),delete e.inVal;t.nBracket!==null&&r.autoNumeric("get")<0&&(e.settingsClone.oEvent="focusout",r.val(u(r.val(),t.nBracket,t.oEvent)))}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var n=g(e(this)),r=n.data("autoNumeric");if(typeof r!="object")return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var i=n.autoNumeric("get");r=e.extend(r,t),y(n,r,!0);if(r.aDec===r.aSep)return e.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character"),this;n.data("autoNumeric",r);if(n.val()!==""||n.text()!=="")return n.autoNumeric("set",i);return})},set:function(t){if(t===null)return;return e(this).each(function(){var n=g(e(this)),r=n.data("autoNumeric"),i=t.toString(),s=t.toString();return typeof r!="object"?(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(s!==n.attr("value")&&n.prop("tagName").toLowerCase()==="input"&&r.runOnce===!1&&(i=r.nBracket!==null?u(n.val(),r.nBracket,"pageLoad"):i,i=o(i,r)),(s===n.attr("value")||s===n.text())&&r.runOnce===!1&&(i=i.replace(",",".")),e.isNumeric(+i)?(i=l(i,r),r.oEvent="set",i.toString(),i!==""&&(i=v(i,r)),i=c(i,r.aDec,r.aNeg),h(i,r)||(i=v("",r)),i=d(i,r),n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?n.val(i):e.inArray(n.prop("tagName").toLowerCase(),r.tagList)!==-1?n.text(i):(e.error("The <"+n.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var t=g(e(this)),n=t.data("autoNumeric");if(typeof n!="object")return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;n.oEvent="get";var r="";if(t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"))r=t.eq(0).val();else{if(e.inArray(t.prop("tagName").toLowerCase(),n.tagList)===-1)return e.error("The <"+t.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1;r=t.eq(0).text()}if(r===""&&n.wEmpty==="empty"||r===n.aSign&&(n.wEmpty==="sign"||n.wEmpty==="empty"))return"";n.nBracket!==null&&r!==""&&(r=u(r,n.nBracket,n.oEvent));if(n.runOnce||n.aForm===!1)r=o(r,n);return r=f(r,n.aDec,n.aNeg),+r===0&&n.lZero!=="keep"&&(r="0"),n.lZero==="keep"?r:(r=l(r,n),r)},getString:function(){var t=!1,n=g(e(this)),r=n.serialize(),i=r.split("&"),s=e("form").index(n),o=0;for(o;o<i.length;o+=1){var u=i[o].split("="),a=e("form:eq("+s+') input[name="'+decodeURIComponent(u[0])+'"]'),f=a.data("autoNumeric");typeof f=="object"&&u[1]!==null&&(u[1]=a.autoNumeric("get"),i[o]=u.join("="),t=!0)}return t===!0?i.join("&"):r},getArray:function(){var t=!1,n=g(e(this)),r=n.serializeArray(),i=e("form").index(n);return e.each(r,function(n,r){var s=e("form:eq("+i+') input[name="'+decodeURIComponent(r.name)+'"]'),o=s.data("autoNumeric");typeof o=="object"&&(r.value!==""&&(r.value=s.autoNumeric("get").toString()),t=!0)}),t===!0?r:this},getSettings:function(){var t=g(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){if(b[t])return b[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return b.init.apply(this,arguments);e.error('Method "'+t+'" is not supported by autoNumeric()')},e.fn.autoNumeric.defaults={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}}}(jQuery),define("autonumeric",function(){}),function(){var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(n){function o(){!e&&this._init&&this._init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"?function(e,t){return function(){var n=this._super;this._super=function(t){return r[e].apply(this,t||[])};var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.prototype.constructor=o,o.extend=t,o}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var n=Array.prototype.slice.call(arguments,1);return $[e]._isNotChained(t,n)?$[e][t].apply($[e],[this[0]].concat(n)):this.each(function(){if(typeof t=="string"){if(t[0]==="_"||!$[e][t])throw"Unknown method: "+t;$[e][t].apply($[e],[this].concat(n))}else $[e]._attach(this,t)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return e==="option"&&(t.length===0||t.length===1&&typeof t[0]=="string")?!0:$.inArray(e,this._getters)>-1},_attach:function(e,t){e=$(e);if(e.hasClass(this._getMarker()))return;e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var n=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,n),this._postAttach(e,n),this.option(e,t)},_instSettings:function(e,t){return{}},_postAttach:function(e,t){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"'),data=data.replace(/([a-zA-Z0-9]+):/g,function(e,t,n){var r=data.substring(0,n).match(/"/g);return!r||r.length%2===0?'"'+t+'":':t+":"}),data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];typeof value=="string"&&value.match(/^new Date\((.*)\)$/)&&(data[name]=eval(value))}return data}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,n){e=$(e);var r=e.data(this.name);if(!t||typeof t=="string"&&n==null){var i=(r||{}).options;return i&&t?i[t]:i}if(!e.hasClass(this._getMarker()))return;var i=t||{};typeof t=="string"&&(i={},i[t]=n),this._optionsChanged(e,r,i),$.extend(r.options,i)},_optionsChanged:function(e,t,n){},destroy:function(e){e=$(e);if(!e.hasClass(this._getMarker()))return;this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker())},_preDestroy:function(e,t){}}),$.JQPlugin={createPlugin:function(e,t){typeof e=="object"&&(t=e,e="JQPlugin"),e=camelCase(e);var n=camelCase(t.name);JQClass.classes[n]=JQClass.classes[e].extend(t),new JQClass.classes[n]}}}(jQuery),define("jquery.plugin",function(){}),function(e){var t="timeEntry";e.JQPlugin.createPlugin({name:t,defaultOptions:{appendText:"",showSeconds:!1,unlimitedHours:!1,timeSteps:[1,1,1],initialField:null,noSeparatorEntry:!1,tabToExit:!1,useMouseWheel:!0,defaultTime:null,minTime:null,maxTime:null,spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:!1,spinnerRepeat:[500,250],beforeShow:null,beforeSetTime:null},regionalOptions:{"":{show24Hours:!1,separator:":",ampmPrefix:"",ampmNames:["AM","PM"],spinnerTexts:["Now","Previous field","Next field","Increment","Decrement"]}},_getters:["getOffset","getTime","isDisabled"],_appendClass:t+"-append",_controlClass:t+"-control",_expandClass:t+"-expand",_disabledInputs:[],_instSettings:function(e,t){return{_field:0,_selectedHour:0,_selectedMinute:0,_selectedSecond:0}},_postAttach:function(e,t){e.on("focus."+t.name,this._doFocus).on("blur."+t.name,this._doBlur).on("click."+t.name,this._doClick).on("keydown."+t.name,this._doKeyDown).on("keypress."+t.name,this._doKeyPress).on("paste."+t.name,function(e){setTimeout(function(){n._parseTime(t)},1)})},_optionsChanged:function(t,n,r){var i=this._extractTime(n);e.extend(n.options,r),n.options.show24Hours=n.options.show24Hours||n.options.unlimitedHours,n._field=0,i&&this._setTime(n,new Date(0,0,0,i[0],i[1],i[2])),t.next("span."+this._appendClass).remove(),t.parent().find("span."+this._controlClass).remove(),e.fn.mousewheel&&t.unmousewheel();var s=n.options.spinnerImage?e('<span class="'+this._controlClass+'" style="display: inline-block; '+"background: url('"+n.options.spinnerImage+"') 0 0 no-repeat; width: "+n.options.spinnerSize[0]+"px; height: "+n.options.spinnerSize[1]+'px;"></span>'):null;t.after(n.options.appendText?'<span class="'+this._appendClass+'">'+n.options.appendText+"</span>":"").after(s||""),n.options.useMouseWheel&&e.fn.mousewheel&&t.mousewheel(this._doMouseWheel),s&&s.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)},enable:function(e){this._enableDisable(e,!1)},disable:function(e){this._enableDisable(e,!0)},_enableDisable:function(t,n){var r=this._getInst(t);if(!r)return;t.disabled=n,t.nextSibling&&t.nextSibling.nodeName.toLowerCase()==="span"&&this._changeSpinner(r,t.nextSibling,n?5:-1),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),n&&this._disabledInputs.push(t)},isDisabled:function(t){return e.inArray(t,this._disabledInputs)>-1},_preDestroy:function(n,r){n=e(n).off("."+t),e.fn.mousewheel&&n.unmousewheel(),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===n[0]?null:e}),n.siblings("."+this._appendClass+",."+this._controlClass).remove()},setTime:function(t,n){var r=this._getInst(t);r&&(n===null||n===""?e(t).val(""):this._setTime(r,n?e.isArray(n)?n:typeof n=="object"?new Date(n.getTime()):n:null))},getTime:function(e){var t=this._getInst(e),n=t?this._extractTime(t):null;return n?new Date(0,0,0,n[0],n[1],n[2]):null},getOffset:function(e){var t=this._getInst(e),n=t?this._extractTime(t):null;return n?(n[0]*3600+n[1]*60+n[2])*1e3:0},_doFocus:function(t){var r=t.nodeName&&t.nodeName.toLowerCase()==="input"?t:this;if(n._lastInput===r||n.isDisabled(r)){n._focussed=!1;return}var i=n._getInst(r);n._focussed=!0,n._lastInput=r,n._blurredInput=null,e.extend(i.options,e.isFunction(i.options.beforeShow)?i.options.beforeShow.apply(r,[r]):{}),n._parseTime(i,t.nodeName?null:t),setTimeout(function(){n._showField(i)},10)},_doBlur:function(e){n._blurredInput=n._lastInput,n._lastInput=null},_doClick:function(e){var t=e.target,r=n._getInst(t),i=r._field;n._focussed||(r._field=n._getSelection(r,t,e)),i!==r._field&&(r._lastChr=""),n._showField(r),n._focussed=!1},_getSelection:function(t,n,r){var i=0,s=[t.elem.val().split(t.options.separator)[0].length,2,2];if(n.selectionStart!==null){var o=0;for(var u=0;u<=Math.max(1,t._secondField,t._ampmField);u++){o+=u!==t._ampmField?s[u]+t.options.separator.length:t.options.ampmPrefix.length+t.options.ampmNames[0].length,i=u;if(n.selectionStart<o)break}}else if(n.createTextRange&&r!=null){var a=e(r.srcElement),f=n.createTextRange(),l=function(e){return{thin:2,medium:4,thick:6}[e]||e},c=r.clientX+document.documentElement.scrollLeft-(a.offset().left+parseInt(l(a.css("border-left-width")),10))-f.offsetLeft;for(var u=0;u<=Math.max(1,t._secondField,t._ampmField);u++){var o=u!==t._ampmField?u*fieldSize+2:t._ampmField*fieldSize+t.options.ampmPrefix.length+t.options.ampmNames[0].length;f.collapse(),f.moveEnd("character",o),i=u;if(c<f.boundingWidth)break}}return i},_doKeyDown:function(e){if(e.keyCode>=48)return!0;var t=n._getInst(e.target);switch(e.keyCode){case 9:return t.options.tabToExit?!0:e.shiftKey?n._changeField(t,-1,!0):n._changeField(t,1,!0);case 35:e.ctrlKey?n._setValue(t,""):(t._field=Math.max(1,t._secondField,t._ampmField),n._adjustField(t,0));break;case 36:e.ctrlKey?n._setTime(t):(t._field=0,n._adjustField(t,0));break;case 37:n._changeField(t,-1,!1);break;case 38:n._adjustField(t,1);break;case 39:n._changeField(t,1,!1);break;case 40:n._adjustField(t,-1);break;case 46:n._setValue(t,"");break;case 8:t._lastChr="";default:return!0}return!1},_doKeyPress:function(e){var t=String.fromCharCode(e.charCode===undefined?e.keyCode:e.charCode);if(t<" ")return!0;var r=n._getInst(e.target);return n._handleKeyPress(r,t),!1},_handleKeyPress:function(e,t){if(t===e.options.separator)this._changeField(e,1,!1);else if(t>="0"&&t<="9"){var n=parseInt(t,10),r=parseInt(e._lastChr+t,10),i=e._field!==0?e._selectedHour:e.options.unlimitedHours?r:e.options.show24Hours?r<24?r:n:(r>=1&&r<=12?r:n>0?n:e._selectedHour)%12+(e._selectedHour>=12?12:0),s=e._field!==1?e._selectedMinute:r<60?r:n,o=e._field!==e._secondField?e._selectedSecond:r<60?r:n,u=this._constrainTime(e,[i,s,o]);this._setTime(e,e.options.unlimitedHours?u:new Date(0,0,0,u[0],u[1],u[2])),e.options.noSeparatorEntry&&e._lastChr?this._changeField(e,1,!1):e._lastChr=e.options.unlimitedHours&&e._field===0?e._lastChr+t:t}else if(!e.options.show24Hours){t=t.toLowerCase();if(t===e.options.ampmNames[0].substring(0,1).toLowerCase()&&e._selectedHour>=12||t===e.options.ampmNames[1].substring(0,1).toLowerCase()&&e._selectedHour<12){var a=e._field;e._field=e._ampmField,this._adjustField(e,1),e._field=a,this._showField(e)}}},_doMouseWheel:function(e,t){if(n.isDisabled(e.target))return;var r=n._getInst(e.target);r.elem.focus(),r.elem.val()||n._parseTime(r),n._adjustField(r,t),e.preventDefault()},_expandSpinner:function(t){var r=n._getSpinnerTarget(t),i=n._getInst(n._getInput(r));if(n.isDisabled(i.elem[0]))return;if(i.options.spinnerBigImage){i._expanded=!0;var s=e(r).offset(),o=null;e(r).parents().each(function(){var t=e(this);if(t.css("position")==="relative"||t.css("position")==="absolute")o=t.offset();return!o}),e('<div class="'+n._expandClass+'" style="position: absolute; left: '+(s.left-(i.options.spinnerBigSize[0]-i.options.spinnerSize[0])/2-(o?o.left:0))+"px; top: "+(s.top-(i.options.spinnerBigSize[1]-i.options.spinnerSize[1])/2-(o?o.top:0))+"px; width: "+i.options.spinnerBigSize[0]+"px; height: "+i.options.spinnerBigSize[1]+"px; background: transparent url("+i.options.spinnerBigImage+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(n._handleSpinner).mouseup(n._endSpinner).mouseout(n._endExpand).mousemove(n._describeSpinner).insertAfter(r)}},_getInput:function(t){return e(t).siblings("."+this._getMarker())[0]},_describeSpinner:function(e){var t=n._getSpinnerTarget(e),r=n._getInst(n._getInput(t));t.title=r.options.spinnerTexts[n._getSpinnerRegion(r,e)]},_handleSpinner:function(t){var r=n._getSpinnerTarget(t),i=n._getInput(r);if(n.isDisabled(i))return;i===n._blurredInput&&(n._lastInput=i,n._blurredInput=null);var s=n._getInst(i);n._doFocus(i);var o=n._getSpinnerRegion(s,t);n._changeSpinner(s,r,o),n._actionSpinner(s,o),n._timer=null,n._handlingSpinner=!0,o>=3&&s.options.spinnerRepeat[0]&&(n._timer=setTimeout(function(){n._repeatSpinner(s,o)},s.options.spinnerRepeat[0]),e(r).one("mouseout",n._releaseSpinner).one("mouseup",n._releaseSpinner))},_actionSpinner:function(e,t){e.elem.val()||n._parseTime(e);switch(t){case 0:this._setTime(e);break;case 1:this._changeField(e,-1,!1);break;case 2:this._changeField(e,1,!1);break;case 3:this._adjustField(e,1);break;case 4:this._adjustField(e,-1)}},_repeatSpinner:function(e,t){if(!n._timer)return;n._lastInput=n._blurredInput,this._actionSpinner(e,t),this._timer=setTimeout(function(){n._repeatSpinner(e,t)},e.options.spinnerRepeat[1])},_releaseSpinner:function(e){clearTimeout(n._timer),n._timer=null},_endExpand:function(t){n._timer=null;var r=n._getSpinnerTarget(t),i=n._getInput(r),s=n._getInst(i);e(r).remove(),s._expanded=!1},_endSpinner:function(e){n._timer=null;var t=n._getSpinnerTarget(e),r=n._getInput(t),i=n._getInst(r);n.isDisabled(r)||n._changeSpinner(i,t,-1),n._handlingSpinner&&(n._lastInput=n._blurredInput),n._lastInput&&n._handlingSpinner&&n._showField(i),n._handlingSpinner=!1},_getSpinnerTarget:function(e){return e.target||e.srcElement},_getSpinnerRegion:function(t,n){var r=this._getSpinnerTarget(n),i=e(r).offset(),s=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop],o=t.options.spinnerIncDecOnly?99:n.clientX+s[0]-i.left,u=n.clientY+s[1]-i.top,a=t.options[t._expanded?"spinnerBigSize":"spinnerSize"],f=t.options.spinnerIncDecOnly?99:a[0]-1-o,l=a[1]-1-u;if(a[2]>0&&Math.abs(o-f)<=a[2]&&Math.abs(u-l)<=a[2])return 0;var c=Math.min(o,u,f,l);return c===o?1:c===f?2:c===u?3:4},_changeSpinner:function(t,n,r){e(n).css("background-position","-"+(r+1)*t.options[t._expanded?"spinnerBigSize":"spinnerSize"][0]+"px 0px")},_parseTime:function(e,t){var r=this._extractTime(e);if(r)e._selectedHour=r[0],e._selectedMinute=r[1],e._selectedSecond=r[2];else{var i=this._constrainTime(e);e._selectedHour=i[0],e._selectedMinute=i[1],e._selectedSecond=e.options.showSeconds?i[2]:0}e._secondField=e.options.showSeconds?2:-1,e._ampmField=e.options.show24Hours?-1:e.options.showSeconds?3:2,e._lastChr="";var s=function(){e.elem.val()!==""&&n._showTime(e)};typeof e.options.initialField=="number"?(e._field=Math.max(0,Math.min(Math.max(1,e._secondField,e._ampmField),e.options.initialField)),s()):setTimeout(function(){e._field=n._getSelection(e,e.elem[0],t),s()},0)},_extractTime:function(e,t){t=t||e.elem.val();var n=t.split(e.options.separator);e.options.separator===""&&t!==""&&(n[0]=t.substring(0,2),n[1]=t.substring(2,4),n[2]=t.substring(4,6));if(n.length>=2){var r=!e.options.show24Hours&&t.indexOf(e.options.ampmNames[0])>-1,i=!e.options.show24Hours&&t.indexOf(e.options.ampmNames[1])>-1,s=parseInt(n[0],10);s=isNaN(s)?0:s,s=((r||i)&&s===12?0:s)+(i?12:0);var o=parseInt(n[1],10);o=isNaN(o)?0:o;var u=n.length>=3?parseInt(n[2],10):0;return u=isNaN(u)||!e.options.showSeconds?0:u,this._constrainTime(e,[s,o,u])}return null},_constrainTime:function(e,t){var n=t!==null&&t!==undefined;if(!n){var r=this._determineTime(e.options.defaultTime,e)||new Date;t=[r.getHours(),r.getMinutes(),r.getSeconds()]}var i=!1;for(var s=0;s<e.options.timeSteps.length;s++)i?t[s]=0:e.options.timeSteps[s]>1&&(t[s]=Math.round(t[s]/e.options.timeSteps[s])*e.options.timeSteps[s],i=!0);return t},_showTime:function(e){var t=(e.options.unlimitedHours?e._selectedHour:this._formatNumber(e.options.show24Hours?e._selectedHour:(e._selectedHour+11)%12+1))+e.options.separator+this._formatNumber(e._selectedMinute)+(e.options.showSeconds?e.options.separator+this._formatNumber(e._selectedSecond):"")+(e.options.show24Hours?"":e.options.ampmPrefix+e.options.ampmNames[e._selectedHour<12?0:1]);this._setValue(e,t),this._showField(e)},_showField:function(e){var t=e.elem[0];if(e.elem.is(":hidden")||n._lastInput!==t)return;var r=[e.elem.val().split(e.options.separator)[0].length,2,2],i=0,s=0;while(s<e._field)i+=r[s]+(s===Math.max(1,e._secondField)?0:e.options.separator.length),s++;var o=i+(e._field!==e._ampmField?r[s]:e.options.ampmPrefix.length+e.options.ampmNames[0].length);if(t.setSelectionRange)t.setSelectionRange(i,o);else if(t.createTextRange){var u=t.createTextRange();u.moveStart("character",i),u.moveEnd("character",o-e.elem.val().length),u.select()}t.disabled||t.focus()},_formatNumber:function(e){return(e<10?"0":"")+e},_setValue:function(e,t){t!==e.elem.val()&&e.elem.val(t).trigger("change")},_changeField:function(e,t,n){var r=e.elem.val()===""||e._field===(t===-1?0:Math.max(1,e._secondField,e._ampmField));return r||(e._field+=t),this._showField(e),e._lastChr="",r&&n},_adjustField:function(e,t){e.elem.val()===""&&(t=0),e.options.unlimitedHours?this._setTime(e,[e._selectedHour+(e._field===0?t*e.options.timeSteps[0]:0),e._selectedMinute+(e._field===1?t*e.options.timeSteps[1]:0),e._selectedSecond+(e._field===e._secondField?t*e.options.timeSteps[2]:0)]):this._setTime(e,new Date(0,0,0,e._selectedHour+(e._field===0?t*e.options.timeSteps[0]:0)+(e._field===e._ampmField?t*12:0),e._selectedMinute+(e._field===1?t*e.options.timeSteps[1]:0),e._selectedSecond+(e._field===e._secondField?t*e.options.timeSteps[2]:0)))},_setTime:function(t,n){if(t.options.unlimitedHours&&e.isArray(n))var r=n;else{n=this._determineTime(n,t);var r=n?[n.getHours(),n.getMinutes(),n.getSeconds()]:null}r=this._constrainTime(t,r),n=new Date(0,0,0,r[0],r[1],r[2]);var n=this._normaliseTime(n),i=this._normaliseTime(this._determineTime(t.options.minTime,t)),s=this._normaliseTime(this._determineTime(t.options.maxTime,t));if(t.options.unlimitedHours){while(r[2]<0)r[2]+=60,r[1]--;while(r[2]>59)r[2]-=60,r[1]++;while(r[1]<0)r[1]+=60,r[0]--;while(r[1]>59)r[1]-=60,r[0]++;i=t.options.minTime!=null&&e.isArray(t.options.minTime)?t.options.minTime:[0,0,0],r[0]<i[0]?r=i.slice(0,3):r[0]===i[0]&&(r[1]<i[1]?(r[1]=i[1],r[2]=i[2]):r[1]===i[1]&&r[2]<i[2]&&(r[2]=i[2])),t.options.maxTime!=null&&e.isArray(t.options.maxTime)&&(r[0]>t.options.maxTime[0]?r=t.options.maxTime.slice(0,3):r[0]===t.options.maxTime[0]&&(r[1]>t.options.maxTime[1]?(r[1]=t.options.maxTime[1],r[2]=t.options.maxTime[2]):r[1]===t.options.maxTime[1]&&r[2]>t.options.maxTime[2]&&(r[2]=t.options.maxTime[2])))}else i&&s&&i>s?n<i&&n>s&&(n=Math.abs(n-i)<Math.abs(n-s)?i:s):n=i&&n<i?i:s&&n>s?s:n,r[0]=n.getHours(),r[1]=n.getMinutes(),r[2]=n.getSeconds();e.isFunction(t.options.beforeSetTime)&&(n=t.options.beforeSetTime.apply(t.elem[0],[this.getTime(t.elem[0]),n,i,s]),r[0]=n.getHours(),r[1]=n.getMinutes(),r[2]=n.getSeconds()),t._selectedHour=r[0],t._selectedMinute=r[1],t._selectedSecond=r[2],this._showTime(t)},_determineTime:function(t,r){var i=function(e){var t=new Date;return t.setTime(t.getTime()+e*1e3),t},s=function(e){var t=n._extractTime(r,e),i=new Date,s=t?t[0]:i.getHours(),o=t?t[1]:i.getMinutes(),u=t?t[2]:i.getSeconds();if(!t){var a=/([+-]?[0-9]+)\s*(s|S|m|M|h|H)?/g,f=a.exec(e);while(f){switch(f[2]||"s"){case"s":case"S":u+=parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10);break;case"h":case"H":s+=parseInt(f[1],10)}f=a.exec(e)}}return i=new Date(0,0,10,s,o,u,0),/^!/.test(e)&&(i.getDate()>10?i=new Date(0,0,10,23,59,59):i.getDate()<10&&(i=new Date(0,0,10,0,0,0))),i},o=function(e){return new Date(0,0,0,e[0],e[1]||0,e[2]||0,0)};return t?typeof t=="string"?s(t):typeof t=="number"?i(t):e.isArray(t)?o(t):t:null},_normaliseTime:function(e){return e?(e.setFullYear(1900),e.setMonth(0),e.setDate(0),e):null}});var n=e.timeEntry}(jQuery),define("jquery.timeentry",function(){}),function(e){function r(){this.controls={bold:{groupIndex:0,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},createLink:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.link?e.wysiwyg.controls.link.init(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.link.js",function(){n.controls.createLink.exec.apply(n)}):t.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},unLink:{groupIndex:6,visible:!0,exec:function(){this.editorDoc.execCommand("unlink",!1,null)},tooltip:"Remove link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!0,className:"h1",command:e.browser.msie||e.browser.opera?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.opera?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!0,className:"h2",command:e.browser.msie||e.browser.opera?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.opera?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!0,className:"h3",command:e.browser.msie||e.browser.opera?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.opera?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var t,n,r,i;e.browser.msie||e.browser.opera?t="backcolor":t="hilitecolor";if(e.browser.msie)n=this.getInternalRange().parentElement();else{r=this.getInternalSelection(),n=r.extentNode||r.focusNode;while(n.style===undefined){n=n.parentNode;if(n.tagName&&n.tagName.toLowerCase()==="body")return}}n.style.backgroundColor==="rgb(255, 255, 102)"||n.style.backgroundColor==="#ffff66"?i="#ffffff":i="#ffff66",this.editorDoc.execCommand(t,!1,i)}},html:{groupIndex:10,visible:!1,exec:function(t,n){var r;this.options.resizeOptions&&e.fn.resizable&&(r=this.element.height()),this.viewHTML?(this.setContent(typeof n=="function"?n(this.original.value):this.original.value),e(this.original).hide(),this.editor.show(),this.options.resizeOptions&&e.fn.resizable&&(r===this.element.height()&&this.element.height(r+this.editor.height()),this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.removeClass("active"):t.removeClass("disabled")})):(this.saveContent(t),e(this.original).css({width:this.editor.width(),height:this.editor.height(),resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&e.fn.resizable&&(r===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.addClass("active"):!1===t.hasClass("fullscreen")&&t.removeClass("active").addClass("disabled")})),this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:!0,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!0,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.image?e.wysiwyg.controls.image.init(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.image.js",function(){n.controls.insertImage.exec.apply(n)}):t.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.table?e.wysiwyg.controls.table(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.table.js",function(){n.controls.insertTable.exec.apply(n)}):t.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:!0,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:!0,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:!0,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:!0,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","ltr"),!0):!1},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!0,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:e.browser.msie||e.browser.opera?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},redo:{groupIndex:4,visible:!0,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","rtl"),!0):!1},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!0,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!0,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:!0,tooltip:"Undo"},code:{visible:!0,groupIndex:6,tooltip:"Code snippet",exec:function(){var t=this.getInternalRange(),n=e(t.commonAncestorContainer),r=t.commonAncestorContainer.nodeName.toLowerCase();n.parent("code").length?n.unwrap():r!=="body"&&n.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){e.wysiwyg.controls.cssWrap.init(this)}}},this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin:0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin:0;">INITIAL_CONTENT</body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!1,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>Initial content</p>",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}},dialog:"default"},this.availableControlProperties=["arguments","callback","callbackArguments","className","command","css","custom","exec","groupIndex","hotkey","icon","separator","tags","tooltip","visible"],this.editor=null,this.editorDoc=null,this.element=null,this.options={},this.original=null,this.savedRange=null,this.timers=[],this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],this.isDestroyed=!1,this.dom={ie:{parent:null},w3c:{parent:null}},this.dom.parent=this,this.dom.ie.parent=this.dom,this.dom.w3c.parent=this.dom,this.ui={},this.ui.self=this,this.ui.toolbar=null,this.ui.initialHeight=null,this.dom.getAncestor=function(e,t){t=t.toLowerCase();while(e&&e.tagName!==undefined&&"body"!==e.tagName.toLowerCase()){if(t===e.tagName.toLowerCase())return e;e=e.parentNode}if(!e.tagName&&(e.previousSibling||e.nextSibling)){if(e.previousSibling&&e.previousSibling.tagName.toLowerCase()===t)return e.previousSibling;if(e.nextSibling&&e.nextSibling.tagName.toLowerCase()===t)return e.nextSibling}return null},this.dom.getElement=function(e){var t=this;return e=e.toLowerCase(),window.getSelection?t.w3c.getElement(e):t.ie.getElement(e)},this.dom.ie.getElement=function(e){var t=this.parent,n=t.parent.getInternalSelection(),r=n.createRange(),i;if("Control"===n.type){if(1!==r.length)return null;i=r.item(0)}else i=r.parentElement();return t.getAncestor(i,e)},this.dom.w3c.getElement=function(e){var t=this.parent,n=t.parent.getInternalRange(),r;if(!n)return null;r=n.commonAncestorContainer,3===r.nodeType&&(r=r.parentNode),r===n.startContainer&&(r=r.childNodes[n.startOffset]);if(!r.tagName&&(r.previousSibling||r.nextSibling)){if(r.previousSibling&&r.previousSibling.tagName.toLowerCase()===e)return r.previousSibling;if(r.nextSibling&&r.nextSibling.tagName.toLowerCase()===e)return r.nextSibling}return t.getAncestor(r,e)},this.ui.addHoverClass=function(){e(this).addClass("wysiwyg-button-hover")},this.ui.appendControls=function(){var t=this,n=this.self,r=n.parseControls(),i=!0,s=[],o={},u,a,f=function(e,n){n.groupIndex&&a!==n.groupIndex&&(a=n.groupIndex,i=!1);if(!n.visible)return;i||(t.appendItemSeparator(),i=!0),n.custom?t.appendItemCustom(e,n):t.appendItem(e,n)};e.each(r,function(e,t){var n="empty";undefined!==t.groupIndex&&(""===t.groupIndex?n="empty":n=t.groupIndex),undefined===o[n]&&(s.push(n),o[n]={}),o[n][e]=t}),s.sort(function(e,t){return typeof e=="number"&&typeof t=="number"?e-t:(e=e.toString(),t=t.toString(),e>t?1:e===t?0:-1)}),0<s.length&&(a=s[0]);for(u=0;u<s.length;u+=1)e.each(o[s[u]],f)},this.ui.appendItem=function(t,n){var r=this.self,i=n.className||n.command||t||"empty",s=n.tooltip||n.command||t||"";return e('<li role="menuitem" unselectable="on">'+i+"</li>").addClass(i).attr("title",s).hover(this.addHoverClass,this.removeHoverClass).click(function(i){if(e(this).hasClass("disabled"))return!1;r.triggerControl(t,n);var s=e(i.target);for(var o in r.controls)if(s.hasClass(o)){r.ui.toolbar.find("."+o).toggleClass("active"),r.editorDoc.rememberCommand=!0;break}return this.blur(),r.ui.returnRange(),r.ui.focus(),!0}).appendTo(r.ui.toolbar)},this.ui.appendItemCustom=function(t,n){var r=this.self,i=n.tooltip||n.command||t||"";return n.callback&&e(window).bind("trigger-"+t+".wysiwyg",n.callback),e('<li role="menuitem" unselectable="on" style="background: url(\''+n.icon+"') no-repeat;\"></li>").addClass("custom-command-"+t).addClass("wysiwyg-custom-command").addClass(t).attr("title",i).hover(this.addHoverClass,this.removeHoverClass).click(function(){return e(this).hasClass("disabled")?!1:(r.triggerControl.apply(r,[t,n]),this.blur(),r.ui.returnRange(),r.ui.focus(),r.triggerControlCallback(t),!0)}).appendTo(r.ui.toolbar)},this.ui.appendItemSeparator=function(){var t=this.self;return e('<li role="separator" class="separator"></li>').appendTo(t.ui.toolbar)},this.autoSaveFunction=function(){this.saveContent()},this.ui.checkTargets=function(t){var n=this.self;e.each(n.options.controls,function(r,i){var s=i.className||i.command||r||"empty",o,u,a,f,l=function(t){var r=0,i=0;e.each(t,function(e,t){"function"==typeof t?t.apply(n,[f.css(e).toString().toLowerCase(),n])&&(r+=1):f.css(e).toString().toLowerCase()===t&&(r+=1),i+=1}),i===r&&n.ui.toolbar.find("."+s).addClass("active")};"fullscreen"!==s&&n.ui.toolbar.find("."+s).removeClass("active");if(i.tags||i.options&&i.options.tags){o=i.tags||i.options&&i.options.tags,u=t;while(u){if(u.nodeType!==1)break;e.inArray(u.tagName.toLowerCase(),o)!==-1&&n.ui.toolbar.find("."+s).addClass("active"),u=u.parentNode}}if(i.css||i.options&&i.options.css){a=i.css||i.options&&i.options.css,f=e(t);while(f){if(f[0].nodeType!==1)break;l(a),f=f.parent()}}})},this.ui.designMode=function(){var e=3,t=this.self,n;n=function(e){if("on"===t.editorDoc.designMode){t.timers.designMode&&window.clearTimeout(t.timers.designMode),t.innerDocument()!==t.editorDoc&&t.ui.initFrame();return}try{t.editorDoc.designMode="on"}catch(r){}e-=1,e>0&&(t.timers.designMode=window.setTimeout(function(){n(e)},100))},n(e)},this.destroy=function(){this.isDestroyed=!0;var t,n=this.element.closest("form");for(t=0;t<this.timers.length;t+=1)window.clearTimeout(this.timers[t]);return e(this.original).appendTo(e(this.element.parent())),n.unbind(".wysiwyg"),this.element.remove(),e.removeData(this.original,"wysiwyg"),e(this.original).show(),this},this.getRangeText=function(){var e=this.getInternalRange();return e&&(e.toString?e=e.toString():e.text&&(e=e.text)),e},this.execute=function(e,t){typeof t=="undefined"&&(t=null),this.editorDoc.execCommand(e,!1,t)},this.extendOptions=function(t){var n={};return"object"==typeof t.controls&&(n=t.controls,delete t.controls),t=e.extend(!0,{},this.defaults,t),t.controls=e.extend(!0,{},n,this.controls,n),t.rmUnusedControls&&e.each(t.controls,function(e){n[e]||delete t.controls[e]}),t},this.ui.focus=function(){var e=this.self;return e.editor.get(0).contentWindow.focus(),e},this.ui.returnRange=function(){var e=this.self,n;if(e.savedRange!==null){if(window.getSelection){n=window.getSelection(),n.rangeCount>0&&n.removeAllRanges();try{n.addRange(e.savedRange)}catch(r){t.error(r)}}else window.document.createRange?window.getSelection().addRange(e.savedRange):window.document.selection&&e.savedRange.select();e.savedRange=null}},this.increaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(e.browser.webkit){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("big");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.decreaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(e.browser.webkit){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("small");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.getContent=function(){return this.viewHTML&&this.setContent(this.original.value),this.events.filter("getContent",this.editorDoc.body.innerHTML)},this.events={_events:{},bind:function(e,t){typeof this._events.eventName!="object"&&(this._events[e]=[]),this._events[e].push(t)},trigger:function(t,n){if(typeof this._events.eventName=="object"){var r=this.editor;e.each(this._events[t],function(e,t){typeof t=="function"&&t.apply(r,n)})}},filter:function(t,n){if(typeof this._events[t]=="object"){var r=this.editor,i=Array.prototype.slice.call(arguments,1);e.each(this._events[t],function(e,t){typeof t=="function"&&(n=t.apply(r,i))})}return n}},this.getElementByAttributeValue=function(t,n,r){var i,s,o=this.editorDoc.getElementsByTagName(t);for(i=0;i<o.length;i+=1){s=o[i].getAttribute(n),e.browser.msie&&(s=s.substr(s.length-r.length));if(s===r)return o[i]}return!1},this.getInternalRange=function(){var e=this.getInternalSelection();return e?e.rangeCount&&e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():null:null},this.getInternalSelection=function(){var e=this.editor.get(0).contentWindow;return e&&e.getSelection?e.getSelection():this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null},this.getRange=function(){var e=this.getSelection();if(!e)return null;if(e.rangeCount&&e.rangeCount>0)e.getRangeAt(0);else if(e.createRange)return e.createRange();return null},this.getSelection=function(){var e=window.getSelection&&window.getSelection()!==null&&window.getSelection().createRange?window.getSelection():window.document.selection;return e},this.ui.grow=function(){var t=this.self,n=e(t.editorDoc.body),r=e.browser.msie?n[0].scrollHeight:n.height()+2+20,i=t.ui.initialHeight,s=Math.max(r,i);return s=Math.min(s,t.options.maxHeight),t.editor.attr("scrolling",s<t.options.maxHeight?"no":"auto"),n.css("overflow",s<t.options.maxHeight?"hidden":""),t.editor.get(0).height=s,t},this.init=function(t,n){var r=this,i=e(t).closest("form"),s=t.width||t.clientWidth||0,o=t.height||t.clientHeight||0;this.options=this.extendOptions(n),this.original=t,this.ui.toolbar=e(this.options.toolbarHtml),e.browser.msie&&parseInt(e.browser.version,10)<8&&(this.options.autoGrow=!1),s===0&&t.cols&&(s=t.cols*8+21),o===0&&t.rows&&(o=t.rows*16+16),this.editor=e(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0"),this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(o-6).toString()+"px",width:s>50?s.toString()+"px":""}),e.browser.msie&&parseInt(e.browser.version,10)<7&&this.editor.css("height",o.toString()+"px"));if(t.id){var u=t.id+"-wysiwyg-iframe";document.getElementById(u)||this.editor.attr("id",u)}this.editor.attr("tabindex",e(t).attr("tabindex")),this.element=e("<div/>").addClass("wysiwyg"),this.options.iFrameClass||this.element.css({width:s>0?s.toString()+"px":"100%"}),e(t).hide().before(this.element),this.viewHTML=!1,this.initialContent=e(t).val(),this.ui.initFrame(),this.options.resizeOptions&&e.fn.resizable&&this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions)),this.options.autoSave&&i.bind("submit.wysiwyg",function(){r.autoSaveFunction()}),i.bind("reset.wysiwyg",function(){r.resetFunction()})},this.ui.initFrame=function(){var t=this.self,n,r,i,s;s=e('<div class="toolbar-wrap"><div style="clear: both"><!-- --></div>').prepend(t.ui.toolbar),t.ui.appendControls(),t.element.append(s).append(t.editor).append(t.original),t.editorDoc=t.innerDocument();if(t.isDestroyed)return null;t.ui.designMode(),t.editorDoc.open(),t.editorDoc.write(t.options.html.replace(/INITIAL_CONTENT/,function(){return t.wrapInitialContent()})),t.editorDoc.close(),e.wysiwyg.plugin.bind(t),e(t.editorDoc).trigger("initFrame.wysiwyg"),e(t.editorDoc).bind("click.wysiwyg",function(e){t.ui.checkTargets(e.target?e.target:e.srcElement)}),e(t.original).focus(function(){if(e(this).filter(":visible").length===0||e.browser.opera||e.browser.chrome)return;t.ui.focus()}),e(e.wysiwyg.quirk.quirks).each(function(e,n){n.init(t)}),e(t.editorDoc).keydown(function(e){var n;if(e.keyCode===8){n=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/;if(n.test(t.getContent()))return e.stopPropagation(),!1}return t.editorDoc.rememberCommand=!1,!0}),e.browser.msie||e(t.editorDoc).keydown(function(e){var n,r;if(e.ctrlKey||e.metaKey)for(n in t.options.controls){r=t.options.controls[n];if(r.hotkey&&r.hotkey.ctrl&&e.keyCode===r.hotkey.key)return t.triggerControl.apply(t,[n,r]),!1}return!0}),t.options.brIE&&e(t.editorDoc).keydown(function(n){if(n.keyCode===13){if(e.browser.msie||e.browser.opera){var r=t.getRange();r?(r.pasteHTML("<br/>"),r.collapse(!1),r.select()):t.insertHtml("<br/>")}else{var i=t.editorDoc.getSelection();if(!(i&&i.getRangeAt&&i.rangeCount))return!0;var s=i.getRangeAt(0);if(!s)return!0;var o=document.createElement("br");s.deleteContents(),s.insertNode(o),s.setStartAfter(o),s.collapse(!0),i.removeAllRanges(),i.addRange(s)}return!1}return!0}),t.options.plugins.rmFormat.rmMsWordMarkup&&e(t.editorDoc).bind("keyup.wysiwyg",function(n){(n.ctrlKey||n.metaKey)&&86===n.keyCode&&e.wysiwyg.rmFormat&&("object"==typeof t.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(t,{rules:{msWordMarkup:t.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(t,{rules:{msWordMarkup:{enabled:!0}}}))}),t.options.autoSave&&e(t.editorDoc).keydown(function(){t.autoSaveFunction()}).keyup(function(){t.autoSaveFunction()}).mousedown(function(){t.autoSaveFunction()}).bind(e.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){t.autoSaveFunction()}),t.options.autoGrow&&(t.options.initialMinHeight!==null?t.ui.initialHeight=t.options.initialMinHeight:t.ui.initialHeight=e(t.editorDoc).height(),e(t.editorDoc.body).css("border","1px solid white"),r=function(){t.ui.grow()},e(t.editorDoc).keyup(r),e(t.editorDoc).bind("editorRefresh.wysiwyg",r),t.ui.grow()),t.options.css&&(String===t.options.css.constructor?e.browser.msie?(n=t.editorDoc.createStyleSheet(t.options.css),e(n).attr({media:"all"})):(n=e("<link/>").attr({href:t.options.css,media:"all",rel:"stylesheet",type:"text/css"}),e(t.editorDoc).find("head").append(n)):t.timers.initFrame_Css=window.setTimeout(function(){e(t.editorDoc.body).css(t.options.css)},0)),t.initialContent.length===0&&("function"==typeof t.options.initialContent?t.setContent(t.options.initialContent()):t.setContent(t.options.initialContent)),t.options.maxLength>0&&e(t.editorDoc).keydown(function(n){e(t.editorDoc).text().length>=t.options.maxLength&&e.inArray(n.which,t.validKeyCodes)===-1&&n.preventDefault()}),e.each(t.options.events,function(n,r){e(t.editorDoc).bind(n+".wysiwyg",function(e){r.apply(t.editorDoc,[e,t])})}),e.browser.msie?e(t.editorDoc).bind("beforedeactivate.wysiwyg",function(){t.savedRange=t.getInternalRange()}):e(t.editorDoc).bind("blur.wysiwyg",function(){t.savedRange=t.getInternalRange()}),e(t.editorDoc.body).addClass("wysiwyg"),t.options.events&&t.options.events.save&&(i=t.options.events.save,e(t.editorDoc).bind("keyup.wysiwyg",i),e(t.editorDoc).bind("change.wysiwyg",i),e.support.noCloneEvent?e(t.editorDoc).bind("input.wysiwyg",i):(e(t.editorDoc).bind("paste.wysiwyg",i),e(t.editorDoc).bind("cut.wysiwyg",i)));if(t.options.xhtml5&&t.options.unicode){var o={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,"int":8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};t.events.bind("getContent",function(e){return e.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(e,t){o[t]||(t=t.toLowerCase(),o[t]||(t="__replacement"));var n=o[t];return String.fromCharCode(n)})})}e(t.original).trigger("ready.jwysiwyg",[t.editorDoc,t])},this.innerDocument=function(){var e=this.editor.get(0);if(e.nodeName.toLowerCase()==="iframe"){if(e.contentDocument)return e.contentDocument;if(e.contentWindow)return e.contentWindow.document;if(this.isDestroyed)return null;t.error("Unexpected error in innerDocument")}return e},this.insertHtml=function(t){var n,r;return!t||t.length===0?this:(e.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),n=this.getElementByAttributeValue("img","src","#jwysiwyg#"),n&&e(n).replaceWith(t)):e.browser.mozilla?1===e(t).length?(r=this.getInternalRange(),r.deleteContents(),r.insertNode(e(t).get(0))):this.editorDoc.execCommand("insertHTML",!1,t):this.editorDoc.execCommand("insertHTML",!1,t)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,t)),this.saveContent(),this)},this.parseControls=function(){var t=this;return e.each(this.options.controls,function(n,r){e.each(r,function(r){if(-1===e.inArray(r,t.availableControlProperties))throw n+'["'+r+'"]: property "'+r+'" not exists in Wysiwyg.availableControlProperties'})}),this.options.parseControls?this.options.parseControls.call(this):this.options.controls},this.removeFormat=function(){return e.browser.msie&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),e.wysiwyg.rmFormat&&e.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this},this.ui.removeHoverClass=function(){e(this).removeClass("wysiwyg-button-hover")},this.resetFunction=function(){this.setContent(this.initialContent)},this.saveContent=function(t){if(this.viewHTML)return;if(this.original){var n,r;n=typeof t=="function"?t(this.getContent()):this.getContent(),this.options.rmUnwantedBr&&(n=n.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&(r=e("<div/>").addClass("temp").append(n),r.children("div").each(function(){var t=e(this),n=t.find("p"),r;if(0===n.length){n=e("<p></p>");if(this.attributes.length>0)for(r=0;r<this.attributes.length;r+=1)n.attr(this.attributes[r].name,t.attr(this.attributes[r].name));n.append(t.html()),t.replaceWith(n)}}),n=r.html());var i=e.Event("change");i.source=this,e(this.original).val(n).trigger(i),this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this},this.setContent=function(e){return this.editorDoc.body.innerHTML=e,this.saveContent(),this},this.triggerControl=function(e,n){var r=n.command||e,i=n.arguments||[];if(n.exec)n.exec.apply(this,n.callbackArguments);else{this.ui.focus(),this.ui.withoutCss();try{this.editorDoc.execCommand(r,!1,i)}catch(s){t.error(s)}}this.options.autoSave&&this.autoSaveFunction()},this.triggerControlCallback=function(t){e(window).trigger("trigger-"+t+".wysiwyg",[this])},this.ui.withoutCss=function(){var t=this.self;if(e.browser.mozilla)try{t.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(n){try{t.editorDoc.execCommand("useCSS",!1,!0)}catch(r){}}return t},this.wrapInitialContent=function(){var e=this.initialContent;return e}}var t=window.console||{log:e.noop,error:function(t){e.error(t)}},n=e.fn.prop!==undefined&&e.fn.removeProp!==undefined;e.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i={},s;if(!t)return this;i[n]=e.extend(!0,{visible:!0,custom:!0},r),e.extend(!0,t.options.controls,i),s=e(t.options.toolbarHtml),t.ui.toolbar.replaceWith(s),t.ui.toolbar=s,t.ui.appendControls()})},clear:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent("")})},console:t,destroy:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.destroy()})},document:function(t){var n=t.data("wysiwyg");return n?e(n.editorDoc):undefined},focus:function(e){var t=e.data("wysiwyg");return t?(t.ui.focus(),e):undefined},getContent:function(e){var t=e.data("wysiwyg");return t?t.getContent():undefined},getSelection:function(e){var t=e.data("wysiwyg");return t?t.getRangeText():undefined},init:function(t,n){return t.each(function(){var t=e.extend(!0,{},n),i;if("textarea"!==this.nodeName.toLowerCase()||e(this).data("wysiwyg"))return;i=new r,i.init(this,t),e.data(this,"wysiwyg",i),e(i.editorDoc).trigger("afterInit.wysiwyg")})},insertHtml:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.insertHtml(n)})},plugin:{listeners:{},bind:function(t){var n=this,r=function(){return function(n){var r=n.data.plugin.name,i=n.data.plugin.method;e.wysiwyg[r][i].apply(e.wysiwyg[r],[t])}};e.each(this.listeners,function(i,s){var o,u;for(o=0;o<s.length;o+=1)u=n.parseName(s[o]),e(t.editorDoc).bind(i+".wysiwyg",{plugin:u},r())})},exists:function(t){var n;return"string"!=typeof t?!1:(n=this.parseName(t),!e.wysiwyg[n.name]||!e.wysiwyg[n.name][n.method]?!1:!0)},listen:function(t,n){var r;return r=this.parseName(n),!e.wysiwyg[r.name]||!e.wysiwyg[r.name][r.method]?!1:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n),!0)},parseName:function(e){var t;return"string"!=typeof e?!1:(t=e.split("."),2>t.length?!1:{name:t[0],method:t[1]})},register:function(n){return n.name||t.error("Plugin name missing"),e.each(e.wysiwyg,function(e){e===n.name&&t.error("Plugin with name '"+n.name+"' was already registered")}),e.wysiwyg[n.name]=n,!0}},quirk:{quirks:[],assert:function(e,t){if(!e)throw new Error(t)},register:function(e){this.assert(typeof e.init=="function","quirk.init must be a function"),this.quirks.push(e)}},removeFormat:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.removeFormat()})},save:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.saveContent()})},selectAll:function(e){var t=e.data("wysiwyg"),n,r,i;if(!t)return this;n=t.editorDoc.body,window.getSelection?(i=t.getInternalSelection(),i.selectAllChildren(n)):(r=n.createTextRange(),r.moveToElementText(n),r.select())},setContent:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent(n)})},triggerControl:function(n,r){return n.each(function(){var n=e(this).data("wysiwyg");if(!n)return this;n.controls[r]||t.error("Control '"+r+"' not exists"),n.triggerControl.apply(n,[r,n.controls[r]])})},support:{prop:n},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(t){var n=this,r,i=[];return this.extraSafeEntities[1].length===0&&e.each(this.extraSafeEntities[0],function(e,t){n.extraSafeEntities[1].push(t.charCodeAt(0))}),r=t.split(""),e.each(r,function(t){var s=r[t].charCodeAt(0);e.inArray(s,n.extraSafeEntities[1])&&(s<65||s>127||s>90&&s<97)?i.push("&#"+s+";"):i.push(r[t])}),i.join("")}}},e.wysiwyg.dialog=function(t,n){var r=t&&t.options&&t.options.dialog?t.options.dialog:n.theme?n.theme:"default",i=new e.wysiwyg.dialog.createDialog(r),s=this,o=e(s);return this.options={modal:!0,draggable:!0,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:2e3,open:!1,close:!1},this.isOpen=!1,e.extend(this.options,n),this.object=i,this.open=function(){this.isOpen=!0,i.init.apply(s,[]);var e=i.show.apply(s,[]);o.trigger("afterOpen",[e])},this.show=function(){this.isOpen=!0,o.trigger("beforeShow"),o.trigger("afterShow")},this.hide=function(){this.isOpen=!1,o.trigger("beforeHide");var e=i.hide.apply(s,[]);o.trigger("afterHide",[e])},this.close=function(){this.isOpen=!1;var e=i.hide.apply(s,[]);o.trigger("beforeClose",[e]),i.destroy.apply(s,[]),o.trigger("afterClose",[e]),t.ui.focus()},this.options.open&&o.bind("afterOpen",this.options.open),this.options.close&&o.bind("afterClose",this.options.close),this},e.extend(!0,e.wysiwyg.dialog,{_themes:{},_theme:"",register:function(t,n){e.wysiwyg.dialog._themes[t]=n},deregister:function(t){delete e.wysiwyg.dialog._themes[t]},createDialog:function(t){return new e.wysiwyg.dialog._themes[t]},getDimensions:function(){var t=document.body.scrollWidth,n=document.body.scrollHeight;return e.browser.opera&&(n=Math.max(e(document).height(),e(window).height(),document.documentElement.clientHeight)),[t,n]}}),e(function(){e.ui&&e.wysiwyg.dialog.register("jqueryui",function(){var t=this;this._$dialog=null,this.init=function(){var n=this.options.content;typeof n=="object"&&(typeof n.html=="function"?n=n.html():typeof n.toString=="function"&&(n=n.toString())),t._$dialog=e("<div></div>").attr("title",this.options.title).html(n);var r=this.options.height==="auto"?300:this.options.height,i=this.options.width==="auto"?450:this.options.width;return t._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:r,width:i}),t._$dialog},this.show=function(){return t._$dialog.dialog("open"),t._$dialog},this.hide=function(){return t._$dialog.dialog("close"),t._$dialog},this.destroy=function(){return t._$dialog.dialog("destroy"),t._$dialog}}),e.wysiwyg.dialog.register("default",function(){var t=this;this._$dialog=null,this.init=function(){var n=this,r=this.options.content;typeof r=="object"&&(typeof r.html=="function"?r=r.html():typeof r.toString=="function"&&(r=r.toString())),t._$dialog=e('<div class="wysiwyg-dialog"></div>').css({"z-index":this.options.zIndex});var i=e('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"></div><div class="wysiwyg-dialog-title">'+this.options.title+"</div></div>"),s=e('<a href="#" class="wysiwyg-dialog-close-button">X</a>');s.click(function(){n.close()}),i.find(".wysiwyg-dialog-close-wrapper").prepend(s);var o=e('<div class="wysiwyg-dialog-content">'+r+"</div>");t._$dialog.append(i).append(o);var u=this.options.height==="auto"?300:this.options.height,a=this.options.width==="auto"?450:this.options.width;return t._$dialog.hide().css({width:a,height:u,left:(e(window).width()-a)/2,top:(e(window).height()-u)/3}),e("body").append(t._$dialog),t._$dialog},this.show=function(){if(this.options.modal){var n=e.wysiwyg.dialog.getDimensions(),r=e('<div class="wysiwyg-dialog-modal-div"></div>').css({width:n[0],height:n[1]});t._$dialog.wrap(r)}if(this.options.draggable){var i=!1;t._$dialog.find("div.wysiwyg-dialog-topbar").bind("mousedown",function(t){t.preventDefault(),e(this).css({cursor:"move"});var n=e(this),r=e(this).parents(".wysiwyg-dialog"),s=t.pageX-parseInt(r.css("left"),10),o=t.pageY-parseInt(r.css("top"),10);i=!0,e(this).css({cursor:"move"}),e(document).bind("mousemove",function(e){e.preventDefault(),i&&r.css({top:e.pageY-o,left:e.pageX-s})}).bind("mouseup",function(t){t.preventDefault(),i=!1,n.css({cursor:"auto"}),e(document).unbind("mousemove").unbind("mouseup")})})}return t._$dialog.show(),t._$dialog},this.hide=function(){return t._$dialog.hide(),t._$dialog},this.destroy=function(){return this.options.modal&&t._$dialog.unwrap(),this.options.draggable&&t._$dialog.find("div.wysiwyg-dialog-topbar").unbind("mousedown"),t._$dialog.remove(),t._$dialog}})}),e.browser===undefined&&(jQuery.browser=function(){var e=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t=e(navigator.userAgent),n={};return t.browser&&(n[t.browser]=!0,n.version=t.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0),n}),e.fn.wysiwyg=function(n){var r=arguments,i;if("undefined"!=typeof e.wysiwyg[n])return r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[n].apply(e.wysiwyg,Array.prototype.slice.call(r,1));if("object"==typeof n||!n)return Array.prototype.unshift.call(r,this),e.wysiwyg.init.apply(e.wysiwyg,r);if(e.wysiwyg.plugin.exists(n))return i=e.wysiwyg.plugin.parseName(n),r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[i.name][i.method].apply(e.wysiwyg[i.name],Array.prototype.slice.call(r,1));t.error("Method '"+n+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")},e.fn.getWysiwyg=function(){return this.data("wysiwyg")}}(jQuery),define("jquery.wysiwyg",function(){}),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.colorpicker.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.colorpicker={modalOpen:!1,color:{back:{prev:"#ffffff",palette:[]},fore:{prev:"#123456",palette:[]}},addColorToPalette:function(t,n){-1===e.inArray(n,this.color[t].palette)?this.color[t].palette.push(n):this.color[t].palette.sort(function(e,t){return e===n?1:0})},init:function(t){if(e.wysiwyg.controls.colorpicker.modalOpen===!0)return!1;e.wysiwyg.controls.colorpicker.modalOpen=!0;var n=this,r,i,s,o,u,a;o={legend:"Colorpicker",color:"Color",submit:"Apply",reset:"Cancel"},s='<form class="wysiwyg"><fieldset><legend>{legend}</legend><ul class="palette"></ul><label>{color}: <input type="text" name="color" value="#123456"/></label><div class="wheel"></div><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(u in o)e.wysiwyg.i18n&&(a=e.wysiwyg.i18n.t(o[u],"dialogs.colorpicker"),a===o[u]&&(a=e.wysiwyg.i18n.t(o[u],"dialogs")),o[u]=a),s=s.replace("{"+u+"}",o[u]);e.modal?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),e.modal(r.html(),{maxWidth:t.defaults.formWidth,maxHeight:t.defaults.formHeight,overlayClose:!0,onShow:function(r){e("input:submit",r.data).click(function(i){var s=e('input[name="color"]',r.data).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e.modal.close(),!1}),e("input:reset",r.data).click(function(n){return e.browser.msie&&t.ui.returnRange(),e.modal.close(),!1}),e("fieldset",r.data).click(function(e){e.stopPropagation()})},onClose:function(t){e.wysiwyg.controls.colorpicker.modalOpen=!1,e.modal.close()}})):e.fn.dialog?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),i=r.appendTo("body"),i.dialog({modal:!0,open:function(s,o){e("input:submit",r).click(function(r){var s=e('input[name="color"]',i).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(i).dialog("close"),!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(i).dialog("close"),!1}),e("fieldset",r).click(function(e){e.stopPropagation()})},close:function(t,n){e.wysiwyg.controls.colorpicker.modalOpen=!1,i.dialog("destroy"),i.remove()}})):e.farbtastic&&(r=e("<div/>").css({position:"fixed","z-index":2e3,left:"50%",top:"50%",background:"rgb(0, 0, 0)","margin-top":-1*Math.round(t.defaults.formHeight/2),"margin-left":-1*Math.round(t.defaults.formWidth/2)}).html(s),this.renderPalette(r,"fore"),r.find("input[name=color]").val(n.color.fore.prev),r.find(".wheel").farbtastic(r.find("input:text")),e("input:submit",r).click(function(i){var s=e('input[name="color"]',r).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("body").append(r),r.click(function(e){e.stopPropagation()}))},renderPalette:function(t,n){var r=t.find(".palette"),i=function(){var n=e(this).text();t.find("input[name=color]").val(n),e.farbtastic&&t.find("input[name=color]").trigger("keyup")},s,o,u;for(u=this.color[n].palette.length-1;u>-1;u-=1)s=e("<div/>").css({"float":"left",width:"16px",height:"16px",margin:"0px 5px 0px 0px","background-color":this.color[n].palette[u]}),o=e("<li>"+this.color[n].palette[u]+"</li>").css({"float":"left","list-style":"none"}).append(s).bind("click.wysiwyg",i),r.append(o).css({margin:"0px",padding:"0px"})}}}(jQuery),define("controls/wysiwyg.colorpicker",function(){}),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.cssWrap.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.cssWrap={init:function(t){var n=this,r,i,s,o={legend:"Wrap Element",wrapperType:"Wrapper Type",ID:"ID","class":"Class",wrap:"Wrap",unwrap:"Unwrap",cancel:"Cancel"};r='<form class="wysiwyg"><fieldset><legend>{legend}</legend><div class="wysiwyg-dialogRow"><label>{wrapperType}: &nbsp;<select name="type"><option value="span">Span</option><option value="div">Div</option></select></label></div><div class="wysiwyg-dialogRow"><label>{ID}: &nbsp;<input name="id" type="text" /></label></div><div class="wysiwyg-dialogRow"><label>{class}: &nbsp;<input name="class" type="text" /></label></div><div class="wysiwyg-dialogRow"><input type="button" class="button cssWrap-unwrap" style="display:none;" value="{unwrap}"/></label><input type="submit"  class="button cssWrap-submit" value="{wrap}"/></label><input type="reset" class="button cssWrap-cancel" value="{cancel}"/></div></fieldset></form>';for(i in o)e.wysiwyg.i18n&&(s=e.wysiwyg.i18n.t(o[i]),s===o[i]&&(s=e.wysiwyg.i18n.t(o[i],"dialogs")),o[i]=s),r=r.replace("{"+i+"}",o[i]);return e(".wysiwyg-dialog-wrapper").length||(e(r).appendTo("body"),e("form.wysiwyg").dialog({modal:!0,open:function(n,r){var i=e(this),s=t.getInternalRange(),o,u;if(!s)return alert("You must select some elements before you can wrap them."),i.dialog("close"),0;e.browser.msie&&t.ui.focus(),o=e(s.commonAncestorContainer),u=s.commonAncestorContainer.nodeName.toLowerCase(),o.parent(".wysiwygCssWrapper").length&&(alert(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").val(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").attr("disabled","disabled"),i.find("input[name=id]").val(o.parent(".wysiwygCssWrapper").attr("id")),i.find("input[name=class]").val(o.parent(".wysiwygCssWrapper").attr("class").replace("wysiwygCssWrapper ","")),e("form.wysiwyg").find(".cssWrap-unwrap").show(),e("form.wysiwyg").find(".cssWrap-unwrap").click(function(e){return e.preventDefault(),u!=="body"&&o.unwrap(),i.dialog("close"),1})),e("form.wysiwyg").find(".cssWrap-submit").click(function(t){t.preventDefault();var n=e("form.wysiwyg").find("select[name=type]").val(),r=e("form.wysiwyg").find("input[name=id]").val(),s=e("form.wysiwyg").find("input[name=class]").val();u!=="body"&&(o.parent(".wysiwygCssWrapper").length?(o.parent(".wysiwygCssWrapper").attr("id",s),o.parent(".wysiwygCssWrapper").attr("class",s)):o.wrap("<"+n+' id="'+r+'" class="'+"wysiwygCssWrapper "+s+'"/>')),i.dialog("close")}),e("form.wysiwyg").find(".cssWrap-cancel").click(function(e){return e.preventDefault(),i.dialog("close"),1})},close:function(){e(this).dialog("destroy"),e(this).remove()}}),t.saveContent()),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),1}}}(jQuery),define("controls/wysiwyg.cssWrap",function(){}),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.image.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.image={groupIndex:6,visible:!0,exec:function(){e.wysiwyg.controls.image.init(this)},tags:["img"],tooltip:"Insert image",init:function(t){var n=this,r,i,s,o,u,a,f,l,c={alt:"",self:t.dom?t.dom.getElement("img"):null,src:"http://",title:""};a={legend:"Insert Image",preview:"Preview",url:"URL",title:"Title",description:"Description",width:"Width",height:"Height",original:"Original W x H","float":"Float",floatNone:"None",floatLeft:"Left",floatRight:"Right",submit:"Insert Image",reset:"Cancel",fileManagerIcon:"Select file from server"},o='<form class="wysiwyg" id="wysiwyg-addImage"><fieldset><div class="form-row"><span class="form-row-key">{preview}:</span><div class="form-row-value"><img src="" alt="{preview}" style="margin: 2px; padding:5px; max-width: 100%; overflow:hidden; max-height: 100px; border: 1px solid rgb(192, 192, 192);"/></div></div><div class="form-row"><label for="name">{url}:</label><div class="form-row-value"><input type="text" name="src" value=""/>',e.wysiwyg.fileManager&&e.wysiwyg.fileManager.ready&&(o+='<div class="wysiwyg-fileManager" title="{fileManagerIcon}"/>'),o+='</div></div><div class="form-row"><label for="name">{title}:</label><div class="form-row-value"><input type="text" name="imgtitle" value=""/></div></div><div class="form-row"><label for="name">{description}:</label><div class="form-row-value"><input type="text" name="description" value=""/></div></div><div class="form-row"><label for="name">{width} x {height}:</label><div class="form-row-value"><input type="text" name="width" value="" class="width-small"/> x <input type="text" name="height" value="" class="width-small"/></div></div><div class="form-row"><label for="name">{original}:</label><div class="form-row-value"><input type="text" name="naturalWidth" value="" class="width-small" disabled="disabled"/> x <input type="text" name="naturalHeight" value="" class="width-small" disabled="disabled"/></div></div><div class="form-row"><label for="name">{float}:</label><div class="form-row-value"><select name="float"><option value="">{floatNone}</option><option value="left">{floatLeft}</option><option value="right">{floatRight}</option></select></div></div><div class="form-row form-row-last"><label for="name"></label><div class="form-row-value"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></div></div></fieldset></form>';for(f in a)e.wysiwyg.i18n&&(l=e.wysiwyg.i18n.t(a[f],"dialogs.image"),l===a[f]&&(l=e.wysiwyg.i18n.t(a[f],"dialogs")),a[f]=l),u=new RegExp("{"+f+"}","g"),o=o.replace(u,a[f]);c.self&&(c.src=c.self.src?c.self.src:"",c.alt=c.self.alt?c.self.alt:"",c.title=c.self.title?c.self.title:"",c.width=c.self.width?c.self.width:"",c.height=c.self.height?c.self.height:"",c.styleFloat=e(c.self).css("float")),i=new e.wysiwyg.dialog(t,{title:a.legend,content:o}),e(i).bind("afterOpen",function(r,s){s.find("form#wysiwyg-addImage").submit(function(e){return e.preventDefault(),n.processInsert(s.container,t,c),i.close(),!1}),e.wysiwyg.fileManager&&e("div.wysiwyg-fileManager").bind("click",function(){e.wysiwyg.fileManager.init(function(e){s.find("input[name=src]").val(e),s.find("input[name=src]").trigger("change")})}),e("input:reset",s).click(function(e){return i.close(),!1}),e("fieldset",s).click(function(e){e.stopPropagation()}),n.makeForm(s,c)}),i.open(),e(t.editorDoc).trigger("editorRefresh.wysiwyg")},processInsert:function(t,n,r){var i,s=e('input[name="src"]',t).val(),o=e('input[name="imgtitle"]',t).val(),u=e('input[name="description"]',t).val(),a=e('input[name="width"]',t).val(),f=e('input[name="height"]',t).val(),l=e('select[name="float"]',t).val(),c=[],h="",p,d;n.options.controlImage&&n.options.controlImage.forceRelativeUrls&&(d=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),0===s.indexOf(d)&&(s=s.substr(d.length))),r.self?(e(r.self).attr("src",s).attr("title",o).attr("alt",u).css("float",l),a.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("width",a):e(r.self).css("width",""),f.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("height",f):e(r.self).css("height",""),n.saveContent()):(p=a.toString().match(/^[0-9]+(px|%)?$/),p&&(p[1]?c.push("width: "+a+";"):c.push("width: "+a+"px;")),p=f.toString().match(/^[0-9]+(px|%)?$/),p&&(p[1]?c.push("height: "+f+";"):c.push("height: "+f+"px;")),l.length>0&&c.push("float: "+l+";"),c.length>0&&(h=' style="'+c.join(" ")+'"'),i="<img src='"+s+"' title='"+o+"' alt='"+u+"'"+h+"/>",n.insertHtml(i))},makeForm:function(e,t){return e.find("input[name=src]").val(t.src),e.find("input[name=imgtitle]").val(t.title),e.find("input[name=description]").val(t.alt),e.find('input[name="width"]').val(t.width),e.find('input[name="height"]').val(t.height),e.find('select[name="float"]').val(t.styleFloat),e.find("img").attr("src",t.src),e.find("img").bind("load",function(){e.find("img").get(0).naturalWidth?(e.find('input[name="naturalWidth"]').val(e.find("img").get(0).naturalWidth),e.find('input[name="naturalHeight"]').val(e.find("img").get(0).naturalHeight)):e.find("img").attr("naturalWidth")&&(e.find('input[name="naturalWidth"]').val(e.find("img").attr("naturalWidth")),e.find('input[name="naturalHeight"]').val(e.find("img").attr("naturalHeight")))}),e.find("input[name=src]").bind("change",function(){e.find("img").attr("src",this.value)}),e}},e.wysiwyg.insertImage=function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i,s;if(!t)return this;if(!n||n.length===0)return this;e.browser.msie&&t.ui.focus();if(r){t.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),i=t.getElementByAttributeValue("img","src","#jwysiwyg#");if(i){i.src=n;for(s in r)r.hasOwnProperty(s)&&i.setAttribute(s,r[s])}}else t.editorDoc.execCommand("insertImage",!1,n);return t.saveContent(),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),this})}}(jQuery),define("controls/wysiwyg.image",function(){}),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.link.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.link={init:function(t){var n=this,r,i,s,o,u,a,f,l,c,h,p,d;f={legend:"Insert Link",url:"Link URL",title:"Link Title",target:"Link Target",submit:"Insert Link",reset:"Cancel"},a='<form class="wysiwyg"><fieldset><legend>{legend}</legend><label>{url}: <input type="text" name="linkhref" value=""/></label><label>{title}: <input type="text" name="linktitle" value=""/></label><label>{target}: <input type="text" name="linktarget" value=""/></label><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(l in f)e.wysiwyg.i18n&&(c=e.wysiwyg.i18n.t(f[l],"dialogs.link"),c===f[l]&&(c=e.wysiwyg.i18n.t(f[l],"dialogs")),f[l]=c),h=new RegExp("{"+l+"}","g"),a=a.replace(h,f[l]);o={self:t.dom.getElement("a"),href:"http://",title:"",target:""},o.self&&(o.href=o.self.href?o.self.href:o.href,o.title=o.self.title?o.self.title:"",o.target=o.self.target?o.self.target:"");if(e.fn.dialog){r=e(a),r.find("input[name=linkhref]").val(o.href),r.find("input[name=linktitle]").val(o.title),r.find("input[name=linktarget]").val(o.target);if(e.browser.msie)try{i=r.appendTo(t.editorDoc.body)}catch(v){i=r.appendTo("body")}else i=r.appendTo("body");i.dialog({modal:!0,open:function(n,r){e("input:submit",i).click(function(n){n.preventDefault();var r=e('input[name="linkhref"]',i).val(),s=e('input[name="linktitle"]',i).val(),a=e('input[name="linktarget"]',i).val(),f,l;t.options.controlLink.forceRelativeUrls&&(f=window.location.protocol+"//"+window.location.hostname,0===r.indexOf(f)&&(r=r.substr(f.length))),o.self?"string"==typeof r&&(r.length>0?e(o.self).attr("href",r).attr("title",s).attr("target",a):e(o.self).replaceWith(o.self.innerHTML)):(e.browser.msie&&t.ui.returnRange(),u=t.getRangeText(),l=t.dom.getElement("img"),u&&u.length>0||l?(e.browser.msie&&t.ui.focus(),"string"==typeof r&&(r.length>0?t.editorDoc.execCommand("createLink",!1,r):t.editorDoc.execCommand("unlink",!1,null)),o.self=t.dom.getElement("a"),e(o.self).attr("href",r).attr("title",s),e(o.self).attr("target",a)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent(),e(i).dialog("close")}),e("input:reset",i).click(function(t){t.preventDefault(),e(i).dialog("close")})},close:function(e,t){i.dialog("destroy"),i.remove()}})}else o.self?(s=window.prompt("URL",o.href),t.options.controlLink.forceRelativeUrls&&(p=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(p)&&(s=s.substr(p.length))),"string"==typeof s&&(s.length>0?e(o.self).attr("href",s):e(o.self).replaceWith(o.self.innerHTML))):(u=t.getRangeText(),d=t.dom.getElement("img"),u&&u.length>0||d?e.browser.msie?(t.ui.focus(),t.editorDoc.execCommand("createLink",!0,null)):(s=window.prompt(f.url,o.href),t.options.controlLink.forceRelativeUrls&&(p=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(p)&&(s=s.substr(p.length))),"string"==typeof s&&(s.length>0?t.editorDoc.execCommand("createLink",!1,s):t.editorDoc.execCommand("unlink",!1,null))):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent();e(t.editorDoc).trigger("editorRefresh.wysiwyg")}},e.wysiwyg.createLink=function(t,n){return t.each(function(){var t=e(this).data("wysiwyg"),r;return t?!n||n.length===0?this:(r=t.getRangeText(),r&&r.length>0?(e.browser.msie&&t.ui.focus(),t.editorDoc.execCommand("unlink",!1,null),t.editorDoc.execCommand("createLink",!1,n)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection),this):this})}}(jQuery),define("controls/wysiwyg.link",function(){}),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.table.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={});var t=function(e,t,n){if(isNaN(t)||isNaN(e)||t===null||e===null)return;var r,i,s=['<table border="1" style="width: 100%;"><tbody>'];e=parseInt(e,10),t=parseInt(t,10),n===null&&(n="&nbsp;"),n="<td>"+n+"</td>";for(r=t;r>0;r-=1){s.push("<tr>");for(i=e;i>0;i-=1)s.push(n);s.push("</tr>")}return s.push("</tbody></table>"),this.insertHtml(s.join(""))};e.wysiwyg.controls.table=function(n){var r,i,s,o,u,a,f,l,c;a={legend:"Insert table",cols:"Count of columns",rows:"Count of rows",submit:"Insert table",reset:"Cancel"},u='<form class="wysiwyg" id="wysiwyg-tableInsert"><fieldset><legend>{legend}</legend><label>{cols}: <input type="text" name="colCount" value="3" /></label><br/><label>{rows}: <input type="text" name="rowCount" value="3" /></label><br/><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(f in a)e.wysiwyg.i18n&&(l=e.wysiwyg.i18n.t(a[f],"dialogs.table"),l===a[f]&&(l=e.wysiwyg.i18n.t(a[f],"dialogs")),a[f]=l),c=new RegExp("{"+f+"}","g"),u=u.replace(c,a[f]);n.insertTable||(n.insertTable=t),r=new e.wysiwyg.dialog(n,{title:a.legend,content:u,open:function(e,t){t.find("form#wysiwyg-tableInsert").submit(function(e){return e.preventDefault(),o=t.find("input[name=rowCount]").val(),s=t.find("input[name=colCount]").val(),n.insertTable(s,o,n.defaults.tableFiller),r.close(),!1}),t.find("input:reset").click(function(e){return e.preventDefault(),r.close(),!1})}}),r.open(),e(n.editorDoc).trigger("editorRefresh.wysiwyg")},e.wysiwyg.insertTable=function(n,r,i,s){return n.each(function(){var n=e(this).data("wysiwyg");return n.insertTable||(n.insertTable=t),n?(n.insertTable(r,i,s),e(n.editorDoc).trigger("editorRefresh.wysiwyg"),this):this})}}(jQuery),define("controls/wysiwyg.table",function(){}),function(e){function t(e,t,n){var r=parseInt(e.css("top"),10);if(t=="left"){var i="-"+this.image_wrapper_height+"px";e.css("top",this.image_wrapper_height+"px")}else{var i=this.image_wrapper_height+"px";e.css("top","-"+this.image_wrapper_height+"px")}return n&&(n.css("bottom","-"+n[0].offsetHeight+"px"),n.animate({bottom:0},this.settings.animation_speed*2)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2),{old_image:{top:i},new_image:{top:r}}}function n(e,t,n){var r=parseInt(e.css("left"),10);if(t=="left"){var i="-"+this.image_wrapper_width+"px";e.css("left",this.image_wrapper_width+"px")}else{var i=this.image_wrapper_width+"px";e.css("left","-"+this.image_wrapper_width+"px")}return n&&(n.css("bottom","-"+n[0].offsetHeight+"px"),n.animate({bottom:0},this.settings.animation_speed*2)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2),{old_image:{left:i},new_image:{left:r}}}function r(e,t,n){var r=e.width(),i=e.height(),s=parseInt(e.css("left"),10),o=parseInt(e.css("top"),10);return e.css({width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2}),{old_image:{width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2},new_image:{width:r,height:i,top:o,left:s}}}function i(e,t,n){return e.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1}}}function s(e,t,n){return e.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1},speed:0}}function o(e,t){this.init(e,t)}function u(e,t){this.init(e,t)}e.fn.adGallery=function(t){var n={loader_image:"/img/lib/jquery-adgallery/loader.gif",start_at_index:0,description_wrapper:!1,thumb_opacity:.7,animate_first_image:!1,animation_speed:400,width:!1,height:!1,display_next_and_prev:!0,display_back_and_forward:!0,scroll_jump:0,slideshow:{enable:!0,autostart:!1,speed:5e3,start_label:"Start",stop_label:"Stop",stop_on_scroll:!0,countdown_prefix:"(",countdown_sufix:")",onStart:!1,onStop:!1},effect:"slide-hori",enable_keyboard_move:!0,cycle:!0,callbacks:{init:!1,afterImageVisible:!1,beforeImageVisible:!1}},r=e.extend(!1,n,t);t&&t.slideshow&&(r.slideshow=e.extend(!1,n.slideshow,t.slideshow)),r.slideshow.enable||(r.slideshow.autostart=!1);var i=[];return e(this).each(function(){var e=new o(this,r);i[i.length]=e}),i},o.prototype={wrapper:!1,image_wrapper:!1,gallery_info:!1,nav:!1,loader:!1,preloads:!1,thumbs_wrapper:!1,scroll_back:!1,scroll_forward:!1,next_link:!1,prev_link:!1,slideshow:!1,image_wrapper_width:0,image_wrapper_height:0,current_index:0,current_image:!1,current_description:!1,nav_display_width:0,settings:!1,images:!1,in_transition:!1,animations:!1,init:function(t,n){var r=this;this.wrapper=e(t),this.settings=n,this.setupElements(),this.setupAnimations(),this.settings.width?(this.image_wrapper_width=this.settings.width,this.image_wrapper.width(this.settings.width),this.wrapper.width(this.settings.width)):this.image_wrapper_width=this.image_wrapper.width(),this.settings.height?(this.image_wrapper_height=this.settings.height,this.image_wrapper.height(this.settings.height)):this.image_wrapper_height=this.image_wrapper.height(),this.nav_display_width=this.nav.width(),this.current_index=0,this.current_image=!1,this.current_description=!1,this.in_transition=!1,this.findImages(),this.settings.display_next_and_prev&&this.initNextAndPrev();var i=function(e){return r.nextImage(e)};this.slideshow=new u(i,this.settings.slideshow),this.controls.append(this.slideshow.create()),this.settings.slideshow.enable?this.slideshow.enable():this.slideshow.disable(),this.settings.display_back_and_forward&&this.initBackAndForward(),this.settings.enable_keyboard_move&&this.initKeyEvents();var s=parseInt(this.settings.start_at_index,10);window.location.hash&&window.location.hash.indexOf("#ad-image")===0&&(s=window.location.hash.replace(/[^0-9]+/g,""),s*1!=s&&(s=this.settings.start_at_index)),this.loading(!0),this.showImage(s,function(){r.settings.slideshow.autostart&&(r.preloadImage(s+1),r.slideshow.start())}),this.fireCallback(this.settings.callbacks.init)},setupAnimations:function(){this.animations={"slide-vert":t,"slide-hori":n,resize:r,fade:i,none:s}},setupElements:function(){this.controls=this.wrapper.find(".ad-controls"),this.gallery_info=e('<p class="ad-info"></p>'),this.controls.append(this.gallery_info),this.image_wrapper=this.wrapper.find(".ad-image-wrapper"),this.image_wrapper.empty(),this.nav=this.wrapper.find(".ad-nav"),this.thumbs_wrapper=this.nav.find(".ad-thumbs"),this.preloads=e('<div class="ad-preloads"></div>'),this.loader=e('<img class="ad-loader" src="'+this.settings.loader_image+'">'),this.image_wrapper.append(this.loader),this.loader.hide(),e(document.body).append(this.preloads)},loading:function(e){e?this.loader.show():this.loader.hide()},addAnimation:function(t,n){e.isFunction(n)&&(this.animations[t]=n)},findImages:function(){var t=this;this.images=[];var n=0,r=0,i=this.thumbs_wrapper.find("a"),s=i.length;this.settings.thumb_opacity<1&&i.find("img").css("opacity",this.settings.thumb_opacity),i.each(function(i){var s=e(this),o=s.attr("href"),u=s.find("img");t.isImageLoaded(u[0])?(n+=u[0].parentNode.parentNode.offsetWidth,r++):u.load(function(){n+=this.parentNode.parentNode.offsetWidth,r++}),s.addClass("ad-thumb"+i),s.click(function(){return t.showImage(i),t.slideshow.stop(),!1}).hover(function(){!e(this).is(".ad-active")&&t.settings.thumb_opacity<1&&e(this).find("img").fadeTo(300,1),t.preloadImage(i)},function(){!e(this).is(".ad-active")&&t.settings.thumb_opacity<1&&e(this).find("img").fadeTo(300,t.settings.thumb_opacity)});var s=!1;u.data("ad-link")?s=u.data("ad-link"):u.attr("longdesc")&&u.attr("longdesc").length&&(s=u.attr("longdesc"));var a=!1;u.data("ad-desc")?a=u.data("ad-desc"):u.attr("alt")&&u.attr("alt").length&&(a=u.attr("alt"));var f=!1;u.data("ad-title")?f=u.data("ad-title"):u.attr("title")&&u.attr("title").length&&(f=u.attr("title")),t.images[i]={thumb:u.attr("src"),image:o,error:!1,preloaded:!1,desc:a,title:f,size:!1,link:s}});var o=setInterval(function(){if(s==r){var e=t.nav.find(".ad-thumb-list");e.css("width",n+"px"),clearInterval(o)}},100)},initKeyEvents:function(){var t=this;e(document).keydown(function(e){e.keyCode==39?(t.nextImage(),t.slideshow.stop()):e.keyCode==37&&(t.prevImage(),t.slideshow.stop())})},initNextAndPrev:function(){this.next_link=e('<div class="ad-next"><div class="ad-next-image"></div></div>'),this.prev_link=e('<div class="ad-prev"><div class="ad-prev-image"></div></div>'),this.image_wrapper.append(this.next_link),this.image_wrapper.append(this.prev_link);var t=this;this.prev_link.add(this.next_link).mouseover(function(n){e(this).css("height",t.image_wrapper_height),e(this).find("div").show()}).mouseout(function(t){e(this).find("div").hide()}).click(function(){e(this).is(".ad-next")?(t.nextImage(),t.slideshow.stop()):(t.prevImage(),t.slideshow.stop())}).find("div").css("opacity",.7)},initBackAndForward:function(){var t=this;this.scroll_forward=e('<div class="ad-forward"></div>'),this.scroll_back=e('<div class="ad-back"></div>'),this.nav.append(this.scroll_forward),this.nav.prepend(this.scroll_back);var n=0,r=!1;e(this.scroll_back).add(this.scroll_forward).click(function(){var n=t.nav_display_width-50;if(t.settings.scroll_jump>0)var n=t.settings.scroll_jump;if(e(this).is(".ad-forward"))var r=t.thumbs_wrapper.scrollLeft()+n;else var r=t.thumbs_wrapper.scrollLeft()-n;return t.settings.slideshow.stop_on_scroll&&t.slideshow.stop(),t.thumbs_wrapper.animate({scrollLeft:r+"px"}),!1}).css("opacity",.6).hover(function(){var i="left";e(this).is(".ad-forward")&&(i="right"),r=setInterval(function(){n++,n>30&&t.settings.slideshow.stop_on_scroll&&t.slideshow.stop();var e=t.thumbs_wrapper.scrollLeft()+1;i=="left"&&(e=t.thumbs_wrapper.scrollLeft()-1),t.thumbs_wrapper.scrollLeft(e)},10),e(this).css("opacity",1)},function(){n=0,clearInterval(r),e(this).css("opacity",.6)})},_afterShow:function(){this.gallery_info.html(this.current_index+1+" / "+this.images.length),this.settings.cycle||(this.prev_link.show().css("height",this.image_wrapper_height),this.next_link.show().css("height",this.image_wrapper_height),this.current_index==this.images.length-1&&this.next_link.hide(),this.current_index==0&&this.prev_link.hide()),this.fireCallback(this.settings.callbacks.afterImageVisible)},_getContainedImageSize:function(e,t){if(t>this.image_wrapper_height){var n=e/t;t=this.image_wrapper_height,e=this.image_wrapper_height*n}if(e>this.image_wrapper_width){var n=t/e;e=this.image_wrapper_width,t=this.image_wrapper_width*n}return{width:e,height:t}},_centerImage:function(e,t,n){e.css("top","0px");if(n<this.image_wrapper_height){var r=this.image_wrapper_height-n;e.css("top",r/2+"px")}e.css("left","0px");if(t<this.image_wrapper_width){var r=this.image_wrapper_width-t;e.css("left",r/2+"px")}},_getDescription:function(t){var n=!1;if(t.desc.length||t.title.length){var r="";t.title.length&&(r='<strong class="ad-description-title">'+t.title+"</strong>");var n="";t.desc.length&&(n="<span>"+t.desc+"</span>"),n=e('<p class="ad-image-description">'+r+n+"</p>")}return n},showImage:function(e,t){if(this.images[e]&&!this.in_transition){var n=this,r=this.images[e];this.in_transition=!0,r.preloaded?this._showWhenLoaded(e,t):(this.loading(!0),this.preloadImage(e,function(){n.loading(!1),n._showWhenLoaded(e,t)}))}},_showWhenLoaded:function(t,n){if(this.images[t]){var r=this,i=this.images[t],s=e(document.createElement("div")).addClass("ad-image"),o=e(new Image).attr("src",i.image);if(i.link){var u=e('<a href="'+i.link+'" target="_blank"></a>');u.append(o),s.append(u)}else s.append(o);this.image_wrapper.prepend(s);var a=this._getContainedImageSize(i.size.width,i.size.height);o.attr("width",a.width),o.attr("height",a.height),s.css({width:a.width+"px",height:a.height+"px"}),this._centerImage(s,a.width,a.height);var f=this._getDescription(i,s);if(f)if(!this.settings.description_wrapper){s.append(f);var l=a.width-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10);f.css("width",l+"px")}else this.settings.description_wrapper.append(f);this.highLightThumb(this.nav.find(".ad-thumb"+t));var c="right";this.current_index<t&&(c="left"),this.fireCallback(this.settings.callbacks.beforeImageVisible);if(this.current_image||this.settings.animate_first_image){var h=this.settings.animation_speed,p="swing",d=this.animations[this.settings.effect].call(this,s,c,f);typeof d.speed!="undefined"&&(h=d.speed),typeof d.easing!="undefined"&&(p=d.easing);if(this.current_image){var v=this.current_image,m=this.current_description;v.animate(d.old_image,h,p,function(){v.remove(),m&&m.remove()})}s.animate(d.new_image,h,p,function(){r.current_index=t,r.current_image=s,r.current_description=f,r.in_transition=!1,r._afterShow(),r.fireCallback(n)})}else this.current_index=t,this.current_image=s,r.current_description=f,this.in_transition=!1,r._afterShow(),this.fireCallback(n)}},nextIndex:function(){if(this.current_index==this.images.length-1){if(!this.settings.cycle)return!1;var e=0}else var e=this.current_index+1;return e},nextImage:function(e){var t=this.nextIndex();return t===!1?!1:(this.preloadImage(t+1),this.showImage(t,e),!0)},prevIndex:function(){if(this.current_index==0){if(!this.settings.cycle)return!1;var e=this.images.length-1}else var e=this.current_index-1;return e},prevImage:function(e){var t=this.prevIndex();return t===!1?!1:(this.preloadImage(t-1),this.showImage(t,e),!0)},preloadAll:function(){function n(){t<e.images.length&&(t++,e.preloadImage(t,n))}var e=this,t=0;e.preloadImage(t,n)},preloadImage:function(t,n){if(this.images[t]){var r=this.images[t];if(!this.images[t].preloaded){var i=e(new Image);i.attr("src",r.image);if(!this.isImageLoaded(i[0])){this.preloads.append(i);var s=this;i.load(function(){r.preloaded=!0,r.size={width:this.width,height:this.height},s.fireCallback(n)}).error(function(){r.error=!0,r.preloaded=!1,r.size=!1})}else r.preloaded=!0,r.size={width:i[0].width,height:i[0].height},this.fireCallback(n)}else this.fireCallback(n)}},isImageLoaded:function(e){return typeof e.complete!="undefined"&&!e.complete?!1:typeof e.naturalWidth!="undefined"&&e.naturalWidth==0?!1:!0},highLightThumb:function(e){this.thumbs_wrapper.find(".ad-active").removeClass("ad-active"),e.addClass("ad-active"),this.settings.thumb_opacity<1&&(this.thumbs_wrapper.find("a:not(.ad-active) img").fadeTo(300,this.settings.thumb_opacity),e.find("img").fadeTo(300,1));var t=e[0].parentNode.offsetLeft;t-=this.nav_display_width/2-e[0].offsetWidth/2,this.thumbs_wrapper.animate({scrollLeft:t+"px"})},fireCallback:function(t){e.isFunction(t)&&t.call(this)}},u.prototype={start_link:!1,stop_link:!1,countdown:!1,controls:!1,settings:!1,nextimage_callback:!1,enabled:!1,running:!1,countdown_interval:!1,init:function(e,t){var n=this;this.nextimage_callback=e,this.settings=t},create:function(){this.start_link=e('<span class="ad-slideshow-start">'+this.settings.start_label+"</span>"),this.stop_link=e('<span class="ad-slideshow-stop">'+this.settings.stop_label+"</span>"),this.countdown=e('<span class="ad-slideshow-countdown"></span>'),this.controls=e('<div class="ad-slideshow-controls"></div>'),this.controls.append(this.start_link).append(this.stop_link).append(this.countdown),this.countdown.hide();var t=this;return this.start_link.click(function(){t.start()}),this.stop_link.click(function(){t.stop()}),e(document).keydown(function(e){e.keyCode==83&&(t.running?t.stop():t.start())}),this.controls},disable:function(){this.enabled=!1,this.stop(),this.controls.hide()},enable:function(){this.enabled=!0,this.controls.show()},toggle:function(){this.enabled?this.disable():this.enable()},start:function(){if(this.running||!this.enabled)return!1;var e=this;return this.running=!0,this.controls.addClass("ad-slideshow-running"),this._next(),this.fireCallback(this.settings.onStart),!0},stop:function(){return this.running?(this.running=!1,this.countdown.hide(),this.controls.removeClass("ad-slideshow-running"),clearInterval(this.countdown_interval),this.fireCallback(this.settings.onStop),!0):!1},_next:function(){var e=this,t=this.settings.countdown_prefix,n=this.settings.countdown_sufix;clearInterval(e.countdown_interval),this.countdown.show().html(t+this.settings.speed/1e3+n);var r=0;this.countdown_interval=setInterval(function(){r+=1e3;if(r>=e.settings.speed){var i=function(){e.running&&e._next(),r=0};e.nextimage_callback(i)||e.stop(),r=0}var s=parseInt(e.countdown.text().replace(/[^0-9]/g,""),10);s--,s>0&&e.countdown.html(t+s+n)},1e3)},fireCallback:function(t){e.isFunction(t)&&t.call(this)}}}(jQuery),define("jquery.ad-gallery",function(){}),function(e){var t=function(t,n){var r=e.extend({},e.fn.nivoSlider.defaults,n),i={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},s=e(t);s.data("nivo:vars",i).addClass("nivoSlider");var o=s.children();o.each(function(){var t=e(this),n="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),n=t),t=t.find("img:first"));var r=r===0?t.attr("width"):t.width(),s=s===0?t.attr("height"):t.height();n!==""&&n.css("display","none"),t.css("display","none"),i.totalSlides++}),r.randomStart&&(r.startSlide=Math.floor(Math.random()*i.totalSlides)),r.startSlide>0&&(r.startSlide>=i.totalSlides&&(r.startSlide=i.totalSlides-1),i.currentSlide=r.startSlide),e(o[i.currentSlide]).is("img")?i.currentImage=e(o[i.currentSlide]):i.currentImage=e(o[i.currentSlide]).find("img:first"),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block");var u=e("<img/>").addClass("nivo-main-image");u.attr("src",i.currentImage.attr("src")).show(),s.append(u),e(window).resize(function(){s.children("img").width(s.width()),u.attr("src",i.currentImage.attr("src")),u.stop().height("auto"),e(".nivo-slice").remove(),e(".nivo-box").remove()}),s.append(e('<div class="nivo-caption"></div>'));var a=function(t){var n=e(".nivo-caption",s);if(i.currentImage.attr("title")!=""&&i.currentImage.attr("title")!=undefined){var r=i.currentImage.attr("title");r.substr(0,1)=="#"&&(r=e(r).html()),n.css("display")=="block"?setTimeout(function(){n.html(r)},t.animSpeed):(n.html(r),n.stop().fadeIn(t.animSpeed))}else n.stop().fadeOut(t.animSpeed)};a(r);var f=0;!r.manualAdvance&&o.length>1&&(f=setInterval(function(){d(s,o,r,!1)},r.pauseTime)),r.directionNav&&(s.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+r.prevText+'</a><a class="nivo-nextNav">'+r.nextText+"</a></div>"),e(s).on("click","a.nivo-prevNav",function(){if(i.running)return!1;clearInterval(f),f="",i.currentSlide-=2,d(s,o,r,"prev")}),e(s).on("click","a.nivo-nextNav",function(){if(i.running)return!1;clearInterval(f),f="",d(s,o,r,"next")}));if(r.controlNav){i.controlNavEl=e('<div class="nivo-controlNav"></div>'),s.after(i.controlNavEl);for(var l=0;l<o.length;l++)if(r.controlNavThumbs){i.controlNavEl.addClass("nivo-thumbs-enabled");var c=o.eq(l);c.is("img")||(c=c.find("img:first")),c.attr("data-thumb")&&i.controlNavEl.append('<a class="nivo-control" rel="'+l+'"><img src="'+c.attr("data-thumb")+'" alt="" /></a>')}else i.controlNavEl.append('<a class="nivo-control" rel="'+l+'">'+(l+1)+"</a>");e("a:eq("+i.currentSlide+")",i.controlNavEl).addClass("active"),e("a",i.controlNavEl).bind("click",function(){if(i.running)return!1;if(e(this).hasClass("active"))return!1;clearInterval(f),f="",u.attr("src",i.currentImage.attr("src")),i.currentSlide=e(this).attr("rel")-1,d(s,o,r,"control")})}r.pauseOnHover&&s.hover(function(){i.paused=!0,clearInterval(f),f=""},function(){i.paused=!1,f===""&&!r.manualAdvance&&(f=setInterval(function(){d(s,o,r,!1)},r.pauseTime))}),s.bind("nivo:animFinished",function(){u.attr("src",i.currentImage.attr("src")),i.running=!1,e(o).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block"),f===""&&!i.paused&&!r.manualAdvance&&(f=setInterval(function(){d(s,o,r,!1)},r.pauseTime)),r.afterChange.call(this)});var h=function(t,n,r){e(r.currentImage).parent().is("a")&&e(r.currentImage).parent().css("display","block"),e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height();for(var s=0;s<n.slices;s++){var o=Math.round(t.width()/n.slices);s===n.slices-1?t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:t.width()-o*s+"px",height:i+"px",opacity:"0",overflow:"hidden"})):t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:o+"px",height:i+"px",opacity:"0",overflow:"hidden"}))}e(".nivo-slice",t).height(i),u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)},p=function(t,n,r){e(r.currentImage).parent().is("a")&&e(r.currentImage).parent().css("display","block"),e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=Math.round(t.width()/n.boxCols),s=Math.round(e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/n.boxRows);for(var o=0;o<n.boxRows;o++)for(var a=0;a<n.boxCols;a++)a===n.boxCols-1?(t.append(e('<div class="nivo-box" name="'+a+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*a+'px;" /></div>').css({opacity:0,left:i*a+"px",top:s*o+"px",width:t.width()-i*a+"px"})),e('.nivo-box[name="'+a+'"]',t).height(e('.nivo-box[name="'+a+'"] img',t).height()+"px")):(t.append(e('<div class="nivo-box" name="'+a+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*a+'px;" /></div>').css({opacity:0,left:i*a+"px",top:s*o+"px",width:i+"px"})),e('.nivo-box[name="'+a+'"]',t).height(e('.nivo-box[name="'+a+'"] img',t).height()+"px"));u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)},d=function(t,n,r,i){var s=t.data("nivo:vars");s&&s.currentSlide===s.totalSlides-1&&r.lastSlide.call(this);if((!s||s.stop)&&!i)return!1;r.beforeChange.call(this),i?(i==="prev"&&u.attr("src",s.currentImage.attr("src")),i==="next"&&u.attr("src",s.currentImage.attr("src"))):u.attr("src",s.currentImage.attr("src")),s.currentSlide++,s.currentSlide===s.totalSlides&&(s.currentSlide=0,r.slideshowEnd.call(this)),s.currentSlide<0&&(s.currentSlide=s.totalSlides-1),e(n[s.currentSlide]).is("img")?s.currentImage=e(n[s.currentSlide]):s.currentImage=e(n[s.currentSlide]).find("img:first"),r.controlNav&&(e("a",s.controlNavEl).removeClass("active"),e("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active")),a(r),e(".nivo-slice",t).remove(),e(".nivo-box",t).remove();var o=r.effect,f="";r.effect==="random"&&(f=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),o=f[Math.floor(Math.random()*(f.length+1))],o===undefined&&(o="fade")),r.effect.indexOf(",")!==-1&&(f=r.effect.split(","),o=f[Math.floor(Math.random()*f.length)],o===undefined&&(o="fade")),s.currentImage.attr("data-transition")&&(o=s.currentImage.attr("data-transition")),s.running=!0;var l=0,c=0,d="",m="",g="",y="";if(o==="sliceDown"||o==="sliceDownRight"||o==="sliceDownLeft")h(t,r,s),l=0,c=0,d=e(".nivo-slice",t),o==="sliceDownLeft"&&(d=e(".nivo-slice",t)._reverse()),d.each(function(){var n=e(this);n.css({top:"0px"}),c===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++});else if(o==="sliceUp"||o==="sliceUpRight"||o==="sliceUpLeft")h(t,r,s),l=0,c=0,d=e(".nivo-slice",t),o==="sliceUpLeft"&&(d=e(".nivo-slice",t)._reverse()),d.each(function(){var n=e(this);n.css({bottom:"0px"}),c===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++});else if(o==="sliceUpDown"||o==="sliceUpDownRight"||o==="sliceUpDownLeft"){h(t,r,s),l=0,c=0;var b=0;d=e(".nivo-slice",t),o==="sliceUpDownLeft"&&(d=e(".nivo-slice",t)._reverse()),d.each(function(){var n=e(this);c===0?(n.css("top","0px"),c++):(n.css("bottom","0px"),c=0),b===r.slices-1?setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l),l+=50,b++})}else if(o==="fold")h(t,r,s),l=0,c=0,e(".nivo-slice",t).each(function(){var n=e(this),i=n.width();n.css({top:"0px",width:"0px"}),c===r.slices-1?setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++});else if(o==="fade")h(t,r,s),m=e(".nivo-slice:first",t),m.css({width:t.width()+"px"}),m.animate({opacity:"1.0"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(o==="slideInRight")h(t,r,s),m=e(".nivo-slice:first",t),m.css({width:"0px",opacity:"1"}),m.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(o==="slideInLeft")h(t,r,s),m=e(".nivo-slice:first",t),m.css({width:"0px",opacity:"1",left:"",right:"0px"}),m.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){m.css({left:"0px",right:""}),t.trigger("nivo:animFinished")});else if(o==="boxRandom")p(t,r,s),g=r.boxCols*r.boxRows,c=0,l=0,y=v(e(".nivo-box",t)),y.each(function(){var n=e(this);c===g-1?setTimeout(function(){n.animate({opacity:"1"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({opacity:"1"},r.animSpeed)},100+l),l+=20,c++});else if(o==="boxRain"||o==="boxRainReverse"||o==="boxRainGrow"||o==="boxRainGrowReverse"){p(t,r,s),g=r.boxCols*r.boxRows,c=0,l=0;var w=0,E=0,S=[];S[w]=[],y=e(".nivo-box",t);if(o==="boxRainReverse"||o==="boxRainGrowReverse")y=e(".nivo-box",t)._reverse();y.each(function(){S[w][E]=e(this),E++,E===r.boxCols&&(w++,E=0,S[w]=[])});for(var x=0;x<r.boxCols*2;x++){var T=x;for(var N=0;N<r.boxRows;N++)T>=0&&T<r.boxCols&&(function(n,i,s,u,a){var f=e(S[n][i]),l=f.width(),c=f.height();(o==="boxRainGrow"||o==="boxRainGrowReverse")&&f.width(0).height(0),u===a-1?setTimeout(function(){f.animate({opacity:"1",width:l,height:c},r.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+s):setTimeout(function(){f.animate({opacity:"1",width:l,height:c},r.animSpeed/1.3)},100+s)}(N,T,l,c,g),c++),T--;l+=100}}},v=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r,10),n=e[--r],e[r]=e[t],e[t]=n);return e},m=function(e){this.console&&typeof console.log!="undefined"&&console.log(e)};return this.stop=function(){e(t).data("nivo:vars").stop||(e(t).data("nivo:vars").stop=!0,m("Stop Slider"))},this.start=function(){e(t).data("nivo:vars").stop&&(e(t).data("nivo:vars").stop=!1,m("Start Slider"))},r.afterLoad.call(this),this};e.fn.nivoSlider=function(n){return this.each(function(r,i){var s=e(this);if(s.data("nivoslider"))return s.data("nivoslider");var o=new t(this,n);s.data("nivoslider",o)})},e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse}(jQuery),define("jquery.nivo.slider",function(){}),function(e,t){e.fn.fcbkcomplete=function(t){return this.queue(function(){function n(){r(),a(0)}function r(){N=e('<ul class="holder"></ul>').width(T.width),T.attachto?typeof T.attachto=="object"?T.attachto.append(N):e(T.attachto).append(N):D.after(N),k=e('<div class="facebook-auto">').width(T.width);if(T.complete_text!=""){var t=T.complete_text;k.append('<div class="default">'+t+"</div>"),T.select_all_text&&k.children(".default").append(e('<a href="" class="select_all_items">'+T.select_all_text+"</a>").click(function(){return e(D).trigger("selectAll"),!1}))}k.hover(function(){_=0},function(){_=1}),C=e('<ul id="'+P+'_feed"></ul>').width(T.width),N.after(k.prepend(C)),s()}function s(){name=D.attr("name"),T.bricket&&typeof name!="undefined"&&name.indexOf("[]")==-1&&(name+="[]");var t=e("<"+D.get(0).tagName+' name="'+name+'" id="'+P+'" multiple="multiple" class="'+D.get(0).className+' hidden">').data("cache",{});e.each(D.children("option"),function(n,r){r=e(r),t.data("cache")[r.val()]=r.text();if(r.hasClass("selected")){var i=o(r.text(),r.val(),!0,r.hasClass("locked"));t.append('<option value="'+r.val()+'" selected="selected" id="opt_'+i+'"class="selected">'+r.text()+"</option>")}}),D.after(t),D.remove(),D=t,e(D).bind("addItem",function(e,t){o(t.title,t.value,0,0,0)}),e(D).bind("removeItem",function(e,t){var n=N.children("li[rel="+t.value+"]");n.length&&u(n)}),e(D).bind("destroy",function(e,t){N.remove(),k.remove(),D.show()}),e(D).bind("selectAll",function(t,n){var r=e(D).val()||[];e.each(e(D).data("cache"),function(t,n){e.inArray(t,r)===-1&&o(n,t,0,0,0)}),C.parent().hide()})}function o(t,n,r,i,s){if(!m())return!1;var o="bit-box"+(i?" locked":""),f=F(),l=document.createTextNode(E(t)),c=e('<a class="closebutton" href="#"></a>'),h=e('<li class="'+o+'" rel="'+n+'" id="pt_'+f+'"></li>').prepend(l).append(c);N.append(h),c.click(function(){return u(e(this).parent("li")),!1});if(!r){e("#"+P+"_annoninput").remove(),a(s);var p=e('<option value="'+E(n,1)+'" id="opt_'+f+'" class="selected" selected="selected">'+E(t)+"</option>");D.append(p),T.onselect&&y(T.onselect,p),D.change()}return N.children("li.bit-box.deleted").removeClass("deleted"),S(1),f}function u(t){if(!t.hasClass("locked")){t.fadeOut("fast");var n=t.attr("id");if(T.onremove){var r=n?e("#o"+n+""):D.children("option[value="+t.attr("rel")+"]");y(T.onremove,r)}n?e("#o"+n+"").remove():D.children('option[value="'+t.attr("rel")+'"]').remove(),t.remove(),D.change(),M=0}}function a(t){var n=e('<li class="bit-input" id="'+P+'_annoninput">'),r=e('<input type="text" class="maininput" size="'+T.input_size+'" autocomplete="off">');T.input_tabindex>0&&r.attr("tabindex",T.input_tabindex),T.input_name!=""&&r.attr("name",T.input_name),T.input_placeholder!=null&&r.attr("placeholder",T.input_placeholder),N.append(n.append(r)),r.focus(function(){A=!0,m()&&k.fadeIn("fast")}),r.blur(function(){A=!1,_?k.fadeOut("fast"):r.focus()}),N.click(function(){T.input_min_size<0&&C.length&&x(w(r.val(),1)),r.focus(),C.length&&r.val().length>T.input_min_size?C.show():(S(1),k.children(".default").show())}),r.keypress(function(e){if(e.keyCode==j.enter)return!1;var t=T.input_size>r.val().length?T.input_size:r.val().length+1;r.attr("size",t).width(parseInt(r.css("font-size"))*t)}),r.keyup(function(t){var n=w(r.val(),1);if(t.keyCode==j.backspace&&n.length==0){S(1);if(!N.children("li.bit-box:last").hasClass("locked")){if(N.children("li.bit-box.deleted").length==0)return N.children("li.bit-box:last").addClass("deleted"),!1;if(M)return;M=1,N.children("li.bit-box.deleted").fadeOut("fast",function(){return u(e(this)),!1})}}t.keyCode!=j.downarrow&&t.keyCode!=j.uparrow&&t.keyCode!=j.leftarrow&&t.keyCode!=j.rightarrow&&n.length>T.input_min_size&&(x(n),k.children(".default").hide(),C.show())}),T.oncreate&&y(T.oncreate,r),t&&setTimeout(function(){r.focus(),k.children(".default").show()},1)}function f(t,n){C.html(""),!T.cache&&n!=null&&I.clear(),g(t),n!=null&&n.length&&e.each(n,function(e,t){I.set(w(t.key),w(t.value))});var r=T.maxshownitems<I.length()?T.maxshownitems:I.length(),i="";e.each(I.search(t),function(e,n){r&&(!T.filter_selected||!D.children('option[value="'+n.key+'"]').hasClass("selected"))&&(i+='<li rel="'+n.key+'">'+E(l(n.value,t))+"</li>",L++,r--)}),C.append(i),T.firstselected&&(O=C.children("li:visible:first"),O.addClass("auto-focus")),L>T.height?C.css({height:T.height*24+"px",overflow:"auto"}):C.css("height","auto"),m()&&k.is(":hidden")&&k.show()}function l(e,t){var n=T.filter_begin?"":"(.*)",r=T.filter_begin?"<em>$1</em>$2":"$1<em>$2</em>$3",i=n+(T.filter_case?"("+t+")(.*)":"("+t.toLowerCase()+")(.*)");try{var s=new RegExp(i,T.filter_case?"g":"gi"),e=e.replace(s,r)}catch(o){}return e}function c(){C.children("li").mouseover(function(){C.children("li").removeClass("auto-focus"),O=e(this),O.addClass("auto-focus")}),C.children("li").mouseout(function(){e(this).removeClass("auto-focus"),O=null})}function h(){C.unbind("mouseover").unbind("mouseout").mousemove(function(){c(),C.unbind("mousemove")})}function p(){var t=e("#"+P+"_annoninput").children(".maininput");c(),C.children("li").unbind("mousedown").mousedown(function(){var t=e(this);o(t.text(),t.attr("rel"),0,0,1),S(1),k.hide()}),t.unbind("keydown"),t.keydown(function(t){t.keyCode!=j.backspace&&N.children("li.bit-box.deleted").removeClass("deleted");if(!(t.keyCode!=j.enter&&t.keyCode!=j.tab&&t.keyCode!=j.comma||!b())){var n=O;return o(n.text(),n.attr("rel"),0,0,1),v(t)}if((t.keyCode==j.enter||t.keyCode==j.tab||t.keyCode==j.comma)&&!b()){if(T.newel){var r=w(e(this).val());return o(r,r,0,0,1),v(t)}if((T.addontab||T.addoncomma)&&T.newel){O=C.children("li:visible:first");var n=O;return o(n.text(),n.attr("rel"),0,0,1),v(t)}}t.keyCode==j.downarrow&&d("first"),t.keyCode==j.uparrow&&d("last")})}function d(e){h();if(O==null||O.length==0)O=C.children("li:visible:"+e),C.get(0).scrollTop=e=="first"?0:parseInt(O.get(0).scrollHeight,10)*(parseInt(C.children("li:visible").length,10)-Math.round(T.height/2));else{O.removeClass("auto-focus"),O=e=="first"?O.nextAll("li:visible:first"):O.prevAll("li:visible:first");var t=parseInt(O.prevAll("li:visible").length,10),n=parseInt(O.nextAll("li:visible").length,10);((e=="first"?t:n)>Math.round(T.height/2)||(e=="first"?t:n)<=Math.round(T.height/2))&&typeof O.get(0)!="undefined"&&(C.get(0).scrollTop=parseInt(O.get(0).scrollHeight,10)*(t-Math.round(T.height/2)))}C.children("li").removeClass("auto-focus"),O.addClass("auto-focus")}function v(e){return k.hide(),e.preventDefault(),O=null,!1}function m(){return T.maxitems!=0&&N.children("li.bit-box").length<T.maxitems}function g(t){if(T.newel&&m()){C.children("li[fckb=1]").remove();if(t.length==0)return;var n=e('<li rel="'+t+'" fckb="1">').html(E(t));C.prepend(n),L++}return}function y(e,t){var n={};for(i=0;i<t.get(0).attributes.length;i++)t.get(0).attributes[i].nodeValue!=null&&(n["_"+t.get(0).attributes[i].nodeName]=t.get(0).attributes[i].nodeValue);return e.call(e,n)}function b(){return O==null||O.length==0?!1:!0}function w(e,t){if(typeof t!="undefined"){for(i=0;i<e.length;i++){var n=e.charCodeAt(i);if(j.exclamation<=n&&n<=j.slash||j.colon<=n&&n<=j.at||j.squarebricket_left<=n&&n<=j.apostrof)e=e.replace(e[i],escape(e[i]))}e=e.replace(/(\{|\}|\*)/i,"\\$1")}return e.replace(/script(.*)/g,"")}function E(e,t){return e=e.toString(),e=e.replace("\\",""),typeof t!="undefined"?e:unescape(e)}function S(e){C.children().remove(),e&&C.hide()}function x(t){L=0;if(T.json_url&&m())if(T.cache&&B.get(t))f(t),p();else{H++;var n=H;setTimeout(function(){if(n!=H)return;e.getJSON(T.json_url,{tag:E(t)},function(e){if(!A)return;if(T.adapter_matching_properties)for(var n=0;n<e.length;n++){var r={},i=null;for(property in T.adapter_matching_properties)i=e[n][T.adapter_matching_properties[property]],r[property]=isNaN(i)?i:(new Number(i)).toString();e[n]=r}f(t,e),B.set(t,1),p()})},T.delay)}else f(t),p()}var T=e.extend({json_url:null,width:512,cache:!1,height:"10",newel:!1,addontab:!1,addoncomma:!1,firstselected:!1,filter_case:!1,filter_selected:!1,filter_begin:!1,complete_text:"Start to type...",select_all_text:null,maxshownitems:30,maxitems:10,oncreate:null,onselect:null,onremove:null,attachto:null,delay:350,input_tabindex:0,input_min_size:1,input_name:"",bricket:!0,input_size:1,input_placeholder:null,adapter_matching_properties:null},t),N=null,C=null,k=null,L=0,A=!1,O=null,M=0,_=1,D=e(this),P=D.attr("id"),H=0,B={set:function(e,t){var n=D.data("jsoncache");n[e]=t,D.data("jsoncache",n)},get:function(e){return D.data("jsoncache")[e]!="undefined"?D.data("jsoncache")[e]:null},init:function(){D.data("jsoncache",{})}},j={enter:13,tab:9,comma:188,backspace:8,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,exclamation:33,slash:47,colon:58,at:64,squarebricket_left:91,apostrof:96},F=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="";for(var n=0;n<32;n++){var r=Math.floor(Math.random()*e.length);t+=e.substring(r,r+1)}return t},I={search:function(t,n){var r=new Array,i=new RegExp((T.filter_begin?"^":"")+t,T.filter_case?"g":"gi");return e.each(D.data("cache"),function(e,t){typeof t.search=="function"&&t.search(i)!=-1&&r.push({key:e,value:t})}),r},set:function(e,t){var n=D.data("cache");n[e]=t,D.data("cache",n)},get:function(e){return D.data("cache")[e]!="undefined"?D.data("cache")[e]:null},clear:function(){D.data("cache",{})},length:function(){if(typeof D.data("cache")=="object"){var e=0;for(i in D.data("cache"))e++;return e}return D.data("cache").length},init:function(){D.data("cache")=="undefined"&&D.data("cache",{})}};return n(),B.init(),I.init(),this})}}(jQuery),define("jquery.fcbkcomplete",function(){}),function(e){function o(){if(r)return;e("."+t).live("click",u).live("focusin",u).live("focusout",a),bound=!0,r=!0}function u(){var t=e(this),r=e(t.data(n));r.css("display","none")}function a(){var t=this;setTimeout(function(){var r=e(t);e(r.data(n)).css("top",r.position().top+"px").css("left",r.position().left+"px").css("display",r.val()?"none":"block")},200)}var t="PLACEHOLDER-INPUT",n="PLACEHOLDER-LABEL",r=!1,i={labelClass:"placeholder"},s=document.createElement("input");if("placeholder"in s){e.fn.placeholder=e.fn.unplaceholder=function(){},delete s;return}delete s,e.fn.placeholder=function(r){o();var s=e.extend(i,r);this.each(function(){var r=Math.random().toString(32).replace(/\./,""),i=e(this),o=e('<label style="position:absolute;display:none;top:0;left:0;"></label>');if(!i.attr("placeholder")||i.data(t)===t)return;i.attr("id")||i.attr("id","input_"+r),o.attr("id",i.attr("id")+"_placeholder").data(t,"#"+i.attr("id")).attr("for",i.attr("id")).addClass(s.labelClass).addClass(s.labelClass+"-for-"+this.tagName.toLowerCase()).addClass(n).text(i.attr("placeholder")),i.data(n,"#"+o.attr("id")).data(t,t).addClass(t).after(o),u.call(this),a.call(this)})},e.fn.unplaceholder=function(){this.each(function(){var r=e(this),i=e(r.data(n));if(r.data(t)!==t)return;i.remove(),r.removeData(t).removeData(n).removeClass(t)})}}(jQuery),define("jquery.placeholder",function(){}),function(e){e.superscrollorama=function(t){function u(){e("html, body").animate({scrollTop:0},0),e(window).scroll(function(){o=!0}),TweenLite.ticker.addEventListener("tick",a)}function a(){o&&(f(),o=!1)}function f(){var t=n.settings.isVertical?e(window).scrollTop():e(window).scrollLeft(),r=n.settings.isVertical?-e(window).height()/2:-e(window).width()/2,o,u,a,f=i.length;for(o=0;o<f;o++){var l=i[o],c=l.target,h=l.offset;typeof c=="string"?(u=n.settings.isVertical?e(c).offset().top:e(c).offset().left,h+=r):typeof c=="number"?u=c:(u=n.settings.isVertical?c.offset().top:c.offset().left,h+=r),u+=h,a=l.dur?u+l.dur:u,t>u&&t<a&&l.state!=="TWEENING"?(l.state="TWEENING",l.start=u,l.end=a,l.tween.progress((t-l.start)/(l.end-l.start)).pause()):t<u&&l.state!=="BEFORE"?(l.tween.reverse(),l.state="BEFORE"):t>a&&l.state!=="AFTER"?(l.tween.play(),l.state="AFTER"):l.state==="TWEENING"&&l.tween.progress((t-l.start)/(l.end-l.start)).pause()}var p=s.length;for(o=0;o<p;o++){var d=s[o],v=d.el,m=v.outerHeight();d.state!="PINNED"?(u=d.spacer?n.settings.isVertical?d.spacer.offset().top:d.spacer.offset().left:n.settings.isVertical?v.offset().top:v.offset().left,u+=d.offset,a=u+d.dur,t>u&&t<a&&(d.state="PINNED",d.origPositionVal=n.settings.isVertical?v.css("top"):v.css("left"),d.origPositionVal==="auto"?d.origPositionVal=0:d.origPositionVal=parseInt(d.origPositionVal,10),v.css("position","fixed"),n.settings.isVertical?v.css("top",-d.offset):v.css("left",-d.offset),d.pinStart=u,d.pinEnd=a,d.spacer&&d.spacer.css("height",d.dur+m),d.onPin&&d.onPin())):t<d.pinStart||t>d.pinEnd?(d.state=t<d.pinStart?"BEFORE":"AFTER",d.anim&&d.state==="BEFORE"?d.anim.progress(0):d.anim&&d.state==="AFTER"&&d.anim.progress(1),v.css("position",d.origPosition),n.settings.isVertical?v.css("top",d.origPositionVal):v.css("left",d.origPositionVal),d.spacer&&d.spacer.css("height",t<d.pinStart?0:d.dur),d.onUnpin&&d.onUnpin()):d.anim&&d.anim.progress((t-d.pinStart)/(d.pinEnd-d.pinStart))}}var n=this,r={isVertical:!0};n.settings=e.extend({},r,t);var i=[],s=[],o=!1;return n.addTween=function(e,t,r,s){return t.pause(),i.push({target:e,tween:t,offset:s||0,dur:r||0,state:"BEFORE"}),n},n.pin=function(t,r,i){typeof t=="string"&&(t=e(t)),i.anim&&i.anim.pause();var o=null;if(t.css("position")==="relative"||t.css("position")==="static")o=e('<div class="pin-spacer"></div>'),t.before(o);return s.push({el:t,state:"BEFORE",dur:r,offset:i.offset||0,anim:i.anim,origPosition:t.css("position"),spacer:o,onPin:i.onPin,onUnpin:i.onUnpin}),n},u(),n}}(jQuery),define("jquery.superscrollorama",function(){}),function(e){function t(t,n,r,i){var s=t.text().split(n),o="";s.length&&(e(s).each(function(e,t){o+='<span class="'+r+(e+1)+'">'+t+"</span>"+i}),t.empty().append(o))}var n={init:function(){return this.each(function(){t(e(this),"","char","")})},words:function(){return this.each(function(){t(e(this)," ","word"," ")})},lines:function(){return this.each(function(){var n="eefec303079ad17405c889e092e105b0";t(e(this).children("br").replaceWith(n).end(),n,"line","")})}};e.fn.lettering=function(t){return t&&n[t]?n[t].apply(this,[].slice.call(arguments,1)):t==="letters"||!t?n.init.apply(this,[].slice.call(arguments,0)):(e.error("Method "+t+" does not exist on jQuery.lettering"),this)}}(jQuery),define("jquery.lettering",function(){});if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery),+function(e){function r(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})}var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function o(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=e(i);t&&t.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o()};var i=e.fn.alert;e.fn.alert=r,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.VERSION="3.3.4",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText==null&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](s[t]==null?this.options[t]:s[t]),t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),n.call(r,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})}var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.3.4",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r=e=="prev"&&n===0||e=="next"&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i=e=="prev"?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(e>this.$items.length-1||e<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(n,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(n,i),o=this.interval,u=n=="next"?"left":"right",a=this;if(s.hasClass("active"))return this.sliding=!1;var f=s[0],l=e.Event("slide.bs.carousel",{relatedTarget:f,direction:u});this.$element.trigger(l);if(l.isDefaultPrevented())return;this.sliding=!0,o&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:f,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(n),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([n,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(h)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this};var r=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(t){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(!s.hasClass("carousel"))return;var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),n.call(s,o),u&&s.data("bs.carousel").to(u),t.preventDefault()};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function n(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function r(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&/show|hide/.test(n)&&(s.toggle=!1),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],'+'[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.3.4",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var n,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(i&&i.length){n=i.data("bs.collapse");if(n&&n.transitioning)return}var s=e.Event("show.bs.collapse");this.$element.trigger(s);if(s.isDefaultPrevented())return;i&&i.length&&(r.call(i,"hide"),n||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[o](this.$element[0][a])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var n=e.Event("hide.bs.collapse");this.$element.trigger(n);if(n.isDefaultPrevented())return;var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[r](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(t.TRANSITION_DURATION)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,r){var i=e(r);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=r,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var i=e(this);i.attr("data-target")||t.preventDefault();var s=n(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();r.call(s,u)})}(jQuery),+function(e){function i(r){if(r&&r.which===3)return;e(t).remove(),e(n).each(function(){var t=e(this),n=s(t),i={relatedTarget:this};if(!n.hasClass("open"))return;n.trigger(r=e.Event("hide.bs.dropdown",i));if(r.isDefaultPrevented())return;t.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",i)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function o(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})}var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.4",r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1},r.prototype.keydown=function(t){if(!/(38|40|27|32)/.test(t.which)||/input|textarea/i.test(t.target.tagName))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o&&t.which!=27||o&&t.which==27)return t.which==27&&i.find(n).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",a=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(!a.length)return;var f=a.index(t.target);t.which==38&&f>0&&f--,t.which==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")};var u=e.fn.dropdown;e.fn.dropdown=o,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){function n(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})}var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.4",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:n});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)})},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n);if(!this.isShown||n.isDefaultPrevented())return;this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(s,o,this)})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&/destroy|hide/.test(n))return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.4",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);if(this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n&&n.$tip&&n.$tip.is(":visible")){n.hoverState="in";return}n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u=typeof this.options.placement=="function"?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,f=a.test(u);f&&(u=u.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var l=this.getPosition(),c=s[0].offsetWidth,h=s[0].offsetHeight;if(f){var p=u,d=this.options.container?e(this.options.container):this.$element.parent(),v=this.getPosition(d);u=u=="bottom"&&l.bottom+h>v.bottom?"top":u=="top"&&l.top-h<v.top?"bottom":u=="right"&&l.right+c>v.width?"left":u=="left"&&l.left-c<v.left?"right":u,s.removeClass(p).addClass(u)}var m=this.getCalculatedOffset(u,l,c,h);this.applyPlacement(m,u);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,e=="out"&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;n=="top"&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(n),h=c?l.left*2-i+a:l.top*2-s+f,p=c?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][p],c)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function o(){r.hoverState!="in"&&i.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,i=e(this.$tip),s=e.Event("hide.bs."+this.type);this.$element.trigger(s);if(s.isDefaultPrevented())return;return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r=n.tagName=="BODY",i=n.getBoundingClientRect();i.width==null&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.getUID=function(e){do e+=~~(Math.random()*1e6);while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=n,e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&/destroy|hide/.test(n))return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=n,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){function t(n,r){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.getScrollHeight(),n=this.options.offset+t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;this.scrollHeight!=t&&this.refresh();if(e>=n)return s!=(o=i[i.length-1])&&this.activate(o);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(r[o+1]===undefined||e<r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})}var t=function(t){this.element=e(t)};t.VERSION="3.3.4",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});i.trigger(s),t.trigger(o);if(o.isDefaultPrevented()||s.isDefaultPrevented())return;var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})},t.prototype.activate=function(n,r,i){function u(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),o=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&o?s.one("bsTransitionEnd",u).emulateTransitionEnd(t.TRANSITION_DURATION):u(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.3.4",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(n!=null&&this.affixed=="top")return i<n?"top":!1;if(this.affixed=="bottom")return n!=null?i+this.unpin<=s.top?!1:"bottom":i+o<=e-r?!1:"bottom";var u=this.affixed==null,a=u?i:s.top,f=u?o:t;return n!=null&&i<=n?"top":r!=null&&a+f>=e-r?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=e(document.body).height();typeof r!="object"&&(s=i=r),typeof i=="function"&&(i=r.top(this.$element)),typeof s=="function"&&(s=r.bottom(this.$element));var u=this.getState(o,n,i,s);if(this.affixed!=u){this.unpin!=null&&this.$element.css("top","");var a="affix"+(u?"-"+u:""),f=e.Event(a+".bs.affix");this.$element.trigger(f);if(f.isDefaultPrevented())return;this.affixed=u,this.unpin=u=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}u=="bottom"&&this.$element.offset({top:o-n-s})};var r=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),r=t.data();r.offset=r.offset||{},r.offsetBottom!=null&&(r.offset.bottom=r.offsetBottom),r.offsetTop!=null&&(r.offset.top=r.offsetTop),n.call(t,r)})})}(jQuery),define("bootstrap",function(){}),function(e,t,n){function r(t){return{errs:e.grep(t,function(e){return"error"===e.priority||"danger"===e.priority}),warns:e.grep(t,function(e){return"warning"===e.priority}),infos:e.grep(t,function(e){return"notice"===e.priority||"info"===e.priority}),succs:e.grep(t,function(e){return"success"===e.priority})}}function i(e){return"notice"===e?"info":"danger"===e?"error":e}var s=function(t,s){var o,u=this;u.element=t,u.options=e.extend({},e.fn.bsAlerts.defaults,s),e(n).on("add-alerts",function(){var e=Array.prototype.slice.call(arguments,1);u.addAlerts(e)}),e(n).on("clear-alerts",function(){u.clearAlerts()}),e.each(this.options.ids.split(","),function(t,r){var i=r.trim();if(i.length>0){var s="set-alert-id-"+i;e(n).on(s,function(){var e=Array.prototype.slice.call(arguments,1);u.addAlerts(e)})}}),u.clearAlerts=function(){e(this.element).html("")},u.addAlerts=function(e){var t=r([].concat(e));u.addAlertsToContainer(t.errs),u.addAlertsToContainer(t.warns),u.addAlertsToContainer(t.infos),u.addAlertsToContainer(t.succs);var n=parseInt(u.options.fade,10);!isNaN(n)&&n>0&&(clearTimeout(o),o=setTimeout(u.fade,n))},u.fade=function(){e("[data-alerts-container]").fadeOut("slow",function(){e(this).remove()})},u.buildNoticeContainer=function(t){if(t.length>0){var n=i(t[0].priority),r=e("<button/>",{type:"button","class":"close","data-dismiss":"alert"}).html("&times;"),s=e("<ul/>");u.attachLIs(s,t);var o=e("<div/>",{"data-alerts-container":n,"class":"alert alert-"+n});o.append(r);var f=this.options.titles[n];return f&&f.length>0&&o.append(e("<strong/>").html(f)),o.append(s),o}return null},u.addAlertsToContainer=function(t){if(t.length>0){var n=e(this.element),r=i(t[0].priority),s=e("[data-alerts-container='"+r+"']",n);if(s.length>0){var o=s.find("ul");u.attachLIs(o,t)}else s=u.buildNoticeContainer(t),n.append(s)}},u.attachLIs=function(t,n){e.each(n,function(n,r){t.append(e("<li/>").html(r.message))})}},o=e.fn.bsAlerts;e.fn.bsAlerts=function(t){return this.each(function(){var n=e(this),r=n.data("bsAlerts"),i="object"==typeof t&&t;r||n.data("bsAlerts",r=new s(this,i)),"string"==typeof t&&r[t]()})},e.fn.bsAlerts.Constructor=s,e.fn.bsAlerts.defaults={titles:{},ids:"",fade:"0"},e.fn.bsAlerts.noConflict=function(){return e.fn.bsAlerts=o,this},e(n).ready(function(){e('[data-alerts="alerts"]').each(function(){var t=e(this);t.bsAlerts(t.data())})})}(jQuery,window,document),define("jquery.bsAlerts",function(){}),function(e){function t(e){try{var t=e.split("/"),n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]);return i>0&&r>=0?new Date(i,r-1,n):null}catch(s){}}function n(e){var t=e.split("-"),n=parseInt(t[1]),r=parseInt(t[0]),i=1;return r>0&&n>=0?new Date(r,n-1,i):null}function r(e){var t=e.getFullYear(),n=e.getMonth();return t+"-"+(n<9?"0"+(n+1):n+1)}function i(e){var t=e.getFullYear(),n=e.getMonth();return(e.getDate()<10?"0"+e.getDate():e.getDate())+"/"+(n<9?"0"+(n+1):n+1)+"/"+t}e.fn.calendar=function(s){function l(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate(0),t.getDate()}function h(e){var t=n(o.find(".month").text());t.setMonth(t.getMonth()+e),o.update(t)}var o=this,u=e.extend({},e.fn.calendar.defaults,s),a=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"],f=a.map(function(e){return"<th>"+e+"</th>"}).join("");o.init=function(){var t='<table class="cal"><caption>	<span class="prev"><a href="javascript:void(0);">&larr;</a></span>	<span class="next"><a href="javascript:void(0);">&rarr;</a></span>	<span class="month"><span></caption><thead><tr>'+f+"</tr></thead>"+"<tbody>"+"</tbody>"+"</table>",n=e(t);o.append(n)},o.update=function(t){function u(n){var r=e('<td><a href="javascript:void(0);"></a></td>'),s=r.find("a");return s.text(n.getDate()),s.data("date",i(n)),t.getMonth()!=n.getMonth()?r.addClass("off"):o.data("date")==s.data("date")&&(r.addClass("active"),o.data("date",i(n))),r}var n=new Date(t);n.setDate(1);var s=n.getDay();s--,s<0&&(s=6),n.setDate(n.getDate()-s);var a=o.find("tbody");a.empty();var f=Math.ceil((s+l(t))/7);for(var c=0;c<f;c++){var h=e("<tr></tr>");for(var p=0;p<7;p++,n.setDate(n.getDate()+1))h.append(u(n));a.append(h)}o.find(".month").text(r(t))},o.getCurrentDate=function(){return o.data("date")},o.init();var c=u.date?u.date:new Date;return(u.date||!u.picker)&&o.data("date",i(c)),o.update(c),o.delegate("tbody td","click",function(){var n=e(this);o.find(".active").removeClass("active"),n.addClass("active"),o.data("date",n.find("a").data("date")),n.hasClass("off")&&o.update(t(o.data("date"))),u.picker&&o.hide()}),o.find(".next").click(function(){h(1)}),o.find(".prev").click(function(){h(-1)}),this},e.fn.calendar.defaults={date:new Date,picker:!1},e.fn.datePicker=function(){var n=this,r=e("<div></div>").addClass("picker-container").hide().calendar({date:t(n.val()),picker:!0});return n.after(r),e("body").click(function(){r.hide()}),n.click(function(){return r.show(),!1}),r.click(function(){return n.val(r.getCurrentDate()),!1}),this},e(window).load(function(){e(".jquery-calendar").each(function(){e(this).calendar()}),e(".date-picker:text").each(function(){e(this).datePicker()})})}($),define("jquery.calendar",function(){}),function(e){typeof define=="function"&&define.amd?define("jquery.combo.select",["jquery"],e):typeof exports=="object"&&typeof require=="function"?e(require("jquery")):e(jQuery)}(function(e,t){function u(t,r){this._name=n,this.el=t,this.$el=e(t);if(this.$el.prop("multiple"))return;this.settings=e.extend({},i,r,this.$el.data()),this._defaults=i,this.$options=this.$el.find("option, optgroup"),this.init(),e.fn[n].instances.push(this)}var n="comboSelect",r="comboselect",i={comboClass:"combo-select",comboArrowClass:"combo-arrow",comboDropDownClass:"combo-dropdown",inputClass:"combo-input text-input",disabledClass:"option-disabled",hoverClass:"option-hover",selectedClass:"option-selected",markerClass:"combo-marker",themeClass:"",maxHeight:200,extendStyle:!0,focusInput:!0},s={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SHIFT:16},o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());e.extend(u.prototype,{init:function(){this._construct(),this._events()},_construct:function(){var t=this;this.$el.data("plugin_"+r+"_tabindex",this.$el.prop("tabindex")),!o&&this.$el.prop("tabIndex",-1),this.$container=this.$el.wrapAll('<div class="'+this.settings.comboClass+" "+this.settings.themeClass+'" />').parent(),this.settings.extendStyle&&this.$el.attr("style")&&this.$container.attr("style",this.$el.attr("style")),this.$arrow=e('<div class="'+this.settings.comboArrowClass+'" />').appendTo(this.$container),this.$dropdown=e('<ul class="'+this.settings.comboDropDownClass+'" />').appendTo(this.$container),this._build(),this.$input=e('<input type="text"'+(o?'tabindex="-1"':"")+' placeholder="'+this.getPlaceholder()+'" class="'+this.settings.inputClass+'">').appendTo(this.$container),this._updateInput()},getPlaceholder:function(){var e="";return this.$options.filter(function(e,t){return t.nodeName=="OPTION"}).each(function(t,n){n.value==""&&(e=n.innerHTML)}),e},_build:function(){var e=this,t="",n=0;this.$options.each(function(r,i){if(i.nodeName.toLowerCase()=="optgroup")return t+='<li class="option-group">'+this.label+"</li>";t+='<li class="'+(this.disabled?e.settings.disabledClass:"option-item")+" "+(n==e.$el.prop("selectedIndex")?e.settings.selectedClass:"")+'" data-index="'+n+'" data-value="'+this.value+'">'+this.innerHTML+"</li>",n++}),this.$dropdown.html(t),this.$items=this.$dropdown.children()},_events:function(){this.$container.on("focus.input","input",e.proxy(this._focus,this)),this.$container.on("mouseup.input","input",function(e){e.preventDefault()}),this.$container.on("blur.input","input",e.proxy(this._blur,this)),this.$el.on("change.select",e.proxy(this._change,this)),this.$el.on("focus.select",e.proxy(this._focus,this)),this.$el.on("blur.select",e.proxy(this._blurSelect,this)),this.$container.on("click.arrow","."+this.settings.comboArrowClass,e.proxy(this._toggle,this)),this.$container.on("comboselect:close",e.proxy(this._close,this)),this.$container.on("comboselect:open",e.proxy(this._open,this)),this.$container.on("comboselect:update",e.proxy(this._update,this)),e("html").off("click.comboselect").on("click.comboselect",function(){e.each(e.fn[n].instances,function(e,t){t.$container.trigger("comboselect:close")})}),this.$container.on("click.comboselect",function(e){e.stopPropagation()}),this.$container.on("keydown","input",e.proxy(this._keydown,this)),this.$container.on("keyup","input",e.proxy(this._keyup,this)),this.$container.on("click.item",".option-item",e.proxy(this._select,this))},_keydown:function(e){switch(e.which){case s.UP:this._move("up",e);break;case s.DOWN:this._move("down",e);break;case s.TAB:this._enter(e);break;case s.RIGHT:this._autofill(e);break;case s.ENTER:this._enter(e);break;default:}},_keyup:function(e){switch(e.which){case s.ESC:this.$container.trigger("comboselect:close");break;case s.ENTER:case s.UP:case s.DOWN:case s.LEFT:case s.RIGHT:case s.TAB:case s.SHIFT:break;default:this._filter(e.target.value)}},_enter:function(e){var t=this._getHovered();t.length&&this._select(t);if(e&&e.which==s.ENTER){if(!t.length)return this._blur(),!0;e.preventDefault()}},_move:function(e){var t=this._getVisible(),n=this._getHovered(),r=n.prevAll(".option-item").filter(":visible").length,i=t.length;switch(e){case"up":r--,r<0&&(r=i-1);break;case"down":r++,r>=i&&(r=0)}t.removeClass(this.settings.hoverClass).eq(r).addClass(this.settings.hoverClass),this.opened||this.$container.trigger("comboselect:open"),this._fixScroll()},_select:function(t){var n=t.currentTarget?e(t.currentTarget):e(t);if(!n.length)return;var r=n.data("index");this._selectByIndex(r),this.$input.focus(),this.$container.trigger("comboselect:close")},_selectByIndex:function(e){typeof e=="undefined"&&(e=0),this.$el.prop("selectedIndex")!=e&&this.$el.prop("selectedIndex",e).trigger("change")},_autofill:function(){var e=this._getHovered();if(e.length){var t=e.data("index");this._selectByIndex(t)}},_filter:function(t){var n=this,r=this._getAll();needle=e.trim(t).toLowerCase(),reEscape=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),pattern="("+t.replace(reEscape,"\\$1")+")",e("."+n.settings.markerClass,r).contents().unwrap(),needle?(this.$items.filter(".option-group, .option-disabled").hide(),r.hide().filter(function(){var t=e(this),r=e.trim(t.text()).toLowerCase();if(r.toString().indexOf(needle)!=-1)return t.html(function(e,t){return t.replace(new RegExp(pattern,"gi"),'<span class="'+n.settings.markerClass+'">$1</span>')}),!0}).show()):this.$items.show(),this.$container.trigger("comboselect:open")},_highlight:function(){var e=this._getVisible().removeClass(this.settings.hoverClass),t=e.filter("."+this.settings.selectedClass);t.length?t.addClass(this.settings.hoverClass):e.removeClass(this.settings.hoverClass).first().addClass(this.settings.hoverClass)},_updateInput:function(){var t=this.$el.prop("selectedIndex");return this.$el.val()?(text=this.$el.find("option").eq(t).text(),this.$input.val(text)):this.$input.val(""),this._getAll().removeClass(this.settings.selectedClass).filter(function(){return e(this).data("index")==t}).addClass(this.settings.selectedClass)},_blurSelect:function(){this.$container.removeClass("combo-focus")},_focus:function(e){this.$container.toggleClass("combo-focus",!this.opened);if(o)return;this.opened||this.$container.trigger("comboselect:open"),this.settings.focusInput&&e&&e.currentTarget&&e.currentTarget.nodeName=="INPUT"&&e.currentTarget.select()},_blur:function(){var t=e.trim(this.$input.val().toLowerCase()),n=!isNaN(t),r=this.$options.filter(function(){return this.nodeName=="OPTION"}).filter(function(){var r=this.innerText||this.textContent;return n?parseInt(e.trim(r).toLowerCase())==t:e.trim(r).toLowerCase()==t}).prop("index");this._selectByIndex(r)},_change:function(){this._updateInput()},_getAll:function(){return this.$items.filter(".option-item")},_getVisible:function(){return this.$items.filter(".option-item").filter(":visible")},_getHovered:function(){return this._getVisible().filter("."+this.settings.hoverClass)},_open:function(){var t=this;this.$container.addClass("combo-open"),this.opened=!0,this.settings.focusInput&&setTimeout(function(){!t.$input.is(":focus")&&t.$input.focus()}),this._highlight(),this._fixScroll(),e.each(e.fn[n].instances,function(e,n){n!=t&&n.opened&&n.$container.trigger("comboselect:close")})},_toggle:function(){this.opened?this._close.call(this):this._open.call(this)},_close:function(){this.$container.removeClass("combo-open combo-focus"),this.$container.trigger("comboselect:closed"),this.opened=!1,this.$items.show()},_fixScroll:function(){if(this.$dropdown.is(":hidden"))return;var e=this._getHovered();if(!e.length)return;var t,n,r,i=e.outerHeight();t=e[0].offsetTop,n=this.$dropdown.scrollTop(),r=n+this.settings.maxHeight-i,t<n?this.$dropdown.scrollTop(t):t>r&&this.$dropdown.scrollTop(t-this.settings.maxHeight+i)},_update:function(){this.$options=this.$el.find("option, optgroup"),this.$dropdown.empty(),this._build()},dispose:function(){this.$arrow.remove(),this.$input.remove(),this.$dropdown.remove(),this.$el.removeAttr("tabindex"),!this.$el.data("plugin_"+r+"_tabindex")||this.$el.prop("tabindex",this.$el.data("plugin_"+r+"_tabindex")),this.$el.unwrap(),this.$el.removeData("plugin_"+r),this.$el.removeData("plugin_"+r+"_tabindex"),this.$el.off("change.select focus.select blur.select")}}),e.fn[n]=function(t,n){return this.each(function(){var i=e(this),s=i.data("plugin_"+r);typeof t=="string"?s&&typeof s[t]=="function"&&s[t](n):(s&&s.dispose&&s.dispose(),e.data(this,"plugin_"+r,new u(this,t)))}),this},e.fn[n].instances=[]}),function(e,t,n){t.Modernizr=function(e,t,n){function r(e){m.cssText=e}function i(e,t){return r(b.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&m[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+E.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+S.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.6.2",c={},h=!0,p=t.documentElement,d="modernizr",v=t.createElement(d),m=v.style,g,y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",E=w.split(" "),S=w.toLowerCase().split(" "),x={},T={},N={},C=[],k=C.slice,L,A=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:d+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),f.id=d,(l?f:c).innerHTML+=s,c.appendChild(f),l||(c.style.background="",c.style.overflow="hidden",a=p.style.overflow,p.style.overflow="hidden",p.appendChild(c)),o=n(f,e),l?f.parentNode.removeChild(f):(c.parentNode.removeChild(c),p.style.overflow=a),!!o},O={}.hasOwnProperty,M;!s(O,"undefined")&&!s(O.call,"undefined")?M=function(e,t){return O.call(e,t)}:M=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(k.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(k.call(arguments)))};return r}),x.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:A(["@media (",b.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},x.csstransitions=function(){return f("transition")};for(var _ in x)M(x,_)&&(L=_.toLowerCase(),c[L]=x[_](),C.push((c[L]?"":"no-")+L));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)M(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,typeof h!="undefined"&&h&&(p.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),v=g=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),c._version=l,c._prefixes=b,c._domPrefixes=S,c._cssomPrefixes=E,c.testProp=function(e){return u([e])},c.testAllProps=f,c.testStyles=A,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+C.join(" "):""),c}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(t,[].slice.call(arguments,0))},e.DropDown=function(t,n){this.$el=e(n),this._init(t)},e.DropDown.defaults={speed:300,easing:"ease",gutter:0,stack:!0,delay:0,random:!1,rotated:!1,slidingIn:!1,onOptionSelect:function(e){return!1}},e.DropDown.prototype={_init:function(t){this.options=e.extend(!0,{},e.DropDown.defaults,t),this._layout(),this._initEvents()},_layout:function(){var t=this;this.minZIndex=1e3;var r=this._transformSelect();this.opts=this.listopts.children("li"),this.optsCount=this.opts.length,this.size={width:this.dd.width(),height:this.dd.height()};var i=this.$el.attr("name"),s=this.$el.attr("id"),o=i!==n?i:s!==n?s:"cd-dropdown-"+(new Date).getTime();this.inputEl=e('<input type="hidden" name="'+o+'" value="'+r+'"></input>').insertAfter(this.selectlabel),this.selectlabel.css("z-index",this.minZIndex+this.optsCount),this._positionOpts(),Modernizr.csstransitions&&setTimeout(function(){t.opts.css("transition","all "+t.options.speed+"ms "+t.options.easing)},25)},_transformSelect:function(){var t="",r="",i=-1;return this.$el.children("option").each(function(){var s=e(this),o=isNaN(s.attr("value"))?s.attr("value"):Number(s.attr("value")),u=s.attr("class"),a=s.attr("selected"),f=s.text();o!==-1&&(t+=u!==n?'<li data-value="'+o+'"><span class="'+u+'">'+f+"</span></li>":'<li data-value="'+o+'"><span>'+f+"</span></li>"),a&&(r=f,i=o)}),this.listopts=e("<ul/>").append(t),this.selectlabel=e("<span/>").append(r),this.dd=e('<div class="cd-dropdown"/>').append(this.selectlabel,this.listopts).insertAfter(this.$el),this.$el.remove(),i},_positionOpts:function(t){var n=this;this.listopts.css("height","auto"),this.opts.each(function(t){e(this).css({zIndex:n.minZIndex+n.optsCount-1-t,top:n.options.slidingIn?(t+1)*(n.size.height+n.options.gutter):0,left:0,marginLeft:n.options.slidingIn?t%2===0?n.options.slidingIn:-n.options.slidingIn:0,opacity:n.options.slidingIn?0:1,transform:"none"})}),this.options.slidingIn||this.opts.eq(this.optsCount-1).css({top:this.options.stack?9:0,left:this.options.stack?4:0,width:this.options.stack?this.size.width-8:this.size.width,transform:"none"}).end().eq(this.optsCount-2).css({top:this.options.stack?6:0,left:this.options.stack?2:0,width:this.options.stack?this.size.width-4:this.size.width,transform:"none"}).end().eq(this.optsCount-3).css({top:this.options.stack?3:0,left:0,transform:"none"})},_initEvents:function(){var t=this;this.selectlabel.on("mousedown.dropdown",function(e){return t.opened?t.close():t.open(),!1}),this.opts.on("click.dropdown",function(){if(t.opened){var n=e(this);t.options.onOptionSelect(n),t.inputEl.val(n.data("value")),t.selectlabel.html(n.html()),t.close()}})},open:function(){var t=this;this.dd.toggleClass("cd-active"),this.listopts.css("height",(this.optsCount+1)*(this.size.height+this.options.gutter)),this.opts.each(function(n){e(this).css({opacity:1,top:t.options.rotated?t.size.height+t.options.gutter:(n+1)*(t.size.height+t.options.gutter),left:t.options.random?Math.floor(Math.random()*11-5):0,width:t.size.width,marginLeft:0,transform:t.options.random?"rotate("+Math.floor(Math.random()*11-5)+"deg)":t.options.rotated?t.options.rotated==="right"?"rotate(-"+n*5+"deg)":"rotate("+n*5+"deg)":"none",transitionDelay:t.options.delay&&Modernizr.csstransitions?t.options.slidingIn?n*t.options.delay+"ms":(t.optsCount-1-n)*t.options.delay+"ms":0})}),this.opened=!0},close:function(){var t=this;this.dd.toggleClass("cd-active"),this.options.delay&&Modernizr.csstransitions&&this.opts.each(function(n){e(this).css({"transition-delay":t.options.slidingIn?(t.optsCount-1-n)*t.options.delay+"ms":n*t.options.delay+"ms"})}),this._positionOpts(!0),this.opened=!1}},e.fn.dropdown=function(t){var n=e.data(this,"dropdown");if(typeof t=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){n[t].apply(n,r)})}else this.each(function(){n?n._init():n=e.data(this,"dropdown",new e.DropDown(t,this))});return n}}(jQuery,window),define("jquery.dropdown",function(){}),function(e){e.fn.tableHeadFixer=function(t){function i(){var t=e(r.table);if(r.head){if(r.left>0){var n=t.find("thead tr");n.each(function(t,n){c(n,function(t){e(t).css("z-index",r["z-index"]+1)})})}if(r.right>0){var n=t.find("thead tr");n.each(function(t,n){h(n,function(t){e(t).css("z-index",r["z-index"]+1)})})}}if(r.foot){if(r.left>0){var n=t.find("tfoot tr");n.each(function(t,n){c(n,function(t){e(t).css("z-index",r["z-index"])})})}if(r.right>0){var n=t.find("tfoot tr");n.each(function(t,n){h(n,function(t){e(t).css("z-index",r["z-index"])})})}}}function s(){var t=e(r.parent),n=e(r.table);t.append(n),t.css({"overflow-x":"auto","overflow-y":"auto"}),t.scroll(function(){var e=t[0].scrollWidth,n=t[0].clientWidth,i=t[0].scrollHeight,s=t[0].clientHeight,o=t.scrollTop(),u=t.scrollLeft();r.head&&this.find("thead tr > *").css("top",o),r.foot&&this.find("tfoot tr > *").css("bottom",i-s-o),r.left>0&&r.leftColumns.css("left",u),r.right>0&&r.rightColumns.css("right",e-n-u)}.bind(n))}function o(){var t=e(r.table).find("thead"),n=t.find("tr"),i=t.find("tr > *");l(i),i.css({position:"relative"})}function u(){var t=e(r.table).find("tfoot"),n=t.find("tr"),i=t.find("tr > *");l(i),i.css({position:"relative"})}function a(){var t=e(r.table);r.leftColumns=e();var n=t.find("tr");n.each(function(e,t){c(t,function(e){r.leftColumns=r.leftColumns.add(e)})});var i=r.leftColumns;i.each(function(t,n){var n=e(n);l(n),n.css({position:"relative"})})}function f(){var t=e(r.table),n=r.right;r.rightColumns=e();var i=t.find("tr");i.each(function(e,t){h(t,function(e){r.rightColumns=r.rightColumns.add(e)})});var s=r.rightColumns;s.each(function(t,n){var n=e(n);l(n),n.css({position:"relative"})})}function l(t){t.each(function(t,n){var n=e(n),r=e(n).parent(),i=n.css("background-color");i=i=="transparent"||i=="rgba(0, 0, 0, 0)"?null:i;var s=r.css("background-color");s=s=="transparent"||s=="rgba(0, 0, 0, 0)"?null:s;var o=s?s:"white";o=i?i:o,n.css("background-color",o)})}function c(t,n){var i=r.left,s=1;for(var o=1;o<=i;o+=s){var u=s>1?o-1:o,a=e(t).find("> *:nth-child("+u+")"),f=a.prop("colspan");a.cellPos().left<i&&n(a),s=f}}function h(t,n){var i=r.right,s=1;for(var o=1;o<=i;o+=s){var u=s>1?o-1:o,a=e(t).find("> *:nth-last-child("+u+")"),f=a.prop("colspan");n(a),s=f}}var n={head:!0,foot:!1,left:0,right:0,"z-index":0},r=e.extend({},n,t);return this.each(function(){r.table=this,r.parent=e(r.table).parent(),s(),r.head==1&&o(),r.foot==1&&u(),r.left>0&&a(),r.right>0&&f(),i(),e(r.parent).trigger("scroll"),e(window).resize(function(){e(r.parent).trigger("scroll")})})}}(jQuery),function(e){function t(t){var n=[];t.children("tr").each(function(t,r){e(r).children("td, th").each(function(r,i){var s=e(i),o=s.attr("colspan")|0,u=s.attr("rowspan")|0,a,f;o=o?o:1,u=u?u:1;for(;n[t]&&n[t][r];++r);for(a=r;a<r+o;++a)for(f=t;f<t+u;++f)n[f]||(n[f]=[]),n[f][a]=!0;var l={top:t,left:r};s.data("cellPos",l)})})}e.fn.cellPos=function(e){var n=this.first(),r=n.data("cellPos");if(!r||e){var i=n.closest("table, thead, tbody, tfoot");t(i)}return r=n.data("cellPos"),r}}(jQuery),define("jquery.fixedtable",function(){}),function(e){var t=!1,n=!1,r={isUrl:function(e){var t=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)?!0:!1},loadContent:function(e,t){e.html(t)},addPrefix:function(e){var t=e.attr("id"),n=e.attr("class");"string"==typeof t&&""!==t&&e.attr("id",t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof n&&""!==n&&"sidr-inner"!==n&&e.attr("class",n.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),e.removeAttr("style")},execute:function(r,s,u){"function"==typeof s?(u=s,s="sidr"):s||(s="sidr");var a,f,l,c=e("#"+s),h=e(c.data("body")),p=e("html"),d=c.outerWidth(!0),v=c.data("speed"),m=c.data("side"),g=c.data("displace"),y=c.data("onOpen"),b=c.data("onClose"),w="sidr"===s?"sidr-open":"sidr-open "+s+"-open";if("open"===r||"toggle"===r&&!c.is(":visible")){if(c.is(":visible")||t)return;if(n!==!1)return i.close(n,function(){i.open(s)}),void 0;t=!0,"left"===m?(a={left:d+"px"},f={left:"0px"}):(a={right:d+"px"},f={right:"0px"}),h.is("body")&&(l=p.scrollTop(),p.css("overflow-x","hidden").scrollTop(l)),g?h.addClass("sidr-animating").css({width:h.width(),position:"absolute"}).animate(a,v,function(){e(this).addClass(w)}):setTimeout(function(){e(this).addClass(w)},v),c.css("display","block").animate(f,v,function(){t=!1,n=s,"function"==typeof u&&u(s),h.removeClass("sidr-animating")}),y()}else{if(!c.is(":visible")||t)return;t=!0,"left"===m?(a={left:0},f={left:"-"+d+"px"}):(a={right:0},f={right:"-"+d+"px"}),h.is("body")&&(l=p.scrollTop(),p.removeAttr("style").scrollTop(l)),h.addClass("sidr-animating").animate(a,v).removeClass(w),c.animate(f,v,function(){c.removeAttr("style").hide(),h.removeAttr("style"),e("html").removeAttr("style"),t=!1,n=!1,"function"==typeof u&&u(s),h.removeClass("sidr-animating")}),b()}}},i={open:function(e,t){r.execute("open",e,t)},close:function(e,t){r.execute("close",e,t)},toggle:function(e,t){r.execute("toggle",e,t)},toogle:function(e,t){r.execute("toggle",e,t)}};e.sidr=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof t&&"string"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.sidr"),void 0):i.toggle.apply(this,arguments)},e.fn.sidr=function(t){var n=e.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},t),s=n.name,u=e("#"+s);if(0===u.length&&(u=e("<div />").attr("id",s).appendTo(e("body"))),u.addClass("sidr").addClass(n.side).data({speed:n.speed,side:n.side,body:n.body,displace:n.displace,onOpen:n.onOpen,onClose:n.onClose}),"function"==typeof n.source){var a=n.source(s);r.loadContent(u,a)}else if("string"==typeof n.source&&r.isUrl(n.source))e.get(n.source,function(e){r.loadContent(u,e)});else if("string"==typeof n.source){var f="",l=n.source.split(",");if(e.each(l,function(t,n){f+='<div class="sidr-inner">'+e(n).html()+"</div>"}),n.renaming){var c=e("<div />").html(f);c.find("*").each(function(t,n){var i=e(n);r.addPrefix(i)}),f=c.html()}r.loadContent(u,f)}else null!==n.source&&e.error("Invalid Sidr Source");return this.each(function(){var t=e(this),n=t.data("sidr");n||(t.data("sidr",s),"ontouchstart"in document.documentElement?(t.bind("touchstart",function(e){e.originalEvent.touches[0],this.touched=e.timeStamp}),t.bind("touchend",function(e){var t=Math.abs(e.timeStamp-this.touched);200>t&&(e.preventDefault(),i.toggle(s))})):t.click(function(e){e.preventDefault(),i.toggle(s)}))})}}(jQuery),define("jquery.sidr",function(){}),function(e){var t=function(){var t={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},n=function(){var t=/iPhone|iPad|iPod/i.test(navigator.userAgent);return t&&e(window).load(function(){e("body").children().on("click",e.noop)}),t}(),r=function(){var e=document.documentElement.style;return"behavior"in e&&"fill"in e&&/iemobile/i.test(navigator.userAgent)}(),i=function(e,n){var r=t.menuClass;n.cssArrows&&(r+=" "+t.menuArrowClass),e.toggleClass(r)},s=function(n,r){return n.find("li."+r.pathClass).slice(0,r.pathLevels).addClass(r.hoverClass+" "+t.bcClass).filter(function(){return e(this).children(r.popUpSelector).hide().show().length}).removeClass(r.pathClass)},o=function(e){e.children("a").toggleClass(t.anchorClass)},u=function(e){var t=e.css("ms-touch-action");t=t==="pan-y"?"auto":"pan-y",e.css("ms-touch-action",t)},a=function(t,i){var s="li:has("+i.popUpSelector+")";e.fn.hoverIntent&&!i.disableHI?t.hoverIntent(l,c,s):t.on("mouseenter.superfish",s,l).on("mouseleave.superfish",s,c);var o="MSPointerDown.superfish";n||(o+=" touchend.superfish"),r&&(o+=" mousedown.superfish"),t.on("focusin.superfish","li",l).on("focusout.superfish","li",c).on(o,"a",i,f)},f=function(t){var n=e(this),r=n.siblings(t.data.popUpSelector);r.length>0&&r.is(":hidden")&&(n.one("click.superfish",!1),t.type==="MSPointerDown"?n.trigger("focus"):e.proxy(l,n.parent("li"))())},l=function(){var t=e(this),n=d(t);clearTimeout(n.sfTimer),t.siblings().superfish("hide").end().superfish("show")},c=function(){var t=e(this),r=d(t);n?e.proxy(h,t,r)():(clearTimeout(r.sfTimer),r.sfTimer=setTimeout(e.proxy(h,t,r),r.delay))},h=function(t){t.retainPath=e.inArray(this[0],t.$path)>-1,this.superfish("hide"),this.parents("."+t.hoverClass).length||(t.onIdle.call(p(this)),t.$path.length&&e.proxy(l,t.$path)())},p=function(e){return e.closest("."+t.menuClass)},d=function(e){return p(e).data("sf-options")};return{hide:function(t){if(this.length){var n=this,r=d(n);if(!r)return this;var i=r.retainPath===!0?r.$path:"",s=n.find("li."+r.hoverClass).add(this).not(i).removeClass(r.hoverClass).children(r.popUpSelector),o=r.speedOut;t&&(s.show(),o=0),r.retainPath=!1,r.onBeforeHide.call(s),s.stop(!0,!0).animate(r.animationOut,o,function(){var t=e(this);r.onHide.call(t)})}return this},show:function(){var e=d(this);if(!e)return this;var t=this.addClass(e.hoverClass),n=t.children(e.popUpSelector);return e.onBeforeShow.call(n),n.stop(!0,!0).animate(e.animation,e.speed,function(){e.onShow.call(n)}),this},destroy:function(){return this.each(function(){var n=e(this),r=n.data("sf-options"),s;if(!r)return!1;s=n.find(r.popUpSelector).parent("li"),clearTimeout(r.sfTimer),i(n,r),o(s),u(n),n.off(".superfish").off(".hoverIntent"),s.children(r.popUpSelector).attr("style",function(e,t){return t.replace(/display[^;]+;?/g,"")}),r.$path.removeClass(r.hoverClass+" "+t.bcClass).addClass(r.pathClass),n.find("."+r.hoverClass).removeClass(r.hoverClass),r.onDestroy.call(n),n.removeData("sf-options")})},init:function(n){return this.each(function(){var r=e(this);if(r.data("sf-options"))return!1;var f=e.extend({},e.fn.superfish.defaults,n),l=r.find(f.popUpSelector).parent("li");f.$path=s(r,f),r.data("sf-options",f),i(r,f),o(l),u(r),a(r,f),l.not("."+t.bcClass).superfish("hide",!0),f.onInit.call(this)})}}}();e.fn.superfish=function(n,r){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):typeof n=="object"||!n?t.init.apply(this,arguments):e.error("Method "+n+" does not exist on jQuery.fn.superfish")},e.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:e.noop,onBeforeShow:e.noop,onShow:e.noop,onBeforeHide:e.noop,onHide:e.noop,onIdle:e.noop,onDestroy:e.noop},e.fn.extend({hideSuperfishUl:t.hide,showSuperfishUl:t.show})}(jQuery),define("superfish",function(){}),!function(e){function t(){var e=location.href;return hashtag=-1!==e.indexOf("#prettyPhoto")?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function n(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function r(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t);return null==i?"":i[1]}e.prettyPhoto={version:"3.1.6"},e.fn.prettyPhoto=function(s){function u(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(L/2-b.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:b.contentHeight,width:b.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:A/2-b.containerWidth/2<0?0:A/2-b.containerWidth/2,width:b.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(b.height).width(b.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==h(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(b.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||N||w||e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),w=!0}),g(),s.ajaxcallback()}function a(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function f(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function l(e,t){if(resized=!1,c(e,t),imageWidth=e,imageHeight=t,(T>A||x>L)&&doresize&&settings.allow_resize&&!k){for(resized=!0,fitting=!1;!fitting;)T>A?(imageWidth=A-200,imageHeight=t/e*imageWidth):x>L?(imageHeight=L-200,imageWidth=e/t*imageHeight):fitting=!0,x=imageHeight,T=imageWidth;(T>A||x>L)&&l(T,x),c(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(x),containerWidth:Math.floor(T)+2*settings.horizontal_padding,contentHeight:Math.floor(E),contentWidth:Math.floor(S),resized:resized}}function c(t,n){t=parseFloat(t),n=parseFloat(n),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),E=n+detailsHeight,S=t,x=E+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),T=t}function h(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function d(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=v(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=L/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>L)return;$pp_pic_holder.css({top:projectedTop,left:A/2+scroll_pos.scrollLeft-contentwidth/2})}}function v(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function m(){L=e(window).height(),A=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(A)}function g(){isSet&&settings.overlay_gallery&&"image"==h(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((b.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function y(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),settings.allow_expand&&e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),a(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),d()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var b,w,E,S,x,T,N,C=this,k=!1,L=e(window).height(),A=e(window).width();return doresize=!0,scroll_pos=v(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){d(),m()}),s.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=s,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(C,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(C,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(C,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),y(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){d()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=s,pp_images=e.makeArray(arguments[0]),pp_titles=e.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=e.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,y(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),f(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&n(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString(),k=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),k=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),k=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,h(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){b=l(imgPreloader.width,imgPreloader.height),u()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":b=l(movie_width,movie_height),movie_id=i("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=i("rel",pp_images[set_position])?"?rel="+i("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":b=l(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=b.width+"/embed/?moog_width="+b.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,b.height).replace(/{path}/g,movie);break;case"quicktime":b=l(movie_width,movie_height),b.height+=15,b.contentHeight+=15,b.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":b=l(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":b=l(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,b=l(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,u()});break;case"custom":b=l(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,b=l(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,u())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),a(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){"undefined"==typeof N?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),N=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(N),N=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),r(),settings.callback(),doresize=!0,w=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;define("jquery.prettyPhoto",function(){}),function(e,t,n,r){function u(t,n){this.settings=null,this.options=e.extend({},u.Defaults,n),this.$element=e(t),this.drag=e.extend({},i),this.state=e.extend({},s),this.e=e.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],e.each(u.Plugins,e.proxy(function(e,t){this._plugins[e[0].toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(u.Pipe,e.proxy(function(t,n){this._pipe.push({filter:n.filter,run:e.proxy(n.run,this)})},this)),this.setup(),this.initialize()}function a(e){if(e.touches!==r)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(e.touches===r){if(e.pageX!==r)return{x:e.pageX,y:e.pageY};if(e.pageX===r)return{x:e.clientX,y:e.clientY}}}function f(e){var t,r,i=n.createElement("div"),s=e;for(t in s){r=s[t];if(typeof i.style[r]!="undefined")return i=null,[r,t]}return[!1]}function l(){return f(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function c(){return f(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function h(){return f(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function p(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function d(){return t.navigator.msPointerEnabled}var i,s,o;i={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},s={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},u.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},u.Width={Default:"default",Inner:"inner",Outer:"outer"},u.Plugins={},u.Pipe=[{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var e=this._clones,t=this.$stage.children(".cloned");if(t.length!==e.length||!this.settings.loop&&e.length>0)this.$stage.children(".cloned").remove(),this._clones=[]}},{filter:["items","settings"],run:function(){var e,t,n=this._clones,r=this._items,i=this.settings.loop?n.length-Math.max(this.settings.items*2,4):0;for(e=0,t=Math.abs(i/2);e<t;e++)i>0?(this.$stage.children().eq(r.length+n.length-1).remove(),n.pop(),this.$stage.children().eq(0).remove(),n.pop()):(n.push(n.length/2),this.$stage.append(r[n[n.length-1]].clone().addClass("cloned")),n.push(r.length-1-(n.length-1)/2),this.$stage.prepend(r[n[n.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var e=this.settings.rtl?1:-1,t=(this.width()/this.settings.items).toFixed(3),n=0,r,i,s;this._coordinates=[];for(i=0,s=this._clones.length+this._items.length;i<s;i++)r=this._mergers[this.relative(i)],r=this.settings.mergeFit&&Math.min(r,this.settings.items)||r,n+=(this.settings.autoWidth?this._items[this.relative(i)].width()+this.settings.margin:t*r)*e,this._coordinates.push(n)}},{filter:["width","items","settings"],run:function(){var t,n,r=(this.width()/this.settings.items).toFixed(3),i={width:Math.abs(this._coordinates[this._coordinates.length-1])+this.settings.stagePadding*2,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};this.$stage.css(i),i={width:this.settings.autoWidth?"auto":r-this.settings.margin},i[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin;if(!this.settings.autoWidth&&e.grep(this._mergers,function(e){return e>1}).length>0)for(t=0,n=this._coordinates.length;t<n;t++)i.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(i);else this.$stage.children().css(i)}},{filter:["width","items","settings"],run:function(e){e.current&&this.reset(this.$stage.children().index(e.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e=this.settings.rtl?1:-1,t=this.settings.stagePadding*2,n=this.coordinates(this.current())+t,r=n+this.width()*e,i,s,o=[],u,a;for(u=0,a=this._coordinates.length;u<a;u++)i=this._coordinates[u-1]||0,s=Math.abs(this._coordinates[u])+t*e,(this.op(i,"<=",n)&&this.op(i,">",r)||this.op(s,"<",n)&&this.op(s,">",r))&&o.push(u);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+o.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],u.prototype.initialize=function(){this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport();if(this.settings.autoWidth&&this.state.imagesLoaded!==!0){var t,n,i;t=this.$element.find("img"),n=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,i=this.$element.children(n).width();if(t.length&&i<=0)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading"),this.$stage=e("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},u.prototype.setup=function(){var t=this.viewport(),n=this.options.responsive,r=-1,i=null;n?(e.each(n,function(e){e<=t&&e>r&&(r=Number(e))}),i=e.extend({},this.options,n[r]),delete i.responsive,i.responsiveClass&&this.$element.attr("class",function(e,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+r)):i=e.extend({},this.options);if(this.settings===null||this._breakpoint!==r)this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=r,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},u.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},u.prototype.prepare=function(t){var n=this.trigger("prepare",{content:t});return n.data||(n.data=e("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:n.data}),n.data},u.prototype.update=function(){var t=0,n=this._pipe.length,r=e.proxy(function(e){return this[e]},this._invalidated),i={};while(t<n)(this._invalidated.all||e.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(i),t++;this._invalidated={}},u.prototype.width=function(e){e=e||u.Width.Default;switch(e){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},u.prototype.refresh=function(){if(this._items.length===0)return!1;var e=(new Date).getTime();this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=t.orientation,this.watchVisibility(),this.trigger("refreshed")},u.prototype.eventsCall=function(){this.e._onDragStart=e.proxy(function(e){this.onDragStart(e)},this),this.e._onDragMove=e.proxy(function(e){this.onDragMove(e)},this),this.e._onDragEnd=e.proxy(function(e){this.onDragEnd(e)},this),this.e._onResize=e.proxy(function(e){this.onResize(e)},this),this.e._transitionEnd=e.proxy(function(e){this.transitionEnd(e)},this),this.e._preventClick=e.proxy(function(e){this.preventClick(e)},this)},u.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},u.prototype.onResize=function(){if(!this._items.length)return!1;if(this._width===this.$element.width())return!1;if(this.trigger("resize").isDefaultPrevented())return!1;this._width=this.$element.width(),this.invalidate("width"),this.refresh(),this.trigger("resized")},u.prototype.eventsRouter=function(e){var t=e.type;t==="mousedown"||t==="touchstart"?this.onDragStart(e):t==="mousemove"||t==="touchmove"?this.onDragMove(e):t==="mouseup"||t==="touchend"?this.onDragEnd(e):t==="touchcancel"&&this.onDragEnd(e)},u.prototype.internalEvents=function(){var n=p(),r=d();this.settings.mouseDrag?(this.$stage.on("mousedown",e.proxy(function(e){this.eventsRouter(e)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!r&&this.$stage.on("touchstart touchcancel",e.proxy(function(e){this.eventsRouter(e)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(t,"resize",e.proxy(this.onThrottledResize,this))},u.prototype.onDragStart=function(r){var i,s,o,u,f;i=r.originalEvent||r||t.event;if(i.which===3||this.state.isTouch)return!1;i.type==="mousedown"&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,o=a(i).x,u=a(i).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin);if(this.state.inMotion&&this.support3d)f=this.getTransformProperty(),this.drag.offsetX=f,this.animate(f),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=o-this.drag.offsetX,this.drag.startY=u-this.drag.offsetY,this.drag.start=o-this.drag.startX,this.drag.targetEl=i.target||i.srcElement,this.drag.updatedX=this.drag.start;if(this.drag.targetEl.tagName==="IMG"||this.drag.targetEl.tagName==="A")this.drag.targetEl.draggable=!1;e(n).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",e.proxy(function(e){this.eventsRouter(e)},this))},u.prototype.onDragMove=function(e){var n,i,s,o,u,f,l;if(!this.state.isTouch)return;if(this.state.isScrolling)return;n=e.originalEvent||e||t.event,s=a(n).x,o=a(n).y,this.drag.currentX=s-this.drag.startX,this.drag.currentY=o-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&this.state.direction==="right"?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&this.state.direction==="left"&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(u=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),f=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),l=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,u+l),f+l));if(this.drag.distance>8||this.drag.distance<-8)n.preventDefault!==r?n.preventDefault():n.returnValue=!1,this.state.isSwiping=!0;this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)},u.prototype.onDragEnd=function(t){var r,i,s;if(!this.state.isTouch)return;t.type==="mouseup"&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1;if(this.drag.distance===0&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),r=this.drag.endTime-this.drag.startTime,i=Math.abs(this.drag.distance),(i>3||r>300)&&this.removeClick(this.drag.targetEl),s=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(s),this.invalidate("position"),this.update(),!this.settings.pullDrag&&this.drag.updatedX===this.coordinates(s)&&this.transitionEnd(),this.drag.distance=0,e(n).off(".owl.dragEvents")},u.prototype.removeClick=function(n){this.drag.targetEl=n,e(n).on("click.preventClick",this.e._preventClick),t.setTimeout(function(){e(n).off("click.preventClick")},300)},u.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),e(t.target).off("click.preventClick")},u.prototype.getTransformProperty=function(){var e,n;return e=t.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),e=e.replace(/matrix(3d)?\(|\)/g,"").split(","),n=e.length===16,n!==!0?e[4]:e[12]},u.prototype.closest=function(t){var n=-1,r=30,i=this.width(),s=this.coordinates();return this.settings.freeDrag||e.each(s,e.proxy(function(e,o){return t>o-r&&t<o+r?n=e:this.op(t,"<",o)&&this.op(t,">",s[e+1]||o-i)&&(n=this.state.direction==="left"?e+1:e),n===-1},this)),this.settings.loop||(this.op(t,">",s[this.minimum()])?n=t=this.minimum():this.op(t,"<",s[this.maximum()])&&(n=t=this.maximum())),n},u.prototype.animate=function(t){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+t+"px"+",0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,e.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},u.prototype.current=function(e){if(e===r)return this._current;if(this._items.length===0)return r;e=this.normalize(e);if(this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==r&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},u.prototype.invalidate=function(e){this._invalidated[e]=!0},u.prototype.reset=function(e){e=this.normalize(e);if(e===r)return;this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"])},u.prototype.normalize=function(t,n){var i=n?this._items.length:this._items.length+this._clones.length;return!e.isNumeric(t)||i<1?r:(this._clones.length?t=(t%i+i)%i:t=Math.max(this.minimum(n),Math.min(this.maximum(n),t)),t)},u.prototype.relative=function(e){return e=this.normalize(e),e-=this._clones.length/2,this.normalize(e,!0)},u.prototype.maximum=function(e){var t,n,r=0,i,s=this.settings;if(e)return this._items.length-1;if(!s.loop&&s.center)t=this._items.length-1;else if(!s.loop&&!s.center)t=this._items.length-s.items;else if(s.loop||s.center)t=this._items.length+s.items;else{if(!s.autoWidth&&!s.merge)throw"Can not detect maximum absolute position.";revert=s.rtl?1:-1,n=this.$stage.width()-this.$element.width();while(i=this.coordinates(r)){if(i*revert>=n)break;t=++r}}return t},u.prototype.minimum=function(e){return e?0:this._clones.length/2},u.prototype.items=function(e){return e===r?this._items.slice():(e=this.normalize(e,!0),this._items[e])},u.prototype.mergers=function(e){return e===r?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},u.prototype.clones=function(t){var n=this._clones.length/2,i=n+this._items.length,s=function(e){return e%2===0?i+e/2:n-(e+1)/2};return t===r?e.map(this._clones,function(e,t){return s(t)}):e.map(this._clones,function(e,n){return e===t?s(n):null})},u.prototype.speed=function(e){return e!==r&&(this._speed=e),this._speed},u.prototype.coordinates=function(t){var n=null;return t===r?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(n=this._coordinates[t],n+=(this.width()-n+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1)):n=this._coordinates[t-1]||0,n)},u.prototype.duration=function(e,t,n){return Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(n||this.settings.smartSpeed)},u.prototype.to=function(n,r){if(this.settings.loop){var i=n-this.relative(this.current()),s=this.current(),o=this.current(),u=this.current()+i,a=o-u<0?!0:!1,f=this._clones.length+this._items.length;u<this.settings.items&&a===!1?(s=o+this._items.length,this.reset(s)):u>=f-this.settings.items&&a===!0&&(s=o-this._items.length,this.reset(s)),t.clearTimeout(this.e._goToLoop),this.e._goToLoop=t.setTimeout(e.proxy(function(){this.speed(this.duration(this.current(),s+i,r)),this.current(s+i),this.update()},this),30)}else this.speed(this.duration(this.current(),n,r)),this.current(n),this.update()},u.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},u.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},u.prototype.transitionEnd=function(e){if(e!==r){e.stopPropagation();if((e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0))return!1}this.state.inMotion=!1,this.trigger("translated")},u.prototype.viewport=function(){var r;if(this.options.responsiveBaseElement!==t)r=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)r=t.innerWidth;else{if(!n.documentElement||!n.documentElement.clientWidth)throw"Can not detect viewport width.";r=n.documentElement.clientWidth}return r},u.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return this.nodeType===1}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(e.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},u.prototype.add=function(e,t){t=t===r?this._items.length:this.normalize(t,!0),this.trigger("add",{content:e,position:t}),this._items.length===0||t===this._items.length?(this.$stage.append(e),this._items.push(e),this._mergers.push(e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)):(this._items[t].before(e),this._items.splice(t,0,e),this._mergers.splice(t,0,e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)),this.invalidate("items"),this.trigger("added",{content:e,position:t})},u.prototype.remove=function(e){e=this.normalize(e,!0);if(e===r)return;this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e})},u.prototype.addTriggerableEvents=function(){var t=e.proxy(function(t,n){return e.proxy(function(e){e.relatedTarget!==this&&(this.suppress([n]),t.apply(this,[].slice.call(arguments,1)),this.release([n]))},this)},this);e.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},e.proxy(function(e,n){this.$element.on(e+".owl.carousel",t(n,e+".owl.carousel"))},this))},u.prototype.watchVisibility=function(){function n(e){return e.offsetWidth>0&&e.offsetHeight>0}function r(){n(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),t.clearInterval(this.e._checkVisibile))}n(this.$element.get(0))||(this.$element.addClass("owl-hidden"),t.clearInterval(this.e._checkVisibile),this.e._checkVisibile=t.setInterval(e.proxy(r,this),500))},u.prototype.preloadAutoWidthImages=function(t){var n,r,i,s;n=0,r=this,t.each(function(o,u){i=e(u),s=new Image,s.onload=function(){n++,i.attr("src",s.src),i.css("opacity",1),n>=t.length&&(r.state.imagesLoaded=!0,r.initialize())},s.src=i.attr("src")||i.attr("data-src")||i.attr("data-src-retina")})},u.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&e(t).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var r in this._plugins)this._plugins[r].destroy();if(this.settings.mouseDrag||this.settings.touchDrag)this.$stage.off("mousedown touchstart touchcancel"),e(n).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1});this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},u.prototype.op=function(e,t,n){var r=this.settings.rtl;switch(t){case"<":return r?e>n:e<n;case">":return r?e<n:e>n;case">=":return r?e<=n:e>=n;case"<=":return r?e>=n:e<=n;default:}},u.prototype.on=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},u.prototype.off=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},u.prototype.trigger=function(t,n,r){var i={item:{count:this._items.length,index:this.current()}},s=e.camelCase(e.grep(["on",t,r],function(e){return e}).join("-").toLowerCase()),o=e.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},i,n));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(o)}),this.$element.trigger(o),this.settings&&typeof this.settings[s]=="function"&&this.settings[s].apply(this,o)),o},u.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},u.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},u.prototype.browserSupport=function(){this.support3d=h();if(this.support3d){this.transformVendor=c();var e=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=e[l()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=this.vendorName!==""?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation},e.fn.owlCarousel=function(t){return this.each(function(){e(this).data("owlCarousel")||e(this).data("owlCarousel",new u(this,t))})},e.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":e.proxy(function(t){if(!t.namespace)return;if(!this._core.settings||!this._core.settings.lazyLoad)return;if(t.property&&t.property.name=="position"||t.type=="initialized"){var n=this._core.settings,r=n.center&&Math.ceil(n.items/2)||n.items,i=n.center&&r*-1||0,s=(t.property&&t.property.value||this._core.current())+i,o=this._core.clones().length,u=e.proxy(function(e,t){this.load(t)},this);while(i++<r)this.load(o/2+this._core.relative(s)),o&&e.each(this._core.clones(this._core.relative(s++)),u)}},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1},i.prototype.load=function(n){var r=this._core.$stage.children().eq(n),i=r&&r.find(".owl-lazy");if(!i||e.inArray(r.get(0),this._loaded)>-1)return;i.each(e.proxy(function(n,r){var i=e(r),s,o=t.devicePixelRatio>1&&i.attr("data-src-retina")||i.attr("data-src");this._core.trigger("load",{element:i,url:o},"lazy"),i.is("img")?i.one("load.owl.lazy",e.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:o},"lazy")},this)).attr("src",o):(s=new Image,s.onload=e.proxy(function(){i.css({"background-image":"url("+o+")",opacity:"1"}),this._core.trigger("loaded",{element:i,url:o},"lazy")},this),s.src=o)},this)),this._loaded.push(r.get(0))},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this._core=t,this._handlers={"initialized.owl.carousel":e.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){this._core.settings.autoHeight&&e.property.name=="position"&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this._core=t,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":e.proxy(function(e){this._core.settings.video&&!this.isInFullScreen()&&e.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":e.proxy(function(e){this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){var n=e(t.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,e(t.content)))},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(e,t){var n=e.attr("data-vimeo-id")?"vimeo":"youtube",r=e.attr("data-vimeo-id")||e.attr("data-youtube-id"),i=e.attr("data-width")||this._core.settings.videoWidth,s=e.attr("data-height")||this._core.settings.videoHeight,o=e.attr("href");if(!o)throw new Error("Missing video URL.");r=o.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);if(r[3].indexOf("youtu")>-1)n="youtube";else{if(!(r[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");n="vimeo"}r=r[6],this._videos[o]={type:n,id:r,width:i,height:s},t.attr("data-video",o),this.thumbnail(e,this._videos[o])},i.prototype.thumbnail=function(t,n){var r,i,s,o=n.width&&n.height?'style="width:'+n.width+"px;height:"+n.height+'px;"':"",u=t.find("img"),a="src",f="",l=this._core.settings,c=function(e){i='<div class="owl-video-play-icon"></div>',l.lazyLoad?r='<div class="owl-video-tn '+f+'" '+a+'="'+e+'"></div>':r='<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(r),t.after(i)};t.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(a="data-src",f="owl-lazy");if(u.length)return c(u.attr(a)),u.remove(),!1;n.type==="youtube"?(s="http://img.youtube.com/vi/"+n.id+"/hqdefault.jpg",c(s)):n.type==="vimeo"&&e.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){s=e[0].thumbnail_large,c(s)}})},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},i.prototype.play=function(t){this._core.trigger("play",null,"video"),this._playing&&this.stop();var n=e(t.target||t.srcElement),r=n.closest("."+this._core.settings.itemClass),i=this._videos[r.attr("data-video")],s=i.width||"100%",o=i.height||this._core.$stage.height(),u,a;i.type==="youtube"?u='<iframe width="'+s+'" height="'+o+'" src="http://www.youtube.com/embed/'+i.id+"?autoplay=1&v="+i.id+'" frameborder="0" allowfullscreen></iframe>':i.type==="vimeo"&&(u='<iframe src="http://player.vimeo.com/video/'+i.id+'?autoplay=1" width="'+s+'" height="'+o+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),r.addClass("owl-video-playing"),this._playing=r,a=e('<div style="height:'+o+"px; width:"+s+'px" class="owl-video-frame">'+u+"</div>"),n.after(a)},i.prototype.isInFullScreen=function(){var r=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return r&&e(r).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),r&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==t.orientation?(this._core.state.orientation=t.orientation,!1):!0},i.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this.core=t,this.core.options=e.extend({},i.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":e.proxy(function(e){e.property.name=="position"&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){this.swapping=e.type=="translated"},this),"translate.owl.carousel":e.proxy(function(e){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};i.Defaults={animateOut:!1,animateIn:!1},i.prototype.swap=function(){if(this.core.settings.items!==1||!this.core.support3d)return;this.core.speed(0);var t,n=e.proxy(this.clear,this),r=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,o=this.core.settings.animateOut;if(this.core.current()===this.previous)return;o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),r.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n)),s&&i.addClass("animated owl-animated-in").addClass(s).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",n)},i.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},i.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))typeof this[t]!="function"&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this.core=t,this.core.options=e.extend({},i.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":e.proxy(function(){this.autoplay()},this),"play.owl.autoplay":e.proxy(function(e,t,n){this.play(t,n)},this),"stop.owl.autoplay":e.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(t.clearInterval(this.interval),this.interval=t.setInterval(e.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):t.clearInterval(this.interval)},i.prototype.play=function(e,r){if(n.hidden===!0)return;if(this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion)return;if(this.core.settings.autoplay===!1){t.clearInterval(this.interval);return}this.core.next(this.core.settings.autoplaySpeed)},i.prototype.stop=function(){t.clearInterval(this.interval)},i.prototype.pause=function(){t.clearInterval(this.interval)},i.prototype.destroy=function(){var e,n;t.clearInterval(this.interval);for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(n in Object.getOwnPropertyNames(this))typeof this[n]!="function"&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.push(e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":e.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":e.proxy(function(e){this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"change.owl.carousel":e.proxy(function(e){if(e.property.name=="position"&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var t=this._core.current(),n=this._core.maximum(),r=this._core.minimum();e.data=e.property.value>n?t>=n?r:n:e.property.value<r?n:e.property.value}},this),"changed.owl.carousel":e.proxy(function(e){e.property.name=="position"&&this.draw()},this),"refreshed.owl.carousel":e.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers)};i.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},i.prototype.initialize=function(){var t,n,r=this._core.settings;r.dotsData||(this._templates=[e("<div>").addClass(r.dotClass).append(e("<span>")).prop("outerHTML")]);if(!r.navContainer||!r.dotsContainer)this._controls.$container=e("<div>").addClass(r.controlsClass).appendTo(this.$element);this._controls.$indicators=r.dotsContainer?e(r.dotsContainer):e("<div>").hide().addClass(r.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",e.proxy(function(t){var n=e(t.target).parent().is(this._controls.$indicators)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,r.dotsSpeed)},this)),t=r.navContainer?e(r.navContainer):e("<div>").addClass(r.navContainerClass).prependTo(this._controls.$container),this._controls.$next=e("<"+r.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(r.navClass[0]).html(r.navText[0]).hide().prependTo(t).on("click",e.proxy(function(e){this.prev(r.navSpeed)},this)),this._controls.$next.addClass(r.navClass[1]).html(r.navText[1]).hide().appendTo(t).on("click",e.proxy(function(e){this.next(r.navSpeed)},this));for(n in this._overrides)this._core[n]=e.proxy(this[n],this)},i.prototype.destroy=function(){var e,t,n,r;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(r in this.overides)this._core[r]=this._overrides[r];for(n in Object.getOwnPropertyNames(this))typeof this[n]!="function"&&(this[n]=null)},i.prototype.update=function(){var e,t,n,r=this._core.settings,i=this._core.clones().length/2,s=i+this._core.items().length,o=r.center||r.autoWidth||r.dotData?1:r.dotsEach||r.items;r.slideBy!=="page"&&(r.slideBy=Math.min(r.slideBy,r.items));if(r.dots||r.slideBy=="page"){this._pages=[];for(e=i,t=0,n=0;e<s;e++){if(t>=o||t===0)this._pages.push({start:e-i,end:e-i+o-1}),t=0,++n;t+=this._core.mergers(this._core.relative(e))}}},i.prototype.draw=function(){var t,n,r="",i=this._core.settings,s=this._core.$stage.children(),o=this._core.relative(this._core.current());i.nav&&!i.loop&&!i.navRewind&&(this._controls.$previous.toggleClass("disabled",o<=0),this._controls.$next.toggleClass("disabled",o>=this._core.maximum())),this._controls.$previous.toggle(i.nav),this._controls.$next.toggle(i.nav);if(i.dots){t=this._pages.length-this._controls.$indicators.children().length;if(i.dotData&&t!==0){for(n=0;n<this._controls.$indicators.children().length;n++)r+=this._templates[this._core.relative(n)];this._controls.$indicators.html(r)}else t>0?(r=(new Array(t+1)).join(this._templates[0]),this._controls.$indicators.append(r)):t<0&&this._controls.$indicators.children().slice(t).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(e.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(i.dots)},i.prototype.onTrigger=function(t){var n=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items)}},i.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,function(e){return e.start<=t&&e.end>=t}).pop()},i.prototype.getPosition=function(t){var n,r,i=this._core.settings;return i.slideBy=="page"?(n=e.inArray(this.current(),this._pages),r=this._pages.length,t?++n:--n,n=this._pages[(n%r+r)%r].start):(n=this._core.relative(this._core.current()),r=this._core.items().length,t?n+=i.slideBy:n-=i.slideBy),n},i.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},i.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},i.prototype.to=function(t,n,r){var i;r?e.proxy(this._overrides.to,this._core)(t,n):(i=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,n))},e.fn.owlCarousel.Constructor.Plugins.Navigation=i}(window.Zepto||window.jQuery,window,document),function(e,t,n,r){var i=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(){this._core.settings.startPosition=="URLHash"&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){var n=e(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[n]=t.content},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(){var e=t.location.hash.substring(1),n=this._core.$stage.children(),r=this._hashes[e]&&n.index(this._hashes[e])||0;if(!e)return!1;this._core.to(r,!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var n,r;e(t).off("hashchange.owl.navigation");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),define("owl.carousel",function(){}),function(e){var t={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},n=e(window),r=e(document),i=[],s=n.height(),o=function(){var t=n.scrollTop(),o=r.height(),u=o-s,a=t>u?u-t:0;for(var f=0;f<i.length;f++){var l=i[f],c=l.stickyWrapper.offset().top,h=c-l.topSpacing-a;l.stickyWrapper.css("height",l.stickyElement.outerHeight());if(t<=h)l.currentTop!==null&&(l.stickyElement.css("width","").css("position","").css("top",""),l.stickyElement.trigger("sticky-end",[l]).parent().removeClass(l.className),l.currentTop=null);else{var p=o-l.stickyElement.outerHeight()-l.topSpacing-l.bottomSpacing-t-a;p<0?p+=l.topSpacing:p=l.topSpacing,l.currentTop!=p&&(l.stickyElement.css("width",l.stickyElement.width()).css("position","fixed").css("top",p),typeof l.getWidthFrom!="undefined"&&l.stickyElement.css("width",e(l.getWidthFrom).width()),l.stickyElement.trigger("sticky-start",[l]).parent().addClass(l.className),l.currentTop=p)}}},u=function(){s=n.height();for(var t=0;t<i.length;t++){var r=i[t];typeof r.getWidthFrom!="undefined"&&r.responsiveWidth===!0&&r.stickyElement.css("width",e(r.getWidthFrom).width())}},a={init:function(n){var r=e.extend({},t,n);return this.each(function(){var n=e(this),s=n.attr("id"),o=s?s+"-"+t.wrapperClassName:t.wrapperClassName,u=e("<div></div>").attr("id",s+"-sticky-wrapper").addClass(r.wrapperClassName);n.wrapAll(u),r.center&&n.parent().css({width:n.outerWidth(),marginLeft:"auto",marginRight:"auto"}),n.css("float")=="right"&&n.css({"float":"none"}).parent().css({"float":"right"});var a=n.parent();a.css("height",n.outerHeight()),i.push({topSpacing:r.topSpacing,bottomSpacing:r.bottomSpacing,stickyElement:n,currentTop:null,stickyWrapper:a,className:r.className,getWidthFrom:r.getWidthFrom,responsiveWidth:r.responsiveWidth})})},update:o,unstick:function(t){return this.each(function(){var t=e(this),n=-1;for(var r=0;r<i.length;r++)i[r].stickyElement.get(0)==t.get(0)&&(n=r);n!=-1&&(i.splice(n,1),t.unwrap(),t.removeAttr("style"))})}};window.addEventListener?(window.addEventListener("scroll",o,!1),window.addEventListener("resize",u,!1)):window.attachEvent&&(window.attachEvent("onscroll",o),window.attachEvent("onresize",u)),e.fn.sticky=function(t){if(a[t])return a[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return a.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.sticky")},e.fn.unstick=function(t){if(a[t])return a[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return a.unstick.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.sticky")},e(function(){setTimeout(o,0)})}(jQuery),define("jquery.sticky",function(){}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}),define("jquery.easing",function(){}),function(e,t){var n=function(){var n=t(e.documentElement),r=t(e.body),i;return n.scrollTop()?n:(i=r.scrollTop(),r.scrollTop(i+1).scrollTop()==i?n:r.scrollTop(i))}();t.fn.smoothScroll=function(e){return e=~~e||400,this.find('a[href*="#"]').click(function(r){var i=this.hash,s=t(i);location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&s.length&&(r.preventDefault(),n.stop().animate({scrollTop:s.offset().top},e,function(){location.hash=i}))}).end()}}(document,jQuery),define("jquery.smoothscroll",function(){}),function(){function t(e){e.fn.swiper=function(t){var n;return e(this).each(function(){var e=new Swiper(this,t);n||(n=e)}),n}}window.Swiper=function(e,t){function a(){return o.params.direction==="horizontal"}function f(){o.autoplayTimeoutId=setTimeout(function(){o.params.loop?(o.fixLoop(),o._slideNext()):o.isEnd?t.autoplayStopOnLast?o.stopAutoplay():o._slideTo(0):o._slideNext()},o.params.autoplay)}function c(e,t){var n=u(e.target);if(!n.is(t))if(typeof t=="string")n=n.parents(t);else if(t.nodeType){var r;return n.parents().each(function(e,n){n===t&&(r=t)}),r?t:undefined}return n.length===0?undefined:n[0]}function C(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(e){e.forEach(function(e){o.onResize(),o.emit("onObserverUpdate",o,e)})});r.observe(e,{attributes:typeof t.attributes=="undefined"?!0:t.attributes,childList:typeof t.childList=="undefined"?!0:t.childList,characterData:typeof t.characterData=="undefined"?!0:t.characterData}),o.observers.push(r)}function k(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea"))return;if(t===37||t===39||t===38||t===40){var n=!1;if(o.container.parents(".swiper-slide").length>0&&o.container.parents(".swiper-slide-active").length===0)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,s=window.innerHeight,u=o.container.offset(),f=[[u.left,u.top],[u.left+o.width,u.top],[u.left,u.top+o.height],[u.left+o.width,u.top+o.height]];for(var l=0;l<f.length;l++){var c=f[l];c[0]>=r.left&&c[0]<=r.left+i&&c[1]>=r.top&&c[1]<=r.top+s&&(n=!0)}if(!n)return}if(a()){if(t===37||t===39)e.preventDefault?e.preventDefault():e.returnValue=!1;t===39&&o.slideNext(),t===37&&o.slidePrev()}else{if(t===38||t===40)e.preventDefault?e.preventDefault():e.returnValue=!1;t===40&&o.slideNext(),t===38&&o.slidePrev()}}function A(e){e.originalEvent&&(e=e.originalEvent);var t=o._wheelEvent,n=0;if(e.detail)n=-e.detail;else if(t==="mousewheel")if(o.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=e.wheelDelta;else if(t==="DOMMouseScroll")n=-e.detail;else if(t==="wheel")if(o.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(!o.params.freeMode)(new Date).getTime()-o._lastWheelScrollTime>60&&(n<0?o.slideNext():o.slidePrev()),o._lastWheelScrollTime=(new Date).getTime();else{var r=o.getWrapperTranslate()+n;r>0&&(r=0),r<o.maxTranslate()&&(r=o.maxTranslate()),o.setWrapperTransition(0),o.setWrapperTranslate(r),o.updateProgress(),o.updateActiveIndex();if(r===0||r===o.maxTranslate())return}return o.params.autoplay&&o.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function O(e,t){e=u(e);var n,r,i;n=e.attr("data-swiper-parallax")||"0",r=e.attr("data-swiper-parallax-x"),i=e.attr("data-swiper-parallax-y"),r||i?(r=r||"0",i=i||"0"):a()?(r=n,i="0"):(i=n,r="0"),r.indexOf("%")>=0?r=parseInt(r,10)*t+"%":r=r*t+"px",i.indexOf("%")>=0?i=parseInt(i,10)*t+"%":i=i*t+"px",e.transform("translate3d("+r+", "+i+",0px)")}function D(e){return e.indexOf("on")!==0&&(e[0]!==e[0].toUpperCase()?e="on"+e[0].toUpperCase()+e.substring(1):e="on"+e),e}if(this instanceof Swiper){var n={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},r=t&&t.virtualTranslate;t=t||{};for(var i in n)if(typeof t[i]=="undefined")t[i]=n[i];else if(typeof t[i]=="object")for(var s in n[i])typeof t[i][s]=="undefined"&&(t[i][s]=n[i][s]);var o=this;o.params=t,o.classNames=[];var u;typeof Dom7=="undefined"?u=window.Dom7||window.Zepto||window.jQuery:u=Dom7;if(!u)return;o.$=u,o.container=u(e);if(o.container.length===0)return;if(o.container.length>1){o.container.each(function(){new Swiper(this,t)});return}o.container[0].swiper=o,o.container.data("swiper",o),o.classNames.push("swiper-container-"+o.params.direction),o.params.freeMode&&o.classNames.push("swiper-container-free-mode"),o.support.flexbox||(o.classNames.push("swiper-container-no-flexbox"),o.params.slidesPerColumn=1);if(o.params.parallax||o.params.watchSlidesVisibility)o.params.watchSlidesProgress=!0;["cube","coverflow"].indexOf(o.params.effect)>=0&&(o.support.transforms3d?(o.params.watchSlidesProgress=!0,o.classNames.push("swiper-container-3d")):o.params.effect="slide"),o.params.effect!=="slide"&&o.classNames.push("swiper-container-"+o.params.effect),o.params.effect==="cube"&&(o.params.resistanceRatio=0,o.params.slidesPerView=1,o.params.slidesPerColumn=1,o.params.slidesPerGroup=1,o.params.centeredSlides=!1,o.params.spaceBetween=0,o.params.virtualTranslate=!0,o.params.setWrapperSize=!1),o.params.effect==="fade"&&(o.params.slidesPerView=1,o.params.slidesPerColumn=1,o.params.slidesPerGroup=1,o.params.watchSlidesProgress=!0,o.params.spaceBetween=0,typeof r=="undefined"&&(o.params.virtualTranslate=!0)),o.params.grabCursor&&o.support.touch&&(o.params.grabCursor=!1),o.wrapper=o.container.children("."+o.params.wrapperClass),o.params.pagination&&(o.paginationContainer=u(o.params.pagination),o.params.paginationClickable&&o.paginationContainer.addClass("swiper-pagination-clickable")),o.rtl=a()&&(o.container[0].dir.toLowerCase()==="rtl"||o.container.css("direction")==="rtl"),o.rtl&&o.classNames.push("swiper-container-rtl"),o.rtl&&(o.wrongRTL=o.wrapper.css("display")==="-webkit-box"),o.params.slidesPerColumn>1&&o.classNames.push("swiper-container-multirow"),o.device.android&&o.classNames.push("swiper-container-android"),o.container.addClass(o.classNames.join(" ")),o.translate=0,o.progress=0,o.velocity=0,o.lockSwipeToNext=function(){o.params.allowSwipeToNext=!1},o.lockSwipeToPrev=function(){o.params.allowSwipeToPrev=!1},o.lockSwipes=function(){o.params.allowSwipeToNext=o.params.allowSwipeToPrev=!1},o.unlockSwipeToNext=function(){o.params.allowSwipeToNext=!0},o.unlockSwipeToPrev=function(){o.params.allowSwipeToPrev=!0},o.unlockSwipes=function(){o.params.allowSwipeToNext=o.params.allowSwipeToPrev=!0},o.params.grabCursor&&(o.container[0].style.cursor="move",o.container[0].style.cursor="-webkit-grab",o.container[0].style.cursor="-moz-grab",o.container[0].style.cursor="grab"),o.imagesToLoad=[],o.imagesLoaded=0,o.loadImage=function(e,t,n,r){function s(){r&&r()}var i;!e.complete||!n?t?(i=new Image,i.onload=s,i.onerror=s,i.src=t):s():s()},o.preloadImages=function(){function e(){if(typeof o=="undefined"||o===null)return;o.imagesLoaded!==undefined&&o.imagesLoaded++,o.imagesLoaded===o.imagesToLoad.length&&(o.params.updateOnImagesReady&&o.update(),o.emit("onImagesReady",o))}o.imagesToLoad=o.container.find("img");for(var t=0;t<o.imagesToLoad.length;t++)o.loadImage(o.imagesToLoad[t],o.imagesToLoad[t].currentSrc||o.imagesToLoad[t].getAttribute("src"),!0,e)},o.autoplayTimeoutId=undefined,o.autoplaying=!1,o.autoplayPaused=!1,o.startAutoplay=function(){if(typeof o.autoplayTimeoutId!="undefined")return!1;if(!o.params.autoplay)return!1;if(o.autoplaying)return!1;o.autoplaying=!0,o.emit("onAutoplayStart",o),f()},o.stopAutoplay=function(e){if(!o.autoplayTimeoutId)return;o.autoplayTimeoutId&&clearTimeout(o.autoplayTimeoutId),o.autoplaying=!1,o.autoplayTimeoutId=undefined,o.emit("onAutoplayStop",o)},o.pauseAutoplay=function(e){if(o.autoplayPaused)return;o.autoplayTimeoutId&&clearTimeout(o.autoplayTimeoutId),o.autoplayPaused=!0,e===0?(o.autoplayPaused=!1,f()):o.wrapper.transitionEnd(function(){o.autoplayPaused=!1,o.autoplaying?f():o.stopAutoplay()})},o.minTranslate=function(){return-o.snapGrid[0]},o.maxTranslate=function(){return-o.snapGrid[o.snapGrid.length-1]},o.updateContainerSize=function(){o.width=o.container[0].clientWidth,o.height=o.container[0].clientHeight,o.size=a()?o.width:o.height},o.updateSlidesSize=function(){o.slides=o.wrapper.children("."+o.params.slideClass),o.snapGrid=[],o.slidesGrid=[],o.slidesSizesGrid=[];var e=o.params.spaceBetween,t=0,n,r=0,i=0;typeof e=="string"&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*o.size),o.virtualSize=-e,o.rtl?o.slides.css({marginLeft:"",marginTop:""}):o.slides.css({marginRight:"",marginBottom:""});var s;o.params.slidesPerColumn>1&&(Math.floor(o.slides.length/o.params.slidesPerColumn)===o.slides.length/o.params.slidesPerColumn?s=o.slides.length:s=Math.ceil(o.slides.length/o.params.slidesPerColumn)*o.params.slidesPerColumn);var u;for(n=0;n<o.slides.length;n++){u=0;var f=o.slides.eq(n);if(o.params.slidesPerColumn>1){var l,c,h,p=o.params.slidesPerColumn,d;o.params.slidesPerColumnFill==="column"?(c=Math.floor(n/p),h=n-c*p,l=c+h*s/p,f.css({"-webkit-box-ordinal-group":l,"-moz-box-ordinal-group":l,"-ms-flex-order":l,"-webkit-order":l,order:l})):(d=s/p,h=Math.floor(n/d),c=n-h*d),f.css({"margin-top":h!==0&&o.params.spaceBetween&&o.params.spaceBetween+"px"}).attr("data-swiper-column",c).attr("data-swiper-row",h)}if(f.css("display")==="none")continue;o.params.slidesPerView==="auto"?u=a()?f.outerWidth(!0):f.outerHeight(!0):(u=(o.size-(o.params.slidesPerView-1)*e)/o.params.slidesPerView,a()?o.slides[n].style.width=u+"px":o.slides[n].style.height=u+"px"),o.slides[n].swiperSlideSize=u,o.slidesSizesGrid.push(u),o.params.centeredSlides?(t=t+u/2+r/2+e,n===0&&(t=t-o.size/2-e),Math.abs(t)<.001&&(t=0),i%o.params.slidesPerGroup===0&&o.snapGrid.push(t),o.slidesGrid.push(t)):(i%o.params.slidesPerGroup===0&&o.snapGrid.push(t),o.slidesGrid.push(t),t=t+u+e),o.virtualSize+=u+e,r=u,i++}o.virtualSize=Math.max(o.virtualSize,o.size);var v;o.rtl&&o.wrongRTL&&(o.params.effect==="slide"||o.params.effect==="coverflow")&&o.wrapper.css({width:o.virtualSize+o.params.spaceBetween+"px"});if(!o.support.flexbox||o.params.setWrapperSize)a()?o.wrapper.css({width:o.virtualSize+o.params.spaceBetween+"px"}):o.wrapper.css({height:o.virtualSize+o.params.spaceBetween+"px"});if(o.params.slidesPerColumn>1){o.virtualSize=(u+o.params.spaceBetween)*s,o.virtualSize=Math.ceil(o.virtualSize/o.params.slidesPerColumn)-o.params.spaceBetween,o.wrapper.css({width:o.virtualSize+o.params.spaceBetween+"px"});if(o.params.centeredSlides){v=[];for(n=0;n<o.snapGrid.length;n++)o.snapGrid[n]<o.virtualSize+o.snapGrid[0]&&v.push(o.snapGrid[n]);o.snapGrid=v}}if(!o.params.centeredSlides){v=[];for(n=0;n<o.snapGrid.length;n++)o.snapGrid[n]<=o.virtualSize-o.size&&v.push(o.snapGrid[n]);o.snapGrid=v,Math.floor(o.virtualSize-o.size)>Math.floor(o.snapGrid[o.snapGrid.length-1])&&o.snapGrid.push(o.virtualSize-o.size)}o.snapGrid.length===0&&(o.snapGrid=[0]),o.params.spaceBetween!==0&&(a()?o.rtl?o.slides.css({marginLeft:e+"px"}):o.slides.css({marginRight:e+"px"}):o.slides.css({marginBottom:e+"px"})),o.params.watchSlidesProgress&&o.updateSlidesOffset()},o.updateSlidesOffset=function(){for(var e=0;e<o.slides.length;e++)o.slides[e].swiperSlideOffset=a()?o.slides[e].offsetLeft:o.slides[e].offsetTop},o.updateSlidesProgress=function(e){typeof e=="undefined"&&(e=o.translate||0);if(o.slides.length===0)return;typeof o.slides[0].swiperSlideOffset=="undefined"&&o.updateSlidesOffset();var t=o.params.centeredSlides?-e+o.size/2:-e;o.rtl&&(t=o.params.centeredSlides?e-o.size/2:e);var n=o.container[0].getBoundingClientRect(),r=a()?"left":"top",i=a()?"right":"bottom";o.slides.removeClass(o.params.slideVisibleClass);for(var s=0;s<o.slides.length;s++){var u=o.slides[s],f=o.params.centeredSlides===!0?u.swiperSlideSize/2:0,l=(t-u.swiperSlideOffset-f)/(u.swiperSlideSize+o.params.spaceBetween);if(o.params.watchSlidesVisibility){var c=-(t-u.swiperSlideOffset-f),h=c+o.slidesSizesGrid[s],p=c>=0&&c<o.size||h>0&&h<=o.size||c<=0&&h>=o.size;p&&o.slides.eq(s).addClass(o.params.slideVisibleClass)}u.progress=o.rtl?-l:l}},o.updateProgress=function(e){typeof e=="undefined"&&(e=o.translate||0);var t=o.maxTranslate()-o.minTranslate();t===0?(o.progress=0,o.isBeginning=o.isEnd=!0):(o.progress=(e-o.minTranslate())/t,o.isBeginning=o.progress<=0,o.isEnd=o.progress>=1),o.isBeginning&&o.emit("onReachBeginning",o),o.isEnd&&o.emit("onReachEnd",o),o.params.watchSlidesProgress&&o.updateSlidesProgress(e),o.emit("onProgress",o,o.progress)},o.updateActiveIndex=function(){var e=o.rtl?o.translate:-o.translate,t,n,r;for(n=0;n<o.slidesGrid.length;n++)typeof o.slidesGrid[n+1]!="undefined"?e>=o.slidesGrid[n]&&e<o.slidesGrid[n+1]-(o.slidesGrid[n+1]-o.slidesGrid[n])/2?t=n:e>=o.slidesGrid[n]&&e<o.slidesGrid[n+1]&&(t=n+1):e>=o.slidesGrid[n]&&(t=n);if(t<0||typeof t=="undefined")t=0;r=Math.floor(t/o.params.slidesPerGroup),r>=o.snapGrid.length&&(r=o.snapGrid.length-1);if(t===o.activeIndex)return;o.snapIndex=r,o.previousIndex=o.activeIndex,o.activeIndex=t,o.updateClasses()},o.updateClasses=function(){o.slides.removeClass(o.params.slideActiveClass+" "+o.params.slideNextClass+" "+o.params.slidePrevClass);var e=o.slides.eq(o.activeIndex);e.addClass(o.params.slideActiveClass),e.next("."+o.params.slideClass).addClass(o.params.slideNextClass),e.prev("."+o.params.slideClass).addClass(o.params.slidePrevClass);if(o.bullets&&o.bullets.length>0){o.bullets.removeClass(o.params.bulletActiveClass);var t;o.params.loop?(t=Math.ceil(o.activeIndex-o.loopedSlides)/o.params.slidesPerGroup,t>o.slides.length-1-o.loopedSlides*2&&(t-=o.slides.length-o.loopedSlides*2),t>o.bullets.length-1&&(t-=o.bullets.length)):typeof o.snapIndex!="undefined"?t=o.snapIndex:t=o.activeIndex||0,o.paginationContainer.length>1?o.bullets.each(function(){u(this).index()===t&&u(this).addClass(o.params.bulletActiveClass)}):o.bullets.eq(t).addClass(o.params.bulletActiveClass)}o.params.loop||(o.params.prevButton&&(o.isBeginning?(u(o.params.prevButton).addClass(o.params.buttonDisabledClass),o.params.a11y&&o.a11y&&o.a11y.disable(u(o.params.prevButton))):(u(o.params.prevButton).removeClass(o.params.buttonDisabledClass),o.params.a11y&&o.a11y&&o.a11y.enable(u(o.params.prevButton)))),o.params.nextButton&&(o.isEnd?(u(o.params.nextButton).addClass(o.params.buttonDisabledClass),o.params.a11y&&o.a11y&&o.a11y.disable(u(o.params.nextButton))):(u(o.params.nextButton).removeClass(o.params.buttonDisabledClass),o.params.a11y&&o.a11y&&o.a11y.enable(u(o.params.nextButton)))))},o.updatePagination=function(){if(!o.params.pagination)return;if(o.paginationContainer&&o.paginationContainer.length>0){var e="",t=o.params.loop?Math.ceil((o.slides.length-o.loopedSlides*2)/o.params.slidesPerGroup):o.snapGrid.length;for(var n=0;n<t;n++)o.params.paginationBulletRender?e+=o.params.paginationBulletRender(n,o.params.bulletClass):e+='<span class="'+o.params.bulletClass+'"></span>';o.paginationContainer.html(e),o.bullets=o.paginationContainer.find("."+o.params.bulletClass)}},o.update=function(e){function t(){r=Math.min(Math.max(o.translate,o.maxTranslate()),o.minTranslate()),o.setWrapperTranslate(r),o.updateActiveIndex(),o.updateClasses()}o.updateContainerSize(),o.updateSlidesSize(),o.updateProgress(),o.updatePagination(),o.updateClasses(),o.params.scrollbar&&o.scrollbar&&o.scrollbar.set();if(e){var n,r;o.params.freeMode?t():(o.params.slidesPerView==="auto"&&o.isEnd&&!o.params.centeredSlides?n=o.slideTo(o.slides.length-1,0,!1,!0):n=o.slideTo(o.activeIndex,0,!1,!0),n||t())}},o.onResize=function(){o.updateContainerSize(),o.updateSlidesSize(),o.updateProgress(),(o.params.slidesPerView==="auto"||o.params.freeMode)&&o.updatePagination(),o.params.scrollbar&&o.scrollbar&&o.scrollbar.set();if(o.params.freeMode){var e=Math.min(Math.max(o.translate,o.maxTranslate()),o.minTranslate());o.setWrapperTranslate(e),o.updateActiveIndex(),o.updateClasses()}else o.updateClasses(),o.params.slidesPerView==="auto"&&o.isEnd&&!o.params.centeredSlides?o.slideTo(o.slides.length-1,0,!1,!0):o.slideTo(o.activeIndex,0,!1,!0)};var l=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?l=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(l=["MSPointerDown","MSPointerMove","MSPointerUp"]),o.touchEvents={start:o.support.touch||!o.params.simulateTouch?"touchstart":l[0],move:o.support.touch||!o.params.simulateTouch?"touchmove":l[1],end:o.support.touch||!o.params.simulateTouch?"touchend":l[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&(o.params.touchEventsTarget==="container"?o.container:o.wrapper).addClass("swiper-wp8-"+o.params.direction),o.initEvents=function(e){var n=e?"off":"on",r=e?"removeEventListener":"addEventListener",i=o.params.touchEventsTarget==="container"?o.container[0]:o.wrapper[0],s=o.support.touch?i:document,a=o.params.nested?!0:!1;o.browser.ie?(i[r](o.touchEvents.start,o.onTouchStart,!1),s[r](o.touchEvents.move,o.onTouchMove,a),s[r](o.touchEvents.end,o.onTouchEnd,!1)):(o.support.touch&&(i[r](o.touchEvents.start,o.onTouchStart,!1),i[r](o.touchEvents.move,o.onTouchMove,a),i[r](o.touchEvents.end,o.onTouchEnd,!1)),t.simulateTouch&&!o.device.ios&&!o.device.android&&(i[r]("mousedown",o.onTouchStart,!1),s[r]("mousemove",o.onTouchMove,a),s[r]("mouseup",o.onTouchEnd,!1))),window[r]("resize",o.onResize),o.params.nextButton&&(u(o.params.nextButton)[n]("click",o.onClickNext),o.params.a11y&&o.a11y&&u(o.params.nextButton)[n]("keydown",o.a11y.onEnterKey)),o.params.prevButton&&(u(o.params.prevButton)[n]("click",o.onClickPrev),o.params.a11y&&o.a11y&&u(o.params.prevButton)[n]("keydown",o.a11y.onEnterKey)),o.params.pagination&&o.params.paginationClickable&&u(o.paginationContainer)[n]("click","."+o.params.bulletClass,o.onClickIndex),(o.params.preventClicks||o.params.preventClicksPropagation)&&i[r]("click",o.preventClicks,!0)},o.attachEvents=function(e){o.initEvents()},o.detachEvents=function(){o.initEvents(!0)},o.allowClick=!0,o.preventClicks=function(e){o.allowClick||(o.params.preventClicks&&e.preventDefault(),o.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},o.onClickNext=function(e){e.preventDefault(),o.slideNext()},o.onClickPrev=function(e){e.preventDefault(),o.slidePrev()},o.onClickIndex=function(e){e.preventDefault();var t=u(this).index()*o.params.slidesPerGroup;o.params.loop&&(t+=o.loopedSlides),o.slideTo(t)},o.updateClickedSlide=function(e){var t=c(e,"."+o.params.slideClass);if(!t){o.clickedSlide=undefined,o.clickedIndex=undefined;return}o.clickedSlide=t,o.clickedIndex=u(t).index();if(o.params.slideToClickedSlide&&o.clickedIndex!==undefined&&o.clickedIndex!==o.activeIndex){var n=o.clickedIndex,r;if(o.params.loop){r=u(o.clickedSlide).attr("data-swiper-slide-index");if(n>o.slides.length-o.params.slidesPerView)o.fixLoop(),n=o.wrapper.children("."+o.params.slideClass+'[data-swiper-slide-index="'+r+'"]').eq(0).index(),setTimeout(function(){o.slideTo(n)},0);else if(n<o.params.slidesPerView-1){o.fixLoop();var i=o.wrapper.children("."+o.params.slideClass+'[data-swiper-slide-index="'+r+'"]');n=i.eq(i.length-1).index(),setTimeout(function(){o.slideTo(n)},0)}else o.slideTo(n)}else o.slideTo(n)}};var h,p,d,v,m,g,y,b="input, select, textarea, button",w=Date.now(),E,S=[],x;o.animating=!1,o.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var T,N;o.onTouchStart=function(e){e.originalEvent&&(e=e.originalEvent),T=e.type==="touchstart";if(!T&&"which"in e&&e.which===3)return;if(o.params.noSwiping&&c(e,"."+o.params.noSwipingClass)){o.allowClick=!0;return}if(o.params.swipeHandler&&!c(e,o.params.swipeHandler))return;h=!0,p=!1,v=undefined,N=undefined,o.touches.startX=o.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,o.touches.startY=o.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,d=Date.now(),o.allowClick=!0,o.updateContainerSize(),o.swipeDirection=undefined,o.params.threshold>0&&(y=!1);if(e.type!=="touchstart"){var t=!0;u(e.target).is(b)&&(t=!1),document.activeElement&&u(document.activeElement).is(b)&&document.activeElement.blur(),t&&e.preventDefault()}o.emit("onTouchStart",o,e)},o.onTouchMove=function(e){e.originalEvent&&(e=e.originalEvent);if(T&&e.type==="mousemove")return;if(e.preventedByNestedSwiper)return;if(o.params.onlyExternal){p=!0,o.allowClick=!1;return}if(T&&document.activeElement&&e.target===document.activeElement&&u(e.target).is(b)){p=!0,o.allowClick=!1;return}o.emit("onTouchMove",o,e);if(e.targetTouches&&e.targetTouches.length>1)return;o.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,o.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof v=="undefined"){var n=Math.atan2(Math.abs(o.touches.currentY-o.touches.startY),Math.abs(o.touches.currentX-o.touches.startX))*180/Math.PI;v=a()?n>o.params.touchAngle:90-n>o.params.touchAngle}v&&o.emit("onTouchMoveOpposite",o,e),typeof N=="undefined"&&o.browser.ieTouch&&(o.touches.currentX!==o.touches.startX||o.touches.currentY!==o.touches.startY)&&(N=!0);if(!h)return;if(v){h=!1;return}if(!N&&o.browser.ieTouch)return;o.allowClick=!1,o.emit("onSliderMove",o,e),e.preventDefault(),o.params.touchMoveStopPropagation&&!o.params.nested&&e.stopPropagation(),p||(t.loop&&o.fixLoop(),g=o.getWrapperTranslate(),o.setWrapperTransition(0),o.animating&&o.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),o.params.autoplay&&o.autoplaying&&(o.params.autoplayDisableOnInteraction?o.stopAutoplay():o.pauseAutoplay()),x=!1,o.params.grabCursor&&(o.container[0].style.cursor="move",o.container[0].style.cursor="-webkit-grabbing",o.container[0].style.cursor="-moz-grabbin",o.container[0].style.cursor="grabbing")),p=!0;var r=o.touches.diff=a()?o.touches.currentX-o.touches.startX:o.touches.currentY-o.touches.startY;r*=o.params.touchRatio,o.rtl&&(r=-r),o.swipeDirection=r>0?"prev":"next",m=r+g;var i=!0;r>0&&m>o.minTranslate()?(i=!1,o.params.resistance&&(m=o.minTranslate()-1+Math.pow(-o.minTranslate()+g+r,o.params.resistanceRatio))):r<0&&m<o.maxTranslate()&&(i=!1,o.params.resistance&&(m=o.maxTranslate()+1-Math.pow(o.maxTranslate()-g-r,o.params.resistanceRatio))),i&&(e.preventedByNestedSwiper=!0),!o.params.allowSwipeToNext&&o.swipeDirection==="next"&&m<g&&(m=g),!o.params.allowSwipeToPrev&&o.swipeDirection==="prev"&&m>g&&(m=g);if(!o.params.followFinger)return;if(o.params.threshold>0){if(!(Math.abs(r)>o.params.threshold||y)){m=g;return}if(!y){y=!0,o.touches.startX=o.touches.currentX,o.touches.startY=o.touches.currentY,m=g,o.touches.diff=a()?o.touches.currentX-o.touches.startX:o.touches.currentY-o.touches.startY;return}}(o.params.freeMode||o.params.watchSlidesProgress)&&o.updateActiveIndex(),o.params.freeMode&&(S.length===0&&S.push({position:o.touches[a()?"startX":"startY"],time:d}),S.push({position:o.touches[a()?"currentX":"currentY"],time:(new Date).getTime()})),o.updateProgress(m),o.setWrapperTranslate(m)},o.onTouchEnd=function(e){e.originalEvent&&(e=e.originalEvent),o.emit("onTouchEnd",o,e);if(!h)return;o.params.grabCursor&&p&&h&&(o.container[0].style.cursor="move",o.container[0].style.cursor="-webkit-grab",o.container[0].style.cursor="-moz-grab",o.container[0].style.cursor="grab");var t=Date.now(),n=t-d;o.allowClick&&(o.updateClickedSlide(e),o.emit("onTap",o,e),n<300&&t-w>300&&(E&&clearTimeout(E),E=setTimeout(function(){if(!o)return;o.params.paginationHide&&o.paginationContainer.length>0&&!u(e.target).hasClass(o.params.bulletClass)&&o.paginationContainer.toggleClass(o.params.paginationHiddenClass),o.emit("onClick",o,e)},300)),n<300&&t-w<300&&(E&&clearTimeout(E),o.emit("onDoubleTap",o,e))),w=Date.now(),setTimeout(function(){o&&o.allowClick&&(o.allowClick=!0)},0);if(!h||!p||!o.swipeDirection||o.touches.diff===0||m===g){h=p=!1;return}h=p=!1;var r;o.params.followFinger?r=o.rtl?o.translate:-o.translate:r=-m;if(o.params.freeMode){if(r<-o.minTranslate()){o.slideTo(o.activeIndex);return}if(r>-o.maxTranslate()){o.slideTo(o.slides.length-1);return}if(o.params.freeModeMomentum){if(S.length>1){var i=S.pop(),s=S.pop(),a=i.position-s.position,f=i.time-s.time;o.velocity=a/f,o.velocity=o.velocity/2,Math.abs(o.velocity)<.02&&(o.velocity=0);if(f>150||(new Date).getTime()-i.time>300)o.velocity=0}else o.velocity=0;S.length=0;var l=1e3*o.params.freeModeMomentumRatio,c=o.velocity*l,v=o.translate+c;o.rtl&&(v=-v);var y=!1,b,T=Math.abs(o.velocity)*20*o.params.freeModeMomentumBounceRatio;v<o.maxTranslate()&&(o.params.freeModeMomentumBounce?(v+o.maxTranslate()<-T&&(v=o.maxTranslate()-T),b=o.maxTranslate(),y=!0,x=!0):v=o.maxTranslate()),v>o.minTranslate()&&(o.params.freeModeMomentumBounce?(v-o.minTranslate()>T&&(v=o.minTranslate()+T),b=o.minTranslate(),y=!0,x=!0):v=o.minTranslate()),o.velocity!==0&&(o.rtl?l=Math.abs((-v-o.translate)/o.velocity):l=Math.abs((v-o.translate)/o.velocity)),o.params.freeModeMomentumBounce&&y?(o.updateProgress(b),o.setWrapperTransition(l),o.setWrapperTranslate(v),o.onTransitionStart(),o.animating=!0,o.wrapper.transitionEnd(function(){if(!x)return;o.emit("onMomentumBounce",o),o.setWrapperTransition(o.params.speed),o.setWrapperTranslate(b),o.wrapper.transitionEnd(function(){o.onTransitionEnd()})})):o.velocity?(o.updateProgress(v),o.setWrapperTransition(l),o.setWrapperTranslate(v),o.onTransitionStart(),o.animating||(o.animating=!0,o.wrapper.transitionEnd(function(){o.onTransitionEnd()}))):o.updateProgress(v),o.updateActiveIndex()}if(!o.params.freeModeMomentum||n>=o.params.longSwipesMs)o.updateProgress(),o.updateActiveIndex();return}var N,C=0,k=o.slidesSizesGrid[0];for(N=0;N<o.slidesGrid.length;N+=o.params.slidesPerGroup)typeof o.slidesGrid[N+o.params.slidesPerGroup]!="undefined"?r>=o.slidesGrid[N]&&r<o.slidesGrid[N+o.params.slidesPerGroup]&&(C=N,k=o.slidesGrid[N+o.params.slidesPerGroup]-o.slidesGrid[N]):r>=o.slidesGrid[N]&&(C=N,k=o.slidesGrid[o.slidesGrid.length-1]-o.slidesGrid[o.slidesGrid.length-2]);var L=(r-o.slidesGrid[C])/k;if(n>o.params.longSwipesMs){if(!o.params.longSwipes){o.slideTo(o.activeIndex);return}o.swipeDirection==="next"&&(L>=o.params.longSwipesRatio?o.slideTo(C+o.params.slidesPerGroup):o.slideTo(C)),o.swipeDirection==="prev"&&(L>1-o.params.longSwipesRatio?o.slideTo(C+o.params.slidesPerGroup):o.slideTo(C))}else{if(!o.params.shortSwipes){o.slideTo(o.activeIndex);return}o.swipeDirection==="next"&&o.slideTo(C+o.params.slidesPerGroup),o.swipeDirection==="prev"&&o.slideTo(C)}},o._slideTo=function(e,t){return o.slideTo(e,t,!0,!0)},o.slideTo=function(e,t,n,r){typeof n=="undefined"&&(n=!0),typeof e=="undefined"&&(e=0),e<0&&(e=0),o.snapIndex=Math.floor(e/o.params.slidesPerGroup),o.snapIndex>=o.snapGrid.length&&(o.snapIndex=o.snapGrid.length-1);var i=-o.snapGrid[o.snapIndex];o.params.autoplay&&o.autoplaying&&(r||!o.params.autoplayDisableOnInteraction?o.pauseAutoplay(t):o.stopAutoplay()),o.updateProgress(i);for(var s=0;s<o.slidesGrid.length;s++)-i>=o.slidesGrid[s]&&(e=s);typeof t=="undefined"&&(t=o.params.speed),o.previousIndex=o.activeIndex||0,o.activeIndex=e;if(i===o.translate)return o.updateClasses(),!1;o.onTransitionStart(n);var u=a()?i:0,f=a()?0:i;return t===0?(o.setWrapperTransition(0),o.setWrapperTranslate(i),o.onTransitionEnd(n)):(o.setWrapperTransition(t),o.setWrapperTranslate(i),o.animating||(o.animating=!0,o.wrapper.transitionEnd(function(){o.onTransitionEnd(n)}))),o.updateClasses(),!0},o.onTransitionStart=function(e){typeof e=="undefined"&&(e=!0),o.lazy&&o.lazy.onTransitionStart(),e&&(o.emit("onTransitionStart",o),o.activeIndex!==o.previousIndex&&o.emit("onSlideChangeStart",o))},o.onTransitionEnd=function(e){o.animating=!1,o.setWrapperTransition(0),typeof e=="undefined"&&(e=!0),o.lazy&&o.lazy.onTransitionEnd(),e&&(o.emit("onTransitionEnd",o),o.activeIndex!==o.previousIndex&&o.emit("onSlideChangeEnd",o)),o.params.hashnav&&o.hashnav&&o.hashnav.setHash()},o.slideNext=function(e,t,n){if(o.params.loop){if(o.animating)return!1;o.fixLoop();var r=o.container[0].clientLeft;return o.slideTo(o.activeIndex+o.params.slidesPerGroup,t,e,n)}return o.slideTo(o.activeIndex+o.params.slidesPerGroup,t,e,n)},o._slideNext=function(e){return o.slideNext(!0,e,!0)},o.slidePrev=function(e,t,n){if(o.params.loop){if(o.animating)return!1;o.fixLoop();var r=o.container[0].clientLeft;return o.slideTo(o.activeIndex-1,t,e,n)}return o.slideTo(o.activeIndex-1,t,e,n)},o._slidePrev=function(e){return o.slidePrev(!0,e,!0)},o.slideReset=function(e,t,n){return o.slideTo(o.activeIndex,t,e)},o.setWrapperTransition=function(e,t){o.wrapper.transition(e),o.params.effect!=="slide"&&o.effects[o.params.effect]&&o.effects[o.params.effect].setTransition(e),o.params.parallax&&o.parallax&&o.parallax.setTransition(e),o.params.scrollbar&&o.scrollbar&&o.scrollbar.setTransition(e),o.params.control&&o.controller&&o.controller.setTransition(e,t),o.emit("onSetTransition",o,e)},o.setWrapperTranslate=function(e,t,n){var r=0,i=0,s=0;a()?r=o.rtl?-e:e:i=e,o.params.virtualTranslate||(o.support.transforms3d?o.wrapper.transform("translate3d("+r+"px, "+i+"px, "+s+"px)"):o.wrapper.transform("translate("+r+"px, "+i+"px)")),o.translate=a()?r:i,t&&o.updateActiveIndex(),o.params.effect!=="slide"&&o.effects[o.params.effect]&&o.effects[o.params.effect].setTranslate(o.translate),o.params.parallax&&o.parallax&&o.parallax.setTranslate(o.translate),o.params.scrollbar&&o.scrollbar&&o.scrollbar.setTranslate(o.translate),o.params.control&&o.controller&&o.controller.setTranslate(o.translate,n),o.emit("onSetTranslate",o,o.translate)},o.getTranslate=function(e,t){var n,r,i,s;return typeof t=="undefined"&&(t="x"),o.params.virtualTranslate?o.rtl?-o.translate:o.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new WebKitCSSMatrix(i.webkitTransform==="none"?"":i.webkitTransform):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),t==="x"&&(window.WebKitCSSMatrix?r=s.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),t==="y"&&(window.WebKitCSSMatrix?r=s.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),o.rtl&&r&&(r=-r),r||0)},o.getWrapperTranslate=function(e){return typeof e=="undefined"&&(e=a()?"x":"y"),o.getTranslate(o.wrapper[0],e)},o.observers=[],o.initObservers=function(){if(o.params.observeParents){var e=o.container.parents();for(var t=0;t<e.length;t++)C(e[t])}C(o.container[0],{childList:!1}),C(o.wrapper[0],{attributes:!1})},o.disconnectObservers=function(){for(var e=0;e<o.observers.length;e++)o.observers[e].disconnect();o.observers=[]},o.createLoop=function(){o.wrapper.children("."+o.params.slideClass+"."+o.params.slideDuplicateClass).remove();var e=o.wrapper.children("."+o.params.slideClass);o.loopedSlides=parseInt(o.params.loopedSlides||o.params.slidesPerView,10),o.loopedSlides=o.loopedSlides+o.params.loopAdditionalSlides,o.loopedSlides>e.length&&(o.loopedSlides=e.length);var t=[],n=[],r;e.each(function(r,i){var s=u(this);r<o.loopedSlides&&n.push(i),r<e.length&&r>=e.length-o.loopedSlides&&t.push(i),s.attr("data-swiper-slide-index",r)});for(r=0;r<n.length;r++)o.wrapper.append(u(n[r].cloneNode(!0)).addClass(o.params.slideDuplicateClass));for(r=t.length-1;r>=0;r--)o.wrapper.prepend(u(t[r].cloneNode(!0)).addClass(o.params.slideDuplicateClass))},o.destroyLoop=function(){o.wrapper.children("."+o.params.slideClass+"."+o.params.slideDuplicateClass).remove(),o.slides.removeAttr("data-swiper-slide-index")},o.fixLoop=function(){var e;if(o.activeIndex<o.loopedSlides)e=o.slides.length-o.loopedSlides*3+o.activeIndex,e+=o.loopedSlides,o.slideTo(e,0,!1,!0);else if(o.params.slidesPerView==="auto"&&o.activeIndex>=o.loopedSlides*2||o.activeIndex>o.slides.length-o.params.slidesPerView*2)e=-o.slides.length+o.activeIndex+o.loopedSlides,e+=o.loopedSlides,o.slideTo(e,0,!1,!0)},o.appendSlide=function(e){o.params.loop&&o.destroyLoop();if(typeof e=="object"&&e.length)for(var t=0;t<e.length;t++)e[t]&&o.wrapper.append(e[t]);else o.wrapper.append(e);o.params.loop&&o.createLoop(),(!o.params.observer||!o.support.observer)&&o.update(!0)},o.prependSlide=function(e){o.params.loop&&o.destroyLoop();var t=o.activeIndex+1;if(typeof e=="object"&&e.length){for(var n=0;n<e.length;n++)e[n]&&o.wrapper.prepend(e[n]);t=o.activeIndex+e.length}else o.wrapper.prepend(e);o.params.loop&&o.createLoop(),(!o.params.observer||!o.support.observer)&&o.update(!0),o.slideTo(t,0,!1)},o.removeSlide=function(e){o.params.loop&&o.destroyLoop();var t=o.activeIndex,n;if(typeof e=="object"&&e.length){for(var r=0;r<e.length;r++)n=e[r],o.slides[n]&&o.slides.eq(n).remove(),n<t&&t--;t=Math.max(t,0)}else n=e,o.slides[n]&&o.slides.eq(n).remove(),n<t&&t--,t=Math.max(t,0);(!o.params.observer||!o.support.observer)&&o.update(!0),o.slideTo(t,0,!1)},o.removeAllSlides=function(){var e=[];for(var t=0;t<o.slides.length;t++)e.push(t);o.removeSlide(e)},o.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<o.slides.length;e++){var t=o.slides.eq(e),n=t[0].swiperSlideOffset,r=-n;o.params.virtualTranslate||(r-=o.translate);var i=0;a()||(i=r,r=0);var s=o.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);s>0&&s<1&&(o.effects.fade.fadeIndex=e),t.css({opacity:s}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(e){o.slides.transition(e);if(o.params.virtualTranslate&&e!==0){var t=o.effects.fade.fadeIndex!==null?o.effects.fade.fadeIndex:o.activeIndex;o.slides.eq(t).transitionEnd(function(){var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var t=0;t<e.length;t++)o.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var e=0,t;o.params.cube.shadow&&(a()?(t=o.wrapper.find(".swiper-cube-shadow"),t.length===0&&(t=u('<div class="swiper-cube-shadow"></div>'),o.wrapper.append(t)),t.css({height:o.width+"px"})):(t=o.container.find(".swiper-cube-shadow"),t.length===0&&(t=u('<div class="swiper-cube-shadow"></div>'),o.container.append(t))));for(var n=0;n<o.slides.length;n++){var r=o.slides.eq(n),i=n*90,s=Math.floor(i/360);o.rtl&&(i=-i,s=Math.floor(-i/360));var f=Math.max(Math.min(r[0].progress,1),-1),l=0,c=0,h=0;n%4===0?(l=-s*4*o.size,h=0):(n-1)%4===0?(l=0,h=-s*4*o.size):(n-2)%4===0?(l=o.size+s*4*o.size,h=o.size):(n-3)%4===0&&(l=-o.size,h=3*o.size+o.size*4*s),o.rtl&&(l=-l),a()||(c=l,l=0);var p="rotateX("+(a()?0:-i)+"deg) rotateY("+(a()?i:0)+"deg) translate3d("+l+"px, "+c+"px, "+h+"px)";f<=1&&f>-1&&(e=n*90+f*90,o.rtl&&(e=-n*90-f*90)),r.transform(p);if(o.params.cube.slideShadows){var d=a()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),v=a()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");d.length===0&&(d=u('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),r.append(d)),v.length===0&&(v=u('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),r.append(v));var m=r[0].progress;d.length&&(d[0].style.opacity=-r[0].progress),v.length&&(v[0].style.opacity=r[0].progress)}}o.wrapper.css({"-webkit-transform-origin":"50% 50% -"+o.size/2+"px","-moz-transform-origin":"50% 50% -"+o.size/2+"px","-ms-transform-origin":"50% 50% -"+o.size/2+"px","transform-origin":"50% 50% -"+o.size/2+"px"});if(o.params.cube.shadow)if(a())t.transform("translate3d(0px, "+(o.width/2+o.params.cube.shadowOffset)+"px, "+ -o.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+o.params.cube.shadowScale+")");else{var g=Math.abs(e)-Math.floor(Math.abs(e)/90)*90,y=1.5-(Math.sin(g*2*Math.PI/360)/2+Math.cos(g*2*Math.PI/360)/2),b=o.params.cube.shadowScale,w=o.params.cube.shadowScale/y,E=o.params.cube.shadowOffset;t.transform("scale3d("+b+", 1, "+w+") translate3d(0px, "+(o.height/2+E)+"px, "+ -o.height/2/w+"px) rotateX(-90deg)")}var S=o.isSafari||o.isUiWebView?-o.size/2:0;o.wrapper.transform("translate3d(0px,0,"+S+"px) rotateX("+(a()?0:e)+"deg) rotateY("+(a()?-e:0)+"deg)")},setTransition:function(e){o.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),o.params.cube.shadow&&!a()&&o.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){var e=o.translate,t=a()?-e+o.width/2:-e+o.height/2,n=a()?o.params.coverflow.rotate:-o.params.coverflow.rotate,r=o.params.coverflow.depth;for(var i=0,s=o.slides.length;i<s;i++){var f=o.slides.eq(i),l=o.slidesSizesGrid[i],c=f[0].swiperSlideOffset,h=(t-c-l/2)/l*o.params.coverflow.modifier,p=a()?n*h:0,d=a()?0:n*h,v=-r*Math.abs(h),m=a()?0:o.params.coverflow.stretch*h,g=a()?o.params.coverflow.stretch*h:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0);var y="translate3d("+g+"px,"+m+"px,"+v+"px)  rotateX("+d+"deg) rotateY("+p+"deg)";f.transform(y),f[0].style.zIndex=-Math.abs(Math.round(h))+1;if(o.params.coverflow.slideShadows){var b=a()?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),w=a()?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");b.length===0&&(b=u('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),f.append(b)),w.length===0&&(w=u('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),f.append(w)),b.length&&(b[0].style.opacity=h>0?h:0),w.length&&(w[0].style.opacity=-h>0?-h:0)}}if(o.browser.ie){var E=o.wrapper[0].style;E.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){o.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},o.lazy={initialImageLoaded:!1,loadImageInSlide:function(e){if(typeof e=="undefined")return;if(o.slides.length===0)return;var t=o.slides.eq(e),n=t.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(n.length===0)return;n.each(function(){var e=u(this);e.addClass("swiper-lazy-loading");var n=e.attr("data-src");o.loadImage(e[0],n,!1,function(){e.attr("src",n),e.removeAttr("data-src"),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),t.find(".swiper-lazy-preloader, .preloader").remove(),o.emit("onLazyImageReady",o,t[0],e[0])}),o.emit("onLazyImageLoad",o,t[0],e[0])})},load:function(){if(o.params.watchSlidesVisibility)o.wrapper.children("."+o.params.slideVisibleClass).each(function(){o.lazy.loadImageInSlide(u(this).index())});else if(o.params.slidesPerView>1)for(var e=o.activeIndex;e<o.activeIndex+o.params.slidesPerView;e++)o.slides[e]&&o.lazy.loadImageInSlide(e);else o.lazy.loadImageInSlide(o.activeIndex);if(o.params.lazyLoadingInPrevNext){var t=o.wrapper.children("."+o.params.slideNextClass);t.length>0&&o.lazy.loadImageInSlide(t.index());var n=o.wrapper.children("."+o.params.slidePrevClass);n.length>0&&o.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){o.params.lazyLoading&&(o.params.lazyLoadingOnTransitionStart||!o.params.lazyLoadingOnTransitionStart&&!o.lazy.initialImageLoaded)&&(o.lazy.initialImageLoaded=!0,o.lazy.load())},onTransitionEnd:function(){o.params.lazyLoading&&!o.params.lazyLoadingOnTransitionStart&&o.lazy.load()}},o.scrollbar={set:function(){if(!o.params.scrollbar)return;var e=o.scrollbar;e.track=u(o.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),e.drag.length===0&&(e.drag=u('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=a()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=o.size/o.virtualSize,e.moveDivider=e.divider*(e.trackSize/o.size),e.dragSize=e.trackSize*e.divider,a()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",o.params.scrollbarHide&&(e.track[0].style.opacity=0)},setTranslate:function(){if(!o.params.scrollbar)return;var e,t=o.scrollbar,n=o.translate||0,r,i=t.dragSize;r=(t.trackSize-t.dragSize)*o.progress,o.rtl&&a()?(r=-r,r>0?(i=t.dragSize-r,r=0):-r+t.dragSize>t.trackSize&&(i=t.trackSize+r)):r<0?(i=t.dragSize+r,r=0):r+t.dragSize>t.trackSize&&(i=t.trackSize-r),a()?(o.support.transforms3d?t.drag.transform("translate3d("+r+"px, 0, 0)"):t.drag.transform("translateX("+r+"px)"),t.drag[0].style.width=i+"px"):(o.support.transforms3d?t.drag.transform("translate3d(0px, "+r+"px, 0)"):t.drag.transform("translateY("+r+"px)"),t.drag[0].style.height=i+"px"),o.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))},setTransition:function(e){if(!o.params.scrollbar)return;o.scrollbar.drag.transition(e)}},o.controller={setTranslate:function(e,t){var n=o.params.control,r,i;if(o.isArray(n))for(var s=0;s<n.length;s++)n[s]!==t&&n[s]instanceof Swiper&&(e=n[s].rtl&&n[s].params.direction==="horizontal"?-o.translate:o.translate,r=(n[s].maxTranslate()-n[s].minTranslate())/(o.maxTranslate()-o.minTranslate()),i=(e-o.minTranslate())*r+n[s].minTranslate(),o.params.controlInverse&&(i=n[s].maxTranslate()-i),n[s].updateProgress(i),n[s].setWrapperTranslate(i,!1,o),n[s].updateActiveIndex());else n instanceof Swiper&&t!==n&&(e=n.rtl&&n.params.direction==="horizontal"?-o.translate:o.translate,r=(n.maxTranslate()-n.minTranslate())/(o.maxTranslate()-o.minTranslate()),i=(e-o.minTranslate())*r+n.minTranslate(),o.params.controlInverse&&(i=n.maxTranslate()-i),n.updateProgress(i),n.setWrapperTranslate(i,!1,o),n.updateActiveIndex())},setTransition:function(e,t){var n=o.params.control;if(o.isArray(n))for(var r=0;r<n.length;r++)n[r]!==t&&n[r]instanceof Swiper&&n[r].setWrapperTransition(e,o);else n instanceof Swiper&&t!==n&&n.setWrapperTransition(e,o)}},o.hashnav={init:function(){if(!o.params.hashnav)return;o.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(!e)return;var t=0;for(var n=0,r=o.slides.length;n<r;n++){var i=o.slides.eq(n),s=i.attr("data-hash");if(s===e&&!i.hasClass(o.params.slideDuplicateClass)){var u=i.index();o.slideTo(u,t,o.params.runCallbacksOnInit,!0)}}},setHash:function(){if(!o.hashnav.initialized||!o.params.hashnav)return;document.location.hash=o.slides.eq(o.activeIndex).attr("data-hash")||""}},o.disableKeyboardControl=function(){u(document).off("keydown",k)},o.enableKeyboardControl=function(){u(document).on("keydown",k)},o._wheelEvent=!1,o._lastWheelScrollTime=(new Date).getTime();if(o.params.mousewheelControl){document.onmousewheel!==undefined&&(o._wheelEvent="mousewheel");if(!o._wheelEvent)try{new WheelEvent("wheel"),o._wheelEvent="wheel"}catch(L){}o._wheelEvent||(o._wheelEvent="DOMMouseScroll")}o.disableMousewheelControl=function(){return o._wheelEvent?(o.container.off(o._wheelEvent,A),!0):!1},o.enableMousewheelControl=function(){return o._wheelEvent?(o.container.on(o._wheelEvent,A),!0):!1},o.parallax={setTranslate:function(){o.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){O(this,o.progress)}),o.slides.each(function(){var e=u(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);O(this,t)})})},setTransition:function(e){typeof e=="undefined"&&(e=o.params.speed),o.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=u(this),n=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;e===0&&(n=0),t.transition(n)})}},o._plugins=[];for(var M in o.plugins){var _=o.plugins[M](o,o.params[M]);_&&o._plugins.push(_)}return o.callPlugins=function(e){for(var t=0;t<o._plugins.length;t++)e in o._plugins[t]&&o._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},o.emitterEventListeners={},o.emit=function(e){o.params[e]&&o.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(o.emitterEventListeners[e])for(t=0;t<o.emitterEventListeners[e].length;t++)o.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);o.callPlugins&&o.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},o.on=function(e,t){return e=D(e),o.emitterEventListeners[e]||(o.emitterEventListeners[e]=[]),o.emitterEventListeners[e].push(t),o},o.off=function(e,t){var n;e=D(e);if(typeof t=="undefined")return o.emitterEventListeners[e]=[],o;if(!o.emitterEventListeners[e]||o.emitterEventListeners[e].length===0)return;for(n=0;n<o.emitterEventListeners[e].length;n++)o.emitterEventListeners[e][n]===t&&o.emitterEventListeners[e].splice(n,1);return o},o.once=function(e,t){e=D(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),o.off(e,n)};return o.on(e,n),o},o.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){if(e.keyCode!==13)return;u(e.target).is(o.params.nextButton)?(o.onClickNext(e),o.isEnd?o.a11y.notify(o.params.lastSlideMsg):o.a11y.notify(o.params.nextSlideMsg)):u(e.target).is(o.params.prevButton)&&(o.onClickPrev(e),o.isBeginning?o.a11y.notify(o.params.firstSlideMsg):o.a11y.notify(o.params.prevSlideMsg))},liveRegion:u('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=o.a11y.liveRegion;if(t.length===0)return;t.html(""),t.html(e)},init:function(){if(o.params.nextButton){var e=u(o.params.nextButton);o.a11y.makeFocusable(e),o.a11y.addRole(e,"button"),o.a11y.addLabel(e,o.params.nextSlideMsg)}if(o.params.prevButton){var t=u(o.params.prevButton);o.a11y.makeFocusable(t),o.a11y.addRole(t,"button"),o.a11y.addLabel(t,o.params.prevSlideMsg)}u(o.container).append(o.a11y.liveRegion)},destroy:function(){o.a11y.liveRegion&&o.a11y.liveRegion.length>0&&o.a11y.liveRegion.remove()}},o.init=function(){o.params.loop&&o.createLoop(),o.updateContainerSize(),o.updateSlidesSize(),o.updatePagination(),o.params.scrollbar&&o.scrollbar&&o.scrollbar.set(),o.params.effect!=="slide"&&o.effects[o.params.effect]&&(o.params.loop||o.updateProgress(),o.effects[o.params.effect].setTranslate()),o.params.loop?o.slideTo(o.params.initialSlide+o.loopedSlides,0,o.params.runCallbacksOnInit):(o.slideTo(o.params.initialSlide,0,o.params.runCallbacksOnInit),o.params.initialSlide===0&&(o.parallax&&o.params.parallax&&o.parallax.setTranslate(),o.lazy&&o.params.lazyLoading&&o.lazy.load())),o.attachEvents(),o.params.observer&&o.support.observer&&o.initObservers(),o.params.preloadImages&&!o.params.lazyLoading&&o.preloadImages(),o.params.autoplay&&o.startAutoplay(),o.params.keyboardControl&&o.enableKeyboardControl&&o.enableKeyboardControl(),o.params.mousewheelControl&&o.enableMousewheelControl&&o.enableMousewheelControl(),o.params.hashnav&&o.hashnav&&o.hashnav.init(),o.params.a11y&&o.a11y&&o.a11y.init(),o.emit("onInit",o)},o.cleanupStyles=function(){o.container.removeClass(o.classNames.join(" ")).removeAttr("style"),o.wrapper.removeAttr("style"),o.slides&&o.slides.length&&o.slides.removeClass([o.params.slideVisibleClass,o.params.slideActiveClass,o.params.slideNextClass,o.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),o.paginationContainer&&o.paginationContainer.length&&o.paginationContainer.removeClass(o.params.paginationHiddenClass),o.bullets&&o.bullets.length&&o.bullets.removeClass(o.params.bulletActiveClass),o.params.prevButton&&u(o.params.prevButton).removeClass(o.params.buttonDisabledClass),o.params.nextButton&&u(o.params.nextButton).removeClass(o.params.buttonDisabledClass),o.params.scrollbar&&o.scrollbar&&(o.scrollbar.track&&o.scrollbar.track.length&&o.scrollbar.track.removeAttr("style"),o.scrollbar.drag&&o.scrollbar.drag.length&&o.scrollbar.drag.removeAttr("style"))},o.destroy=function(e,t){o.detachEvents(),o.stopAutoplay(),o.params.loop&&o.destroyLoop(),t&&o.cleanupStyles(),o.disconnectObservers(),o.params.keyboardControl&&o.disableKeyboardControl&&o.disableKeyboardControl(),o.params.mousewheelControl&&o.disableMousewheelControl&&o.disableMousewheelControl(),o.params.a11y&&o.a11y&&o.a11y.destroy(),o.emit("onDestroy"),e!==!1&&(o=null)},o.init(),o}return new Swiper(e,t)},Swiper.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||i||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var e=["jQuery","Zepto","Dom7"];for(var n=0;n<e.length;n++)window[e[n]]&&t(window[e[n]]);var r;typeof Dom7=="undefined"?r=window.Dom7||window.Zepto||window.jQuery:r=Dom7,r&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(e){function s(r){if(r.target!==this)return;e.call(this,r);for(n=0;n<t.length;n++)i.off(t[n],s)}var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,r,i=this;if(e)for(n=0;n<t.length;n++)i.on(t[n],s);return this}),"transform"in r.fn||(r.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in r.fn||(r.fn.transition=function(e){typeof e!="string"&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}))}(),typeof module!="undefined"?module.exports=Swiper:typeof define=="function"&&define.amd&&define("swiper.jquery",[],function(){return Swiper}),function(e){function t(e,t){return e.toUpperCase().indexOf(t.toUpperCase())>-1}function n(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function r(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),s=e==null?"":""+e;return r.test(s)?s.replace(i,function(e){return t[e]}):s}function s(t,n){var r=arguments,s=t,t=r[0],n=r[1];[].shift.apply(r),typeof t=="undefined"&&(t=s);var o,u=this.each(function(){var s=e(this);if(s.is("select")){var u=s.data("selectpicker"),a=typeof t=="object"&&t;if(!u){var f=e.extend({},i.DEFAULTS,e.fn.selectpicker.defaults||{},s.data(),a);s.data("selectpicker",u=new i(this,f,n))}else if(a)for(var l in a)a.hasOwnProperty(l)&&(u.options[l]=a[l]);typeof t=="string"&&(u[t]instanceof Function?o=u[t].apply(u,r):o=u.options[t])}});return typeof o!="undefined"?o:u}e.expr[":"].icontains=function(n,r,i){return t(e(n).text(),i[3])},e.expr[":"].aicontains=function(n,r,i){return t(e(n).data("normalizedText")||e(n).text(),i[3])};var i=function(t,n,r){r&&(r.stopPropagation(),r.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,this.options.title===null&&(this.options.title=this.$element.attr("title")),this.val=i.prototype.val,this.render=i.prototype.render,this.refresh=i.prototype.refresh,this.setStyle=i.prototype.setStyle,this.selectAll=i.prototype.selectAll,this.deselectAll=i.prototype.deselectAll,this.destroy=i.prototype.remove,this.remove=i.prototype.remove,this.show=i.prototype.show,this.hide=i.prototype.hide,this.init()};i.VERSION="1.6.3",i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){var n=[];return n[0]=e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",n[1]=t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",n},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},i.prototype={constructor:i,init:function(){var t=this,n=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),typeof n!="undefined"&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",i=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",u=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+"</button>"+'<button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>":"",a='<div class="btn-group bootstrap-select'+t+n+'">'+'<button type="button" class="btn dropdown-toggle selectpicker'+i+'" data-toggle="dropdown"'+r+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="caret"></span>'+"</button>"+'<div class="dropdown-menu open">'+s+o+u+'<ul class="dropdown-menu inner selectpicker" role="menu">'+"</ul>"+"</div>"+"</div>";return e(a)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var t=this,i=[],s=0,o=function(e,t,n){return"<li"+(typeof n!="undefined"?' class="'+n+'"':"")+(typeof t!="undefined"|null===t?' data-original-index="'+t+'"':"")+">"+e+"</li>"},u=function(e,i,s,o){var u=n(r(e));return'<a tabindex="0"'+(typeof i!="undefined"?' class="'+i+'"':"")+(typeof s!="undefined"?' style="'+s+'"':"")+(typeof o!="undefined"?'data-optgroup="'+o+'"':"")+' data-normalized-text="'+u+'"'+">"+e+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span>'+"</a>"};return this.$element.find("option").each(function(){var n=e(this),r=n.attr("class")||"",a=n.attr("style"),f=n.data("content")?n.data("content"):n.html(),l=typeof n.data("subtext")!="undefined"?'<small class="muted text-muted">'+n.data("subtext")+"</small>":"",c=typeof n.data("icon")!="undefined"?'<span class="'+t.options.iconBase+" "+n.data("icon")+'"></span> ':"",h=n.is(":disabled")||n.parent().is(":disabled"),p=n[0].index;c!==""&&h&&(c="<span>"+c+"</span>"),n.data("content")||(f=c+'<span class="text">'+f+l+"</span>");if(t.options.hideDisabled&&h)return;if(n.parent().is("optgroup")&&n.data("divider")!==!0){if(n.index()===0){s+=1;var d=n.parent().attr("label"),v=typeof n.parent().data("subtext")!="undefined"?'<small class="muted text-muted">'+n.parent().data("subtext")+"</small>":"",m=n.parent().data("icon")?'<span class="'+t.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"";d=m+'<span class="text">'+d+v+"</span>",p!==0&&i.length>0&&i.push(o("",null,"divider")),i.push(o(d,null,"dropdown-header"))}i.push(o(u(f,"opt "+r,a,s),p))}else n.data("divider")===!0?i.push(o("",p,"divider")):n.data("hidden")===!0?i.push(o(u(f,r,a),p,"hide is-hidden")):i.push(o(u(f,r,a),p))}),!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title&&this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),e(i.join(""))},findLis:function(){return this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n=this;t!==!1&&this.$element.find("option").each(function(t){n.setDisabled(t,e(this).is(":disabled")||e(this).parent().is(":disabled")),n.setSelected(t,e(this).is(":selected"))}),this.tabIndex();var i=this.options.hideDisabled?":not([disabled])":"",s=this.$element.find("option:selected"+i).map(function(){var t=e(this),r=t.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+t.data("icon")+'"></i> ':"",i;return n.options.showSubtext&&t.attr("data-subtext")&&!n.multiple?i=' <small class="muted text-muted">'+t.data("subtext")+"</small>":i="",t.data("content")&&n.options.showContent?t.data("content"):typeof t.attr("title")!="undefined"?t.attr("title"):r+t.html()+i}).toArray(),o=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var u=this.options.selectedTextFormat.split(">");if(u.length>1&&s.length>u[1]||u.length==1&&s.length>=2){i=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,f=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(s.length,a):this.options.countSelectedText;o=f.replace("{0}",s.length.toString()).replace("{1}",a.toString())}}this.options.title=this.$element.attr("title"),this.options.selectedTextFormat=="static"&&(o=this.options.title),o||(o=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText),this.$button.attr("title",r(o)),this.$newElement.find(".filter-option").html(o)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var n=e?e:this.options.style;t=="add"?this.$button.addClass(n):t=="remove"?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(){if(this.options.size===!1)return;var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),n=t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),r=this.options.header?t.find(".popover-title").outerHeight():0,i=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,s=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",n).data("headerHeight",r).data("searchHeight",i).data("actionsHeight",s)},setSize:function(){this.findLis();var t=this,n=this.$menu,r=n.find(".inner"),i=this.$newElement.outerHeight(),s=this.$newElement.data("liHeight"),o=this.$newElement.data("headerHeight"),u=this.$newElement.data("searchHeight"),a=this.$newElement.data("actionsHeight"),f=this.$lis.filter(".divider").outerHeight(!0),l=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))+parseInt(n.css("border-top-width"))+parseInt(n.css("border-bottom-width")),c=this.options.hideDisabled?", .disabled":"",h=e(window),p=l+parseInt(n.css("margin-top"))+parseInt(n.css("margin-bottom"))+2,d,v,m,g=function(){v=t.$newElement.offset().top-h.scrollTop(),m=h.height()-v-i};g(),this.options.header&&n.css("padding-top",0);if(this.options.size=="auto"){var y=function(){var e,i=t.$lis.not(".hide");g(),d=m-p,t.options.dropupAuto&&t.$newElement.toggleClass("dropup",v>m&&d-p<n.height()),t.$newElement.hasClass("dropup")&&(d=v-p),i.length+i.filter(".dropdown-header").length>3?e=s*3+p-2:e=0,n.css({"max-height":d+"px",overflow:"hidden","min-height":e+o+u+a+"px"}),r.css({"max-height":d-o-u-a-l+"px","overflow-y":"auto","min-height":Math.max(e-l,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),e(window).off("resize.getSize").on("resize.getSize",y),e(window).off("scroll.getSize").on("scroll.getSize",y)}else if(this.options.size&&this.options.size!="auto"&&n.find("li"+c).length>this.options.size){var b=this.$lis.not(".divider"+c).find(" > *").slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,b+1).filter(".divider").length;d=s*this.options.size+w*f+l,t.options.dropupAuto&&this.$newElement.toggleClass("dropup",v>m&&d<n.height()),n.css({"max-height":d+o+u+a+"px",overflow:"hidden"}),r.css({"max-height":d-l+"px","overflow-y":"auto"})}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.find("> .dropdown-menu").css("width"),n=e.css("width","auto").find("> button").css("width");e.remove(),this.$newElement.css("width",Math.max(parseInt(t),parseInt(n))+"px")}else this.options.width=="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t=this,n="<div />",r=e(n),i,s,o=function(e){r.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup")),i=e.offset(),s=e.hasClass("dropup")?0:e[0].offsetHeight,r.css({top:i.top+s,left:i.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(t.isDisabled())return;o(e(this)),r.appendTo(t.options.container),r.toggleClass("open",!e(this).hasClass("open")),r.append(t.$menu)}),e(window).resize(function(){o(t.$newElement)}),e(window).on("scroll",function(){o(t.$newElement)}),e("html").on("click",function(n){e(n.target).closest(t.$newElement).length<1&&r.removeClass("open")})},setSelected:function(e,t){this.findLis(),this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis(),t?this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),this.$button.attr("tabindex")==-1&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){t.setSize(),!t.options.liveSearch&&!t.multiple&&setTimeout(function(){t.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),s=t.$element.val(),o=t.$element.prop("selectedIndex");t.multiple&&n.stopPropagation(),n.preventDefault();if(!t.isDisabled()&&!r.parent().hasClass("disabled")){var u=t.$element.find("option"),a=u.eq(i),f=a.prop("selected"),l=a.parent("optgroup"),c=t.options.maxOptions,h=l.data("maxOptions")||!1;if(!t.multiple)u.prop("selected",!1),a.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else{a.prop("selected",!f),t.setSelected(i,!f),r.blur();if(c!==!1||h!==!1){var p=c<u.filter(":selected").length,d=h<l.find("option:selected").length;if(c&&p||h&&d)if(c&&c==1)u.prop("selected",!1),a.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else if(h&&h==1){l.find("option:selected").prop("selected",!1),a.prop("selected",!0);var v=r.data("optgroup");t.$menu.find(".selected").has('a[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(i,!0)}else{var m=typeof t.options.maxOptionsText=="function"?t.options.maxOptionsText(c,h):t.options.maxOptionsText,g=m[0].replace("{n}",c),y=m[1].replace("{n}",h),b=e('<div class="notify"></div>');m[2]&&(g=g.replace("{var}",m[2][c>1?0:1]),y=y.replace("{var}",m[2][h>1?0:1])),a.prop("selected",!1),t.$menu.append(b),c&&p&&(b.append(e("<div>"+g+"</div>")),t.$element.trigger("maxReached.bs.select")),h&&d&&(b.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(i,!1)},10),b.delay(750).fadeOut(300,function(){e(this).remove()})}}}t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(s!=t.$element.val()&&t.multiple||o!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).is(".bs-select-all")?t.selectAll():t.deselectAll(),t.$element.change()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),!t.$searchbox.val()||(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),!i.parent().length||i.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+n(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?!i.parent().length||i.remove():(!i.parent().length||i.remove(),i.html(t.options.noneResultsText+' "'+r(t.$searchbox.val())+'"').show(),t.$menu.find("li").last().after(i))):(t.$lis.not(".is-hidden").removeClass("hide"),!i.parent().length||i.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),e(this).focus()})},val:function(e){return typeof e!="undefined"?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var r=e(this),i=r.is("input")?r.parent().parent():r.parent(),s,o=i.data("this"),u,a,f,l,c,h,p,d,v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};o.options.liveSearch&&(i=r.parent().parent()),o.options.container&&(i=o.$menu),s=e("[role=menu] li a",i),d=o.$menu.parent().hasClass("open"),!d&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(o.options.container?o.$newElement.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),d=!0),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&d&&o.$menu.find(".active").length===0&&(t.preventDefault(),o.$menu.parent().removeClass("open"),o.$button.focus()),s=e("[role=menu] li:not(.divider):not(.dropdown-header):visible",i),!r.val()&&!/(38|40)/.test(t.keyCode.toString(10))&&s.filter(".active").length===0&&(o.options.searchAccentInsensitive?s=o.$newElement.find("li").filter(":aicontains("+n(v[t.keyCode])+")"):s=o.$newElement.find("li").filter(":icontains("+v[t.keyCode]+")")));if(!s.length)return;if(/(38|40)/.test(t.keyCode.toString(10)))u=s.index(s.filter(":focus")),f=s.parent(":not(.disabled):visible").first().index(),l=s.parent(":not(.disabled):visible").last().index(),a=s.eq(u).parent().nextAll(":not(.disabled):visible").eq(0).index(),c=s.eq(u).parent().prevAll(":not(.disabled):visible").eq(0).index(),h=s.eq(a).parent().prevAll(":not(.disabled):visible").eq(0).index(),o.options.liveSearch&&(s.each(function(t){e(this).is(":not(.disabled)")&&e(this).data("index",t)}),u=s.index(s.filter(".active")),f=s.filter(":not(.disabled):visible").first().data("index"),l=s.filter(":not(.disabled):visible").last().data("index"),a=s.eq(u).nextAll(":not(.disabled):visible").eq(0).data("index"),c=s.eq(u).prevAll(":not(.disabled):visible").eq(0).data("index"),h=s.eq(a).prevAll(":not(.disabled):visible").eq(0).data("index")),p=r.data("prevIndex"),t.keyCode==38&&(o.options.liveSearch&&(u-=1),u!=h&&u>c&&(u=c),u<f&&(u=f),u==p&&(u=l)),t.keyCode==40&&(o.options.liveSearch&&(u+=1),u==-1&&(u=0),u!=h&&u<a&&(u=a),u>l&&(u=l),u==p&&(u=f)),r.data("prevIndex",u),o.options.liveSearch?(t.preventDefault(),r.is(".dropdown-toggle")||(s.removeClass("active"),s.eq(u).addClass("active").find("a").focus(),r.focus())):s.eq(u).focus();else if(!r.is("input")){var m=[],g,y;s.each(function(){e(this).parent().is(":not(.disabled)")&&e.trim(e(this).text().toLowerCase()).substring(0,1)==v[t.keyCode]&&m.push(e(this).parent().index())}),g=e(document).data("keycount"),g++,e(document).data("keycount",g),y=e.trim(e(":focus").text().toLowerCase()).substring(0,1),y!=v[t.keyCode]?(g=1,e(document).data("keycount",g)):g>=m.length&&(e(document).data("keycount",0),g>m.length&&(g=1)),s.eq(m[g-1]).focus()}(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&o.options.selectOnTab)&&d&&(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),o.options.liveSearch?/(32)/.test(t.keyCode.toString(10))||(o.$menu.find(".active a").click(),r.focus()):e(":focus").click(),e(document).data("keycount",0));if(/(^9$|27)/.test(t.keyCode.toString(10))&&d&&(o.multiple||o.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!d)o.$menu.parent().removeClass("open"),o.$button.focus()},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var o=e.fn.selectpicker;e.fn.selectpicker=s,e.fn.selectpicker.Constructor=i,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=o,this},e(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",i.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);s.call(t,t.data())})})}(jQuery),define("bootstrap.select",function(){});var JSON;JSON||(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",function(e){return function(){var t,n;return t||e.JSON}}(this)),Date.CultureInfo={name:"es-ES",englishName:"Spanish (Spain)",nativeName:"español (España)",dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],abbreviatedDayNames:["dom","lun","mar","mié","jue","vie","sáb"],shortestDayNames:["do","lu","ma","mi","ju","vi","sá"],firstLetterDayNames:["d","l","m","m","j","v","s"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],abbreviatedMonthNames:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],amDesignator:"",pmDesignator:"",firstDayOfWeek:1,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"dd/MM/yyyy",longDate:"dddd, dd' de 'MMMM' de 'yyyy",shortTime:"H:mm",longTime:"H:mm:ss",fullDateTime:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"dd MMMM",yearMonth:"MMMM' de 'yyyy"},regexPatterns:{jan:/^ene(ro)?/i,feb:/^feb(rero)?/i,mar:/^mar(zo)?/i,apr:/^abr(il)?/i,may:/^may(o)?/i,jun:/^jun(io)?/i,jul:/^jul(io)?/i,aug:/^ago(sto)?/i,sep:/^sep(tiembre)?/i,oct:/^oct(ubre)?/i,nov:/^nov(iembre)?/i,dec:/^dic(iembre)?/i,sun:/^do(m(ingo)?)?/i,mon:/^lu(n(es)?)?/i,tue:/^ma(r(tes)?)?/i,wed:/^mi(é(rcoles)?)?/i,thu:/^ju(e(ves)?)?/i,fri:/^vi(e(rnes)?)?/i,sat:/^sá(b(ado)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},timezones:{UTC:"-000",GMT:"-000",EST:"-0500",EDT:"-0400",CST:"-0600",CDT:"-0500",MST:"-0700",MDT:"-0600",PST:"-0800",PDT:"-0700"}},function(){var e=Date,t=e.prototype,n=e.CultureInfo;t.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},t.setTimeToNow=function(){var e=new Date;return this.setHours(e.getHours()),this.setMinutes(e.getMinutes()),this.setSeconds(e.getSeconds()),this.setMilliseconds(e.getMilliseconds()),this},e.today=function(){return(new Date).clearTime()},e.compare=function(e,t){if(isNaN(e)||isNaN(t))throw new Error(e+" - "+t);if(e instanceof Date&&t instanceof Date)return e<t?-1:e>t?1:0;throw new TypeError(e+" - "+t)},e.equals=function(e,t){return e.compareTo(t)===0},e.getMonthNumberFromName=function(e){var t=n.monthNames,r=n.abbreviatedMonthNames,i=e.toLowerCase();for(var s=0;s<t.length;s++)if(t[s].toLowerCase()==i||r[s].toLowerCase()==i)return s;return-1},e.getDayNumberFromName=function(e){var t=n.dayNames,r=n.abbreviatedDayNames,i=n.shortestDayNames,s=e.toLowerCase();for(var o=0;o<t.length;o++)if(t[o].toLowerCase()==s||r[o].toLowerCase()==s||i[o].toLowerCase()==s)return o;return-1},e.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},e.getDaysInMonth=function(t,n){return[31,e.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][n]},e.getTimezoneOffset=function(e){return n.timezones[e.toUpperCase()]},e.getTimezoneAbbreviation=function(e){var t=n.timezones,r;for(var i=0;i<t.length;i++)if(t[i]===e)return t[i];return null},t.clone=function(){return new Date(this.getTime())},t.compareTo=function(e){return Date.compare(this,e)},t.equals=function(e){return Date.equals(this,e)},t.between=function(e,t){var n=this.getTime();return n>=e.getTime()&&n<=t.getTime()},t.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},t.addSeconds=function(e){return this.addMilliseconds(e*1e3)},t.addMinutes=function(e){return this.addMilliseconds(e*6e4)},t.addHours=function(e){return this.addMilliseconds(e*36e5)},t.addDays=function(e){return this.addMilliseconds(e*864e5)},t.addWeeks=function(e){return this.addDays(e*7)},t.addMonths=function(t){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(n,e.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},t.addYears=function(e){return this.addMonths(e*12)},t.add=function(e){if(typeof e=="number")return this._orient=e,this;var t=e;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.week||t.weeks)&&this.addWeeks(t.week||t.weeks),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},e._validate=function(e,t,n,r){if(typeof e=="undefined")return!1;if(typeof e!="number")throw new TypeError(e+" is not a Number.");if(e<t||e>n)throw new RangeError(e+" is not a valid value for "+r+".");return!0},e.validateMillisecond=function(t){return e._validate(t,0,999,"milliseconds")},e.validateSecond=function(t){return e._validate(t,0,59,"seconds")},e.validateMinute=function(t){return e._validate(t,0,59,"minutes")},e.validateHour=function(t){return e._validate(t,0,23,"hours")},e.validateDay=function(t,n,r){return e._validate(t,1,e.getDaysInMonth(n,r),"days")},e.validateMonth=function(t){return e._validate(t,0,11,"months")},e.validateYear=function(t){return e._validate(t,0,9999,"years")},t.set=function(t){return e.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),e.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),e.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),e.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),e.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),e.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),e.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this},t.moveToFirstDayOfMonth=function(){return this.set({day:1})},t.moveToLastDayOfMonth=function(){return this.set({day:e.getDaysInMonth(this.getFullYear(),this.getMonth())})},t.moveToNthOccurrence=function(e,t){var n=0;if(t)if(t>0)n=t-1;else if(t==-1)return this.moveToLastDayOfMonth().moveToDayOfWeek(e,-1);return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(e,1).addWeeks(n)},t.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(n===0?n+=7*(t||1):n)},t.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(n===0?n+=12*(t||1):n)},t.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},t.getWeekOfYear=function(t){var r=this.getFullYear(),i=this.getMonth(),s=this.getDate(),o=t||n.firstDayOfWeek,u=8-(new Date(r,0,1)).getDay();u==8&&(u=1);var a=(e.UTC(r,i,s,0,0,0)-e.UTC(r,0,1,0,0,0))/864e5+1,f=Math.floor((a-u+7)/7);if(f===o){r--;var l=8-(new Date(r,0,1)).getDay();l==2||l==8?f=53:f=52}return f},t.getTimezone=function(){return e.getTimezoneAbbreviation(this.getUTCOffset())},t.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=Number(e)*-6/10;return this.addMinutes(n-t)},t.setTimezone=function(t){return this.setTimezoneOffset(e.getTimezoneOffset(t))},t.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},t.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},t.getUTCOffset=function(){var e=this.getTimezoneOffset()*-10/6,t;return e<0?(t=(e-1e4).toString(),t[0]+t.substr(2)):(t=(e+1e4).toString(),"+"+t.substr(1))},t.getElapsed=function(e){return(e||new Date)-this},t._toString=t.toString,t.toString=function(e){var t=this,r=function(t){return t<10?"0"+t:t};return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return r(t.getHours()<13?t.getHours()===0?12:t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours()===0?12:t.getHours():t.getHours()-12;case"HH":return r(t.getHours());case"H":return t.getHours();case"mm":return r(t.getMinutes());case"m":return t.getMinutes();case"ss":return r(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return n.dayNames[t.getDay()];case"ddd":return n.abbreviatedDayNames[t.getDay()];case"dd":return r(t.getDate());case"d":return t.getDate().toString();case"MMMM":return n.monthNames[t.getMonth()];case"MMM":return n.abbreviatedMonthNames[t.getMonth()];case"MM":return r(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?n.amDesignator.substring(0,1):n.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?n.amDesignator:n.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()}}(),function(){var e=Date,t=e.prototype,n=e.CultureInfo,r=Number.prototype,i=!1;t._orient=1,t._nth=null,t._is=!1,r._dateElement="day",t.next=function(){return this._orient=1,this},e.next=function(){return e.today().next()},t.last=t.prev=t.previous=function(){return this._orient=-1,this},e.last=e.prev=e.previous=function(){return e.today().last()},t.is=function(){return this._is=!0,this},t.at=function(t){return typeof t=="string"?e.parse(this.toShortDateString()+" "+t):this.set(t)},t.weekday=function(){if(this._is)return this._is=!1,!this.is().sat()&&!this.is().sun()},r.fromNow=r.after=function(e){var t={};return t[this._dateElement]=this,(e?e.clone():new Date).add(t)},r.ago=r.before=function(e){var t={};return t[this._dateElement]=this*-1,(e?e.clone():new Date).add(t)};var s="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),u="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a="final first second third fourth fifth".split(/\s/),f,l=function(t){return function(){if(this._is)return this._is=!1,this.getDay()==t;if(this._nth!==null){this._isSecond&&this.addSeconds(this._orient*-1),this._isSecond=!1;var n=this._nth;this._nth=null;var r=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(t,n);if(this>r)throw new RangeError(e.getDayName(t)+" does not occur "+n+" times in the month of "+e.getMonthName(r.getMonth())+" "+r.getFullYear()+".");return this}return this.moveToDayOfWeek(t,this._orient)}},c=function(t){return function(){var r=e.today(),i=t-r.getDay();return t===0&&n.firstDayOfWeek===1&&r.getDay()!==0&&(i+=7),r.addDays(i)}};for(var h=0;h<s.length;h++)e[s[h].toUpperCase()]=e[s[h].toUpperCase().substring(0,3)]=h,e[s[h]]=e[s[h].substring(0,3)]=c(h),t[s[h]]=t[s[h].substring(0,3)]=l(h);var p=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},d=function(t){return function(){return e.today().set({month:t,day:1})}};for(var v=0;v<o.length;v++)e[o[v].toUpperCase()]=e[o[v].toUpperCase().substring(0,3)]=v,e[o[v]]=e[o[v].substring(0,3)]=d(v),t[o[v]]=t[o[v].substring(0,3)]=p(v);var m=function(e){return function(){return this._isSecond?(this._isSecond=!1,this):(e.substring(e.length-1)!="s"&&(e+="s"),this["add"+e](this._orient))}},g=function(e){return function(){return this._dateElement=e,this}};for(var y=0;y<u.length;y++)f=u[y].toLowerCase(),t[f]=t[f+"s"]=m(u[y]),r[f]=r[f+"s"]=g(f);var b=function(e){return function(t){return t||t===0?this.moveToNthOccurrence(t,e):(this._nth=e,e!==2||t!==undefined&&t!==null?this:(this._isSecond=!0,this.addSeconds(this._orient)))}};for(var w=0;w<a.length;w++)t[a[w]]=w===0?b(-1):b(w);t.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},t.toShortDateString=function(){return this.toString(n.formatPatterns.shortDate)},t.toLongDateString=function(){return this.toString(n.formatPatterns.longDate)},t.toShortTimeString=function(){return this.toString(n.formatPatterns.shortTime)},t.toLongTimeString=function(){return this.toString(n.formatPatterns.longTime)},t.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}}}(),function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var i=n.match(t);if(i)return[i[0],n.substring(i[0].length)];throw new e.Exception(n)}},token:function(e){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){var n=[],r=null;while(t.length){try{r=e.call(this,t)}catch(i){n.push(r[0]),t=r[1];continue}break}return[n,t]}},many:function(e){return function(t){var n=[],r=null;while(t.length){try{r=e.call(this,t)}catch(i){return[n,t]}n.push(r[0]),t=r[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(r){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(r){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[];for(var i=0;i<e.length;i++)r.push(t.each(e[i],n));return r},cache:function(t){var n={},r=null;return function(i){try{r=n[i]=n[i]||t.call(this,i)}catch(s){r=n[i]=s}if(r instanceof e.Exception)throw r;return r}},any:function(){var t=arguments;return function(n){var r=null;for(var i=0;i<t.length;i++){if(t[i]==null)continue;try{r=t[i].call(this,n)}catch(s){r=null}if(r)return r}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){var r=[],i=null;for(var s=0;s<t.length;s++){if(t[s]==null)continue;try{i=t[s].call(this,n)}catch(o){throw new e.Exception(n)}r.push(i[0]),n=i[1]}return[r,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,n.length==1?n[0]:function(t){var s=null,o=null,u=[];for(var a=0;a<n.length;a++){try{s=n[a].call(this,t)}catch(f){break}u.push(s[0]);try{o=r.call(this,s[1])}catch(l){o=null;break}t=o[1]}if(!s)throw new e.Exception(t);if(o)throw new e.Exception(o[1]);if(i)try{s=i.call(this,s[1])}catch(h){throw new e.Exception(s[1])}return[u,s?s[1]:t]}},between:function(e,n,i){i=i||e;var s=t.each(t.ignore(e),n,t.ignore(i));return function(e){var t=s.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,r){return n=n||t.rtoken(/^\s*/),r=r||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(r)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(r))},set:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,function(s){var o=null,u=null,a=null,f=null,l=[[],s],h=!1;for(var p=0;p<n.length;p++){a=null,u=null,o=null,h=n.length==1;try{o=n[p].call(this,s)}catch(v){continue}f=[[o[0]],o[1]];if(o[1].length>0&&!h)try{a=r.call(this,o[1])}catch(m){h=!0}else h=!0;!h&&a[1].length===0&&(h=!0);if(!h){var g=[];for(var y=0;y<n.length;y++)p!=y&&g.push(n[y]);u=t.set(g,r).call(this,a[1]),u[0].length>0&&(f[0]=f[0].concat(u[0]),f[1]=u[1])}f[1].length<l[1].length&&(l=f);if(l[1].length===0)break}if(l[0].length===0)return l;if(i){try{a=i.call(this,l[1])}catch(b){throw new e.Exception(l[1])}l[1]=a[1]}return l}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var r=e.call(this,n);return[t,r[1]]}},process:function(e,t){return function(n){var r=e.call(this,n);return[t.call(this,r[0]),r[1]]}},min:function(t,n){return function(r){var i=n.call(this,r);if(i[0].length<t)throw new e.Exception(r);return i}}},n=function(e){return function(){var t=null,n=[];arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]);if(!t)return e.apply(null,arguments);for(var r=0,i=t.shift();r<i.length;r++)return t.unshift(i[r]),n.push(e.apply(null,t)),t.shift(),n}},i="optional not ignore cache".split(/\s/);for(var s=0;s<i.length;s++)t[i[s]]=n(t[i[s]]);var o=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},u="each any all".split(/\s/);for(var a=0;a<u.length;a++)t[u[a]]=o(t[u[a]])}(),function(){var e=Date,t=e.prototype,n=e.CultureInfo,r=function(e){var t=[];for(var n=0;n<e.length;n++)e[n]instanceof Array?t=t.concat(r(e[n])):e[n]&&t.push(e[n]);return t};e.Grammar={},e.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(t){return function(){this.month=t.length==3?e.getMonthNumberFromName(t):Number(t)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<n.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];for(var n=0;n<t.length;n++)t[n]&&t[n].call(this);var r=new Date;(this.hour||this.minute)&&!this.month&&!this.year&&!this.day&&(this.day=r.getDate()),this.year||(this.year=r.getFullYear()),this.month||(this.month=r.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0));if(this.day>e.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(t){t=t instanceof Array?r(t):[t];if(t.length===0)return null;for(var n=0;n<t.length;n++)typeof t[n]=="function"&&t[n].call(this);var i=e.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(i=new Date);var s=!!(this.days&&this.days!==null||this.orient||this.operator),o,u,a;a=this.orient=="past"||this.operator=="subtract"?-1:1,!this.now&&"hour minute second".indexOf(this.unit)!=-1&&i.setTimeToNow(),(this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!=-1&&(this.value=this.month+1,this.month=null,s=!0);if(!s&&this.weekday&&!this.day&&!this.days){var f=Date[this.weekday]();this.day=f.getDate(),this.month||(this.month=f.getMonth()),this.year=f.getFullYear()}s&&this.weekday&&this.unit!="month"&&(this.unit="day",o=e.getDayNumberFromName(this.weekday)-i.getDay(),u=7,this.days=o?(o+a*u)%u:a*u),this.month&&this.unit=="day"&&this.operator&&(this.value=this.month+1,this.month=null),this.month&&!this.day&&this.value&&(i.set({day:this.value*1}),s||(this.day=this.value*1)),!this.month&&this.value&&this.unit=="month"&&!this.now&&(this.month=this.value,s=!0),s&&(this.month||this.month===0)&&this.unit!="year"&&(this.unit="month",o=this.month-i.getMonth(),u=12,this.months=o?(o+a*u)%u:a*u,this.month=null),this.unit||(this.unit="day");if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null)this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*a;else if(this[this.unit+"s"]==null||this.operator!=null)this.value||(this.value=1),this[this.unit+"s"]=this.value*a;this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0));if(this.weekday&&!this.day&&!this.days){var f=Date[this.weekday]();this.day=f.getDate(),f.getMonth()!==i.getMonth()&&(this.month=f.getMonth())}return this.month&&!this.day&&(this.day=1),!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month?e.jan().first().mon().addWeeks(this.value):(!s&&this.timezone&&this.day&&this.days&&(this.day=this.days),s?i.add(this):i.set(this))}};var i=e.Parsing.Operators,s=e.Grammar,o=e.Translator,u;s.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/),s.timePartDelimiter=i.stoken(":"),s.whiteSpace=i.rtoken(/^\s*/),s.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};s.ctoken=function(e){var t=a[e];if(!t){var r=n.regexPatterns,s=e.split(/\s+/),o=[];for(var u=0;u<s.length;u++)o.push(i.replace(i.rtoken(r[s[u]]),s[u]));t=a[e]=i.any.apply(null,o)}return t},s.ctoken2=function(e){return i.rtoken(n.regexPatterns[e])},s.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),s.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),s.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),s.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),s.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),s.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.minute)),s.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),s.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.second)),s.hms=i.cache(i.sequence([s.H,s.mm,s.ss],s.timePartDelimiter)),s.t=i.cache(i.process(s.ctoken2("shortMeridian"),o.meridian)),s.tt=i.cache(i.process(s.ctoken2("longMeridian"),o.meridian)),s.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),s.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),s.zzz=i.cache(i.process(s.ctoken2("timezone"),o.timezone)),s.timeSuffix=i.each(i.ignore(s.whiteSpace),i.set([s.tt,s.zzz])),s.time=i.each(i.optional(i.ignore(i.stoken("T"))),s.hms,s.timeSuffix),s.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(s.ctoken2("ordinalSuffix"))),o.day)),s.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(s.ctoken2("ordinalSuffix"))),o.day)),s.ddd=s.dddd=i.cache(i.process(s.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),s.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),s.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),o.month)),s.MMM=s.MMMM=i.cache(i.process(s.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),s.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),o.year)),s.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),o.year)),s.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),o.year)),s.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),o.year)),u=function(){return i.each(i.any.apply(null,arguments),i.not(s.ctoken2("timeContext")))},s.day=u(s.d,s.dd),s.month=u(s.M,s.MMM),s.year=u(s.yyyy,s.yy),s.orientation=i.process(s.ctoken("past future"),function(e){return function(){this.orient=e}}),s.operator=i.process(s.ctoken("add subtract"),function(e){return function(){this.operator=e}}),s.rday=i.process(s.ctoken("yesterday tomorrow today now"),o.rday),s.unit=i.process(s.ctoken("second minute hour day week month year"),function(e){return function(){this.unit=e}}),s.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),s.expression=i.set([s.rday,s.operator,s.value,s.unit,s.orientation,s.ddd,s.MMM]),u=function(){return i.set(arguments,s.datePartDelimiter)},s.mdy=u(s.ddd,s.month,s.day,s.year),s.ymd=u(s.ddd,s.year,s.month,s.day),s.dmy=u(s.ddd,s.day,s.month,s.year),s.date=function(e){return(s[n.dateElementOrder]||s.mdy).call(this,e)},s.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(s[t])return s[t];throw e.Parsing.Exception(t)}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(e){return i.ignore(i.stoken(e))}))),function(e){return i.process(i.each.apply(null,e),o.finishExact)});var f={},l=function(e){return f[e]=f[e]||s.format(e)[0]};s.formats=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(l(e[n]));return i.any.apply(null,t)}return l(e)},s._formats=s.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),s._start=i.process(i.set([s.date,s.time,s.expression],s.generalDelimiter,s.whiteSpace),o.finish),s.start=function(e){try{var t=s._formats.call({},e);if(t[1].length===0)return t}catch(n){}return s._start.call({},e)},e._parse=e.parse,e.parse=function(t){var n=null;if(!t)return null;if(t instanceof Date)return t;try{n=e.Grammar.start.call({},t.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(r){return null}return n[1].length===0?n[0]:null},e.getParseFunction=function(t){var n=e.Grammar.formats(t);return function(e){var t=null;try{t=n.call({},e)}catch(r){return null}return t[1].length===0?t[0]:null}},e.parseExact=function(t,n){return e.getParseFunction(n)(t)}}(),define("datejs",function(){}),TimeSpan=function(e,t,n,r,i){this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0;if(arguments.length!=5){if(arguments.length==1&&typeof e=="number"){var s=e<0?-1:1;return this.milliseconds=Math.abs(e),this.days=Math.floor(this.milliseconds/864e5)*s,this.milliseconds=this.milliseconds%864e5,this.hours=Math.floor(this.milliseconds/36e5)*s,this.milliseconds=this.milliseconds%36e5,this.minutes=Math.floor(this.milliseconds/6e4)*s,this.milliseconds=this.milliseconds%6e4,this.seconds=Math.floor(this.milliseconds/1e3)*s,this.milliseconds=this.milliseconds%1e3,this.milliseconds=this.milliseconds*s,this}return null}this.days=e,this.hours=t,this.minutes=n,this.seconds=r,this.milliseconds=i},TimeSpan.prototype.compare=function(e){var t=new Date(1970,1,1,this.hours(),this.minutes(),this.seconds()),n;return e===null?n=new Date(1970,1,1,0,0,0):n=new Date(1970,1,1,e.hours(),e.minutes(),e.seconds()),t>n?1:t<n?-1:0},TimeSpan.prototype.add=function(e){return e===null?this:this.addSeconds(e.getTotalMilliseconds()/1e3)},TimeSpan.prototype.subtract=function(e){return e===null?this:this.addSeconds(-e.getTotalMilliseconds()/1e3)},TimeSpan.prototype.addDays=function(e){return new TimeSpan(this.getTotalMilliseconds()+e*24*60*60*1e3)},TimeSpan.prototype.addHours=function(e){return new TimeSpan(this.getTotalMilliseconds()+e*60*60*1e3)},TimeSpan.prototype.addMinutes=function(e){return new TimeSpan(this.getTotalMilliseconds()+e*60*1e3)},TimeSpan.prototype.addSeconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+e*1e3)},TimeSpan.prototype.addMilliseconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+e)},TimeSpan.prototype.getTotalMilliseconds=function(){return this.days()*864e5+this.hours()*36e5+this.minutes()*6e4+this.seconds()*1e3},TimeSpan.prototype.get12HourHour=function(){return(h=this.hours()%12)?h:12},TimeSpan.prototype.getDesignator=function(){return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator},TimeSpan.prototype.toString=function(e){function t(){return this.days()!==null&&this.days()>0?this.days()+"."+this.hours()+":"+n(this.minutes())+":"+n(this.seconds()):this.hours()+":"+n(this.minutes())+":"+n(this.seconds())}function n(e){return e.toString().length<2?"0"+e:e}var r=this;return e?e.replace(/d|dd|HH|H|hh|h|mm|m|ss|s|tt|t/g,function(e){switch(e){case"d":return r.days();case"dd":return n(r.days());case"H":return r.hours();case"HH":return n(r.hours());case"h":return r.get12HourHour();case"hh":return n(r.get12HourHour());case"m":return r.minutes();case"mm":return n(r.minutes());case"s":return r.seconds();case"ss":return n(r.seconds());case"t":return(this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};var TimePeriod=function(e,t,n,r,i,s,o){this.years=0,this.months=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0;if(arguments.length==2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var u=e.clone(),a=t.clone(),f=u.clone(),l=u>a?-1:1;this.years=a.getFullYear()-u.getFullYear(),f.addYears(this.years),l==+1?f>a&&this.years!==0&&this.years--:f<a&&this.years!==0&&this.years++,u.addYears(this.years);if(l==+1)while(u<a&&u.clone().addDays(u.getDaysInMonth())<a)u.addMonths(1),this.months++;else while(u>a&&u.clone().addDays(-u.getDaysInMonth())>a)u.addMonths(-1),this.months--;var c=a-u;if(c!==0){var h=new TimeSpan(c);this.days=h.days,this.hours=h.hours,this.minutes=h.minutes,this.seconds=h.seconds,this.milliseconds=h.milliseconds}return this}};define("time",function(){}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.2";var N=T.each=T.forEach=function(e,t,r){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return e==null?r:(N(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){var n=!1;return e==null?n:b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===t}),n)},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=t.prototype;var e=new O,s=t.apply(e,i.concat(u.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u,a=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return T.isNumber(e)&&isFinite(e)},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=1==this.vars.yoyo,this._dirty=!0},i=[],s=new n(null,null,1,0),n=r.prototype=new e;return n.constructor=r,n.kill()._gc=!1,r.version=12,n.invalidate=function(){return this._yoyo=1==this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},n.addCallback=function(e,n,r,i){return this.insert(t.delayedCall(0,e,r,i),n)},n.removeCallback=function(e,t){if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t,!1);-1<--r;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},n.tweenTo=function(e,n){var n=n||{},r={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1},o,u;for(o in n)r[o]=n[o];return r.time=this._parseTimeOrLabel(e,!1),u=new t(this,Math.abs(Number(r.time)-this._time)/this._timeScale||.001,r),r.onStart=function(){u.target.paused(!0),u.vars.time!=u.target.time()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||u,n.onStartParams||i)},u},n.tweenFromTo=function(e,t,n){return n=n||{},n.startAt={time:this._parseTimeOrLabel(e,!1)},e=this.tweenTo(t,n),e.duration(Math.abs(e.vars.time-e.vars.startAt.time)/this._timeScale||.001)},n.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,s=this._time,o=this._totalTime,u=this._startTime,a=this._timeScale,f=this._rawPrevTime,l=this._paused,c=this._cycle,h,p;if(e>=r)this._locked||(this._totalTime=r,this._cycle=this._repeat),!this._reversed&&!this._hasPausedChild()&&(h=!0,p="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime))&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e,this._yoyo&&0!==(this._cycle&1)?(this._time=0,e=-0.000001):(this._time=this._duration,e=this._duration+1e-6);else if(0>=e){this._locked||(this._totalTime=this._cycle=0),this._time=0;if(0!==s||0===this._duration&&0<this._rawPrevTime)p="onReverseComplete",h=this._reversed;0>e?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&(n=!0)):this._initted||(n=!0),this._rawPrevTime=e,e=-0.000001}else if(this._time=this._rawPrevTime=e,!this._locked&&(this._totalTime=e,0!==this._repeat))(e=this._duration+this._repeatDelay,this._cycle=this._totalTime/e>>0,0!==this._cycle&&this._cycle===this._totalTime/e&&this._cycle--,this._time=this._totalTime-this._cycle*e,this._yoyo&&0!=(this._cycle&1)&&(this._time=this._duration-this._time),this._time>this._duration)?(this._time=this._duration,e=this._duration+1e-6):0>this._time?(this._time=0,e=-0.000001):e=this._time;if(this._cycle!==c&&!this._locked){var d=this._yoyo&&0!==(c&1),v=d===(this._yoyo&&0!==(this._cycle&1)),m=this._totalTime,g=this._cycle,y=this._rawPrevTime,b=this._time;this._totalTime=c*this._duration,this._cycle<c?d=!d:this._totalTime+=this._duration,this._time=s,this._rawPrevTime=f,this._cycle=c,this._locked=!0,s=d?0:this._duration,this.render(s,t,!1),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i),v&&(s=d?this._duration+1e-6:-0.000001,this.render(s,!0,!1)),this._time=b,this._totalTime=m,this._cycle=g,this._rawPrevTime=y,this._locked=!1}if(this._time!==s||n){this._initted||(this._initted=!0),0===o&&this.vars.onStart&&0!==this._totalTime&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i));if(this._time>s)for(n=this._first;n;){o=n._next;if(this._paused&&!l)break;if(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=o}else for(n=this._last;n;){o=n._prev;if(this._paused&&!l)break;if(n._active||n._startTime<=s&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=o}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),p&&!this._locked&&!this._gc&&(u===this._startTime||a!=this._timeScale)&&(0===this._time||r>=this.totalDuration())&&(h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[p]&&this.vars[p].apply(this.vars[p+"Scope"]||this,this.vars[p+"Params"]||i))}},n.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r=[],e=this.getChildren(e,t,n),t=0,n=e.length,i,s;for(i=0;i<n;i++)if(s=e[i],!s._paused&&s._timeline._time>=s._startTime&&s._timeline._time<s._startTime+s._totalDuration/s._timeScale){var o;e:{for(o=s._timeline;o;){if(o._paused){o=!0;break e}o=o._timeline}o=!1}o||(r[t++]=s)}return r},n.getLabelAfter=function(e){!e&&0!==e&&(e=this._time);var t=this.getLabelsArray(),n=t.length,r;for(r=0;r<n;r++)if(t[r].time>e)return t[r].name;return null},n.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;-1<--n;)if(t[n].time<e)return t[n].name;return null},n.getLabelsArray=function(){var e=[],t=0,n;for(n in this._labels)e[t++]={time:this._labels[n],name:n};return e.sort(function(e,t){return e.time-t.time}),e},n.progress=function(e){return arguments.length?this.totalTime(this.duration()*e+this._cycle*this._duration,!1):this._time/this.duration()},n.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},n.totalDuration=function(t){return arguments.length?-1==this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},n.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(this._cycle&1)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!=this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},n.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},n.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},n.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),_gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=1==this.vars.autoRemoveChildren,this.smoothChildTiming=1==this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;for(var e=i.length,n,r;-1<--e;)if(r=this.vars[i[e]])for(n=r.length;-1<--n;)"{self}"===r[n]&&(r=this.vars[i[e]]=r.concat(),r[n]=this);this.vars.tweens instanceof Array&&this.insertMultiple(this.vars.tweens,0,this.vars.align||"normal",this.vars.stagger||0)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=r.prototype=new t;return o.constructor=r,o.kill()._gc=!1,o.to=function(e,t,r,i,s){return this.insert(new n(e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.from=function(e,t,r,i,s){return this.insert(n.from(e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.fromTo=function(e,t,r,i,s,o){return this.insert(n.fromTo(e,t,r,i),this._parseTimeOrLabel(o)+(s||0))},o.staggerTo=function(e,t,i,s,o,u,a,l,c){a=new r({onComplete:a,onCompleteParams:l,onCompleteScope:c}),s=s||0;for(l=0;l<e.length;l++)a.insert(new n(e[l],t,i),l*s);return this.insert(a,this._parseTimeOrLabel(u)+(o||0))},o.staggerFrom=function(e,t,n,r,i,s,o,u,a){return null==n.immediateRender&&(n.immediateRender=!0),n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u,a)},o.staggerFromTo=function(e,t,n,r,i,s,o,u,a,f){return r.startAt=n,n.immediateRender&&(r.immediateRender=!0),this.staggerTo(e,t,r,i,s,o,u,a,f)},o.call=function(e,t,r,i,s){return this.insert(n.delayedCall(0,e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.set=function(e,t,r,i){return t.immediateRender=!1,this.insert(new n(e,0,t),this._parseTimeOrLabel(i)+(r||0))},r.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var i=new r(e),s=i._timeline;null==t&&(t=!0),s._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=s._time;for(var o=s._first,u;o;)u=o._next,(!t||!(o instanceof n&&o.target==o.vars.onComplete))&&i.insert(o,o._startTime-o._delay),o=u;return s.insert(i,0),i},o.insert=function(r,i){if(!(r instanceof e)){if(r instanceof Array)return this.insertMultiple(r,i);if("string"==typeof r)return this.addLabel(r,this._parseTimeOrLabel(i||0,!0));if("function"!=typeof r)throw"ERROR: Cannot insert() "+r+" into the TimelineLite/Max because it is neither a tween, timeline, function, nor a String.";r=n.delayedCall(0,r)}t.prototype.insert.call(this,r,this._parseTimeOrLabel(i||0,!0));if(this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(var s=this;s._gc&&s._timeline;)s._timeline.smoothChildTiming?s.totalTime(s._totalTime,!0):s._enabled(!0,!1),s=s._timeline;return this},o.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){for(var n=t.length;-1<--n;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},o.append=function(e,t){return this.insert(e,this.duration()+(t||0))},o.insertMultiple=function(e,t,n,i){for(var n=n||"normal",i=i||0,s,o=this._parseTimeOrLabel(t||0,!0),u=e.length,t=0;t<u;t++)(s=e[t])instanceof Array&&(s=new r({tweens:s})),this.insert(s,o),"string"==typeof s||"function"==typeof s||("sequence"===n?o=s._startTime+s.totalDuration()/s._timeScale:"start"===n&&(s._startTime-=s.delay())),o+=i;return this._uncache(!0)},o.appendMultiple=function(e,t,n,r){return this.insertMultiple(e,this.duration()+(t||0),n,r)},o.addLabel=function(e,t){return this._labels[e]=t,this},o.removeLabel=function(e){return delete this._labels[e],this},o.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},o._parseTimeOrLabel=function(e,t){return null==e?this.duration():"string"==typeof e&&isNaN(e)?null==this._labels[e]?t?this._labels[e]=this.duration():0:this._labels[e]:Number(e)},o.seek=function(e,t){return this.totalTime(this._parseTimeOrLabel(e,!1),0!=t)},o.stop=function(){return this.paused(!0)},o.gotoAndPlay=function(e,n){return t.prototype.play.call(this,e,n)},o.gotoAndStop=function(e,t){return this.pause(e,t)},o.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._startTime,u=this._timeScale,a=this._paused,f,l,c;if(e>=r)this._totalTime=this._time=r,!this._reversed&&!this._hasPausedChild()&&(f=!0,c="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime))&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e,e=r+1e-6;else if(0>=e){this._totalTime=this._time=0;if(0!==i||0===this._duration&&0<this._rawPrevTime)c="onReverseComplete",f=this._reversed;0>e?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&(n=!0)):this._initted||(n=!0),this._rawPrevTime=e,e=-0.000001}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==i||n){this._initted||(this._initted=!0),0===i&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));if(this._time>i)for(n=this._first;n;){l=n._next;if(this._paused&&!a)break;if(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=l}else for(n=this._last;n;){l=n._prev;if(this._paused&&!a)break;if(n._active||n._startTime<=i&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=l}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),c&&!this._gc&&(o===this._startTime||u!=this._timeScale)&&(0===this._time||r>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[c]&&this.vars[c].apply(this.vars[c+"Scope"]||this,this.vars[c+"Params"]||s))}},o._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},o.getChildren=function(e,t,r,i){for(var i=i||-9999999999,s=[],o=this._first,u=0;o;)o._startTime<i||(o instanceof n?0!=t&&(s[u++]=o):(0!=r&&(s[u++]=o),0!=e&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},o.getTweensOf=function(e,t){for(var r=n.getTweensOf(e),i=r.length,s=[],o=0;-1<--i;)if(r[i].timeline===this||t&&this._contains(r[i]))s[o++]=r[i];return s},o._contains=function(e){for(e=e.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},o.shiftChildren=function(e,t,n){for(var n=n||0,r=this._first;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(var i in this._labels)this._labels[i]>=n&&(this._labels[i]+=e);return this._uncache(!0)},o._kill=function(e,t){if(null==e&&null==t)return this._enabled(!1,!1);for(var n=null==t?this.getChildren(!0,!0,!1):this.getTweensOf(t),r=n.length,i=!1;-1<--r;)n[r]._kill(e,t)&&(i=!0);return i},o.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;-1<--n;)t[n]._enabled(!1,!1);return 0!=e&&(this._labels={}),this._uncache(!0)},o.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},o._enabled=function(e,n){if(e==this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},o.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},o.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},o.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t=0,n=this._first,r=-999999999999,i;n;)i=n._next,n._startTime<r&&this._sortChildren?this.insert(n,n._startTime-n._delay):r=n._startTime,0>n._startTime&&(t-=n._startTime,this.shiftChildren(-n._startTime,!1,-9999999999)),n=n._startTime+(n._dirty?n.totalDuration():n._totalDuration)/n._timeScale,n>t&&(t=n),n=i;this._duration=this._totalDuration=t,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},o.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},o.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0)}),window._gsDefine&&_gsQueue.pop()(),define("TimelineMax.min",function(){}),(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=1==this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0},i=r.prototype=n.to({},.1,{}),s=[];i.constructor=r,i.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=n.killTweensOf,r.getTweensOf=n.getTweensOf,r.ticker=n.ticker,i.invalidate=function(){return this._yoyo=1==this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},i.updateTo=function(e,t){var r=this.ratio,i;t&&null!=this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in e)this.vars[i]=e[i];if(this._initted)if(t)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),.998<this._time/this._duration)r=this._time,this.render(0,!0,!1),this._initted=!1,this.render(r,!0,!1);else if(0<this._time){this._initted=!1,this._init(),r=1/(1-r),i=this._firstPT;for(var s;i;)s=i.s+i.c,i.c*=r,i.s=s-i.c,i=i._next}return this},i.render=function(e,t,n){var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._totalTime,u=this._cycle,a,f;if(e>=r){if(this._totalTime=r,this._cycle=this._repeat,this._yoyo&&0!==(this._cycle&1)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(a=!0,f="onComplete"),0===this._duration)(0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e}else if(0>=e){this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==o||0===this._duration&&0<this._rawPrevTime)f="onReverseComplete",a=this._reversed;0>e?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else if(this._totalTime=this._time=e,0!==this._repeat&&((e=this._duration+this._repeatDelay,this._cycle=this._totalTime/e>>0,0!==this._cycle&&this._cycle===this._totalTime/e&&this._cycle--,this._time=this._totalTime-this._cycle*e,this._yoyo&&0!==(this._cycle&1)&&(this._time=this._duration-this._time),this._time>this._duration)?this._time=this._duration:0>this._time&&(this._time=0)),this._easeType){var e=this._time/this._duration,r=this._easeType,l=this._easePower;if(1===r||3===r&&.5<=e)e=1-e;3===r&&(e*=2),1===l?e*=e:2===l?e*=e*e:3===l?e*=e*e*e:4===l&&(e*=e*e*e*e),this.ratio=1===r?1-e:2===r?e:.5>this._time/this._duration?e/2:1-e/2}else this.ratio=this._ease.getRatio(this._time/this._duration);if(i!==this._time||n){this._initted||(this._init(),!a&&this._time&&(this.ratio=this._ease.getRatio(this._time/this._duration))),!this._active&&!this._paused&&(this._active=!0),0==o&&this.vars.onStart&&(0!==this._totalTime||0===this._duration)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));for(n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),this._cycle!=u&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||s)),f&&!this._gc&&(a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[f]&&this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||s))}},r.to=function(e,t,n){return new r(e,t,n)},r.from=function(e,t,n){return n.runBackwards=!0,0!=n.immediateRender&&(n.immediateRender=!0),new r(e,t,n)},r.fromTo=function(e,t,n,i){return i.startAt=n,n.immediateRender&&(i.immediateRender=!0),new r(e,t,i)},r.staggerTo=r.allTo=function(e,t,n,i,s,o,u){var i=i||0,a=[],f=e.length,l=n.delay||0,c,h,p;for(h=0;h<f;h++){c={};for(p in n)c[p]=n[p];c.delay=l,h===f-1&&s&&(c.onComplete=function(){n.onComplete&&n.onComplete.apply(n.onCompleteScope,n.onCompleteParams),s.apply(u,o)}),a[h]=new r(e[h],t,c),l+=i}return a},r.staggerFrom=r.allFrom=function(e,t,n,i,s,o,u){return n.runBackwards=!0,0!=n.immediateRender&&(n.immediateRender=!0),r.staggerTo(e,t,n,i,s,o,u)},r.staggerFromTo=r.allFromTo=function(e,t,n,i,s,o,u,a){return i.startAt=n,n.immediateRender&&(i.immediateRender=!0),r.staggerTo(e,t,i,s,o,u,a)},r.delayedCall=function(e,t,n,i,s){return new r(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:i,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:i,immediateRender:!1,useFrames:s,overwrite:0})},r.set=function(e,t){return new r(e,0,t)},r.isTweening=function(e){for(var e=n.getTweensOf(e),t=e.length,r;-1<--t;)if((r=e[t])._active||r._startTime===r.timeline._time&&r.timeline._active)return!0;return!1};var o=function(e,t){for(var r=[],i=0,s=e._first;s;)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(o(s,t)),i=r.length),s=s._next;return r},u=r.getAllTweens=function(t){return o(e._rootTimeline,t).concat(o(e._rootFramesTimeline,t))};r.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);for(var s=u(0!=i),o=s.length,i=n&&r&&i,a,f;-1<--o;)if(f=s[o],i||f instanceof t||(a=f.target===f.vars.onComplete)&&r||n&&!a)e?f.totalTime(f.totalDuration()):f._enabled(!1,!1)},r.pauseAll=function(e,t,n){a(!0,e,t,n)},r.resumeAll=function(e,t,n){a(!1,e,t,n)};var a=function(e,n,r,i){void 0==n&&(n=!0),void 0==r&&(r=!0);for(var s=u(i),i=n&&r&&i,o=s.length,a,f;-1<--o;)f=s[o],(i||f instanceof t||(a=f.target===f.vars.onComplete)&&r||n&&!a)&&f.paused(e)};return i.progress=function(e){return arguments.length?this.totalTime(this.duration()*e+this._cycle*this._duration,!1):this._time/this.duration()},i.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},i.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(this._cycle&1)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!=this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},i.totalDuration=function(e){return arguments.length?-1==this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},i.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},i.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},i.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},r},!0),_gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=1==this.vars.autoRemoveChildren,this.smoothChildTiming=1==this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;for(var e=i.length,n,r;-1<--e;)if(r=this.vars[i[e]])for(n=r.length;-1<--n;)"{self}"===r[n]&&(r=this.vars[i[e]]=r.concat(),r[n]=this);this.vars.tweens instanceof Array&&this.insertMultiple(this.vars.tweens,0,this.vars.align||"normal",this.vars.stagger||0)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=r.prototype=new t;return o.constructor=r,o.kill()._gc=!1,o.to=function(e,t,r,i,s){return this.insert(new n(e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.from=function(e,t,r,i,s){return this.insert(n.from(e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.fromTo=function(e,t,r,i,s,o){return this.insert(n.fromTo(e,t,r,i),this._parseTimeOrLabel(o)+(s||0))},o.staggerTo=function(e,t,i,s,o,u,a,f,l){a=new r({onComplete:a,onCompleteParams:f,onCompleteScope:l}),s=s||0;for(f=0;f<e.length;f++)a.insert(new n(e[f],t,i),f*s);return this.insert(a,this._parseTimeOrLabel(u)+(o||0))},o.staggerFrom=function(e,t,n,r,i,s,o,u,a){return null==n.immediateRender&&(n.immediateRender=!0),n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u,a)},o.staggerFromTo=function(e,t,n,r,i,s,o,u,a,f){return r.startAt=n,n.immediateRender&&(r.immediateRender=!0),this.staggerTo(e,t,r,i,s,o,u,a,f)},o.call=function(e,t,r,i,s){return this.insert(n.delayedCall(0,e,t,r),this._parseTimeOrLabel(s)+(i||0))},o.set=function(e,t,r,i){return t.immediateRender=!1,this.insert(new n(e,0,t),this._parseTimeOrLabel(i)+(r||0))},r.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var i=new r(e),s=i._timeline;null==t&&(t=!0),s._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=s._time;for(var o=s._first,u;o;)u=o._next,(!t||!(o instanceof n&&o.target==o.vars.onComplete))&&i.insert(o,o._startTime-o._delay),o=u;return s.insert(i,0),i},o.insert=function(r,i){if(!(r instanceof e)){if(r instanceof Array)return this.insertMultiple(r,i);if("string"==typeof r)return this.addLabel(r,this._parseTimeOrLabel(i||0,!0));if("function"!=typeof r)throw"ERROR: Cannot insert() "+r+" into the TimelineLite/Max because it is neither a tween, timeline, function, nor a String.";r=n.delayedCall(0,r)}t.prototype.insert.call(this,r,this._parseTimeOrLabel(i||0,!0));if(this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(var s=this;s._gc&&s._timeline;)s._timeline.smoothChildTiming?s.totalTime(s._totalTime,!0):s._enabled(!0,!1),s=s._timeline;return this},o.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){for(var n=t.length;-1<--n;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},o.append=function(e,t){return this.insert(e,this.duration()+(t||0))},o.insertMultiple=function(e,t,n,i){for(var n=n||"normal",i=i||0,s,o=this._parseTimeOrLabel(t||0,!0),u=e.length,t=0;t<u;t++)(s=e[t])instanceof Array&&(s=new r({tweens:s})),this.insert(s,o),"string"==typeof s||"function"==typeof s||("sequence"===n?o=s._startTime+s.totalDuration()/s._timeScale:"start"===n&&(s._startTime-=s.delay())),o+=i;return this._uncache(!0)},o.appendMultiple=function(e,t,n,r){return this.insertMultiple(e,this.duration()+(t||0),n,r)},o.addLabel=function(e,t){return this._labels[e]=t,this},o.removeLabel=function(e){return delete this._labels[e],this},o.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},o._parseTimeOrLabel=function(e,t){return null==e?this.duration():"string"==typeof e&&isNaN(e)?null==this._labels[e]?t?this._labels[e]=this.duration():0:this._labels[e]:Number(e)},o.seek=function(e,t){return this.totalTime(this._parseTimeOrLabel(e,!1),0!=t)},o.stop=function(){return this.paused(!0)},o.gotoAndPlay=function(e,n){return t.prototype.play.call(this,e,n)},o.gotoAndStop=function(e,t){return this.pause(e,t)},o.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._startTime,u=this._timeScale,a=this._paused,f,l,c;if(e>=r)this._totalTime=this._time=r,!this._reversed&&!this._hasPausedChild()&&(f=!0,c="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime))&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e,e=r+1e-6;else if(0>=e){this._totalTime=this._time=0;if(0!==i||0===this._duration&&0<this._rawPrevTime)c="onReverseComplete",f=this._reversed;0>e?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&(n=!0)):this._initted||(n=!0),this._rawPrevTime=e,e=-0.000001}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==i||n){this._initted||(this._initted=!0),0===i&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));if(this._time>i)for(n=this._first;n;){l=n._next;if(this._paused&&!a)break;if(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=l}else for(n=this._last;n;){l=n._prev;if(this._paused&&!a)break;if(n._active||n._startTime<=i&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=l}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),c&&!this._gc&&(o===this._startTime||u!=this._timeScale)&&(0===this._time||r>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[c]&&this.vars[c].apply(this.vars[c+"Scope"]||this,this.vars[c+"Params"]||s))}},o._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},o.getChildren=function(e,t,r,i){for(var i=i||-9999999999,s=[],o=this._first,u=0;o;)o._startTime<i||(o instanceof n?0!=t&&(s[u++]=o):(0!=r&&(s[u++]=o),0!=e&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},o.getTweensOf=function(e,t){for(var r=n.getTweensOf(e),i=r.length,s=[],o=0;-1<--i;)if(r[i].timeline===this||t&&this._contains(r[i]))s[o++]=r[i];return s},o._contains=function(e){for(e=e.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},o.shiftChildren=function(e,t,n){for(var n=n||0,r=this._first;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(var i in this._labels)this._labels[i]>=n&&(this._labels[i]+=e);return this._uncache(!0)},o._kill=function(e,t){if(null==e&&null==t)return this._enabled(!1,!1);for(var n=null==t?this.getChildren(!0,!0,!1):this.getTweensOf(t),r=n.length,i=!1;-1<--r;)n[r]._kill(e,t)&&(i=!0);return i},o.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;-1<--n;)t[n]._enabled(!1,!1);return 0!=e&&(this._labels={}),this._uncache(!0)},o.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},o._enabled=function(e,n){if(e==this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},o.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},o.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},o.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t=0,n=this._first,r=-999999999999,i;n;)i=n._next,n._startTime<r&&this._sortChildren?this.insert(n,n._startTime-n._delay):r=n._startTime,0>n._startTime&&(t-=n._startTime,this.shiftChildren(-n._startTime,!1,-9999999999)),n=n._startTime+(n._dirty?n.totalDuration():n._totalDuration)/n._timeScale,n>t&&(t=n),n=i;this._duration=this._totalDuration=t,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},o.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},o.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),_gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=1==this.vars.yoyo,this._dirty=!0},i=[],s=new n(null,null,1,0),n=r.prototype=new e;return n.constructor=r,n.kill()._gc=!1,r.version=12,n.invalidate=function(){return this._yoyo=1==this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},n.addCallback=function(e,n,r,i){return this.insert(t.delayedCall(0,e,r,i),n)},n.removeCallback=function(e,t){if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t,!1);-1<--r;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},n.tweenTo=function(e,n){var n=n||{},r={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1},o,u;for(o in n)r[o]=n[o];return r.time=this._parseTimeOrLabel(e,!1),u=new t(this,Math.abs(Number(r.time)-this._time)/this._timeScale||.001,r),r.onStart=function(){u.target.paused(!0),u.vars.time!=u.target.time()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||u,n.onStartParams||i)},u},n.tweenFromTo=function(e,t,n){return n=n||{},n.startAt={time:this._parseTimeOrLabel(e,!1)},e=this.tweenTo(t,n),e.duration(Math.abs(e.vars.time-e.vars.startAt.time)/this._timeScale||.001)},n.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,s=this._time,o=this._totalTime,u=this._startTime,a=this._timeScale,f=this._rawPrevTime,l=this._paused,c=this._cycle,h,p;if(e>=r)this._locked||(this._totalTime=r,this._cycle=this._repeat),!this._reversed&&!this._hasPausedChild()&&(h=!0,p="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime))&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e,this._yoyo&&0!==(this._cycle&1)?(this._time=0,e=-0.000001):(this._time=this._duration,e=this._duration+1e-6);else if(0>=e){this._locked||(this._totalTime=this._cycle=0),this._time=0;if(0!==s||0===this._duration&&0<this._rawPrevTime)p="onReverseComplete",h=this._reversed;0>e?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&(n=!0)):this._initted||(n=!0),this._rawPrevTime=e,e=-0.000001}else if(this._time=this._rawPrevTime=e,!this._locked&&(this._totalTime=e,0!==this._repeat))(e=this._duration+this._repeatDelay,this._cycle=this._totalTime/e>>0,0!==this._cycle&&this._cycle===this._totalTime/e&&this._cycle--,this._time=this._totalTime-this._cycle*e,this._yoyo&&0!=(this._cycle&1)&&(this._time=this._duration-this._time),this._time>this._duration)?(this._time=this._duration,e=this._duration+1e-6):0>this._time?(this._time=0,e=-0.000001):e=this._time;if(this._cycle!==c&&!this._locked){var d=this._yoyo&&0!==(c&1),v=d===(this._yoyo&&0!==(this._cycle&1)),m=this._totalTime,g=this._cycle,y=this._rawPrevTime,b=this._time;this._totalTime=c*this._duration,this._cycle<c?d=!d:this._totalTime+=this._duration,this._time=s,this._rawPrevTime=f,this._cycle=c,this._locked=!0,s=d?0:this._duration,this.render(s,t,!1),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i),v&&(s=d?this._duration+1e-6:-0.000001,this.render(s,!0,!1)),this._time=b,this._totalTime=m,this._cycle=g,this._rawPrevTime=y,this._locked=!1}if(this._time!==s||n){this._initted||(this._initted=!0),0===o&&this.vars.onStart&&0!==this._totalTime&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i));if(this._time>s)for(n=this._first;n;){o=n._next;if(this._paused&&!l)break;if(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=o}else for(n=this._last;n;){o=n._prev;if(this._paused&&!l)break;if(n._active||n._startTime<=s&&!n._paused&&!n._gc)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=o}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),p&&!this._locked&&!this._gc&&(u===this._startTime||a!=this._timeScale)&&(0===this._time||r>=this.totalDuration())&&(h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[p]&&this.vars[p].apply(this.vars[p+"Scope"]||this,this.vars[p+"Params"]||i))}},n.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r=[],e=this.getChildren(e,t,n),t=0,n=e.length,i,s;for(i=0;i<n;i++)if(s=e[i],!s._paused&&s._timeline._time>=s._startTime&&s._timeline._time<s._startTime+s._totalDuration/s._timeScale){var o;e:{for(o=s._timeline;o;){if(o._paused){o=!0;break e}o=o._timeline}o=!1}o||(r[t++]=s)}return r},n.getLabelAfter=function(e){!e&&0!==e&&(e=this._time);var t=this.getLabelsArray(),n=t.length,r;for(r=0;r<n;r++)if(t[r].time>e)return t[r].name;return null},n.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;-1<--n;)if(t[n].time<e)return t[n].name;return null},n.getLabelsArray=function(){var e=[],t=0,n;for(n in this._labels)e[t++]={time:this._labels[n],name:n};return e.sort(function(e,t){return e.time-t.time}),e},n.progress=function(e){return arguments.length?this.totalTime(this.duration()*e+this._cycle*this._duration,!1):this._time/this.duration()},n.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},n.totalDuration=function(t){return arguments.length?-1==this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},n.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(this._cycle&1)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!=this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},n.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},n.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},n.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),_gsDefine("plugins.BezierPlugin",["plugins.TweenPlugin"],function(e){var t=function(){e.call(this,"bezier",-1),this._overwriteProps.pop(),this._func={},this._round={}},n=t.prototype=new e("bezier",1),i=180/Math.PI,s=[],o=[],u=[],f={},c=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},h=t.bezierThrough=function(e,t,n,i,h,v){var m={},g=[],y,b,h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";null==t&&(t=1);for(b in e[0])g.push(b);s.length=o.length=u.length=0;for(y=g.length;-1<--y;){b=g[y],f[b]=-1!==h.indexOf(","+b+",");var w=m,E=b,S;S=e;var x=b,T=f[b],N=v,C=[],k=void 0,L=void 0,A=void 0,O=void 0,M=void 0,k=void 0;if(N){S=[N].concat(S);for(L=S.length;-1<--L;)"string"==typeof (k=S[L][x])&&"="===k.charAt(1)&&(S[L][x]=N[x]+Number(k.charAt(0)+k.substr(2)))}k=S.length-2;if(0>k)C[0]=new c(S[0][x],0,0,S[-1>k?0:1][x]);else{for(L=0;L<k;L++)A=S[L][x],O=S[L+1][x],C[L]=new c(A,0,0,O),T&&(M=S[L+2][x],s[L]=(s[L]||0)+(O-A)*(O-A),o[L]=(o[L]||0)+(M-O)*(M-O));C[L]=new c(S[L][x],0,0,S[L+1][x])}S=C,w[E]=S}for(y=s.length;-1<--y;)s[y]=Math.sqrt(s[y]),o[y]=Math.sqrt(o[y]);if(!i){for(y=g.length;-1<--y;)if(f[b]){a=m[g[y]],l=a.length-1;for(j=0;j<l;j++)r=a[j+1].da/o[j]+a[j].da/s[j],u[j]=(u[j]||0)+r*r}for(y=u.length;-1<--y;)u[y]=Math.sqrt(u[y])}for(y=g.length;-1<--y;){b=g[y],e=m[b],h=t,v=n,w=i,b=f[b],E=e.length-1,S=0;for(var x=e[0].a,_=M=O=N=k=O=A=k=L=A=C=N=T=void 0,T=0;T<E;T++)L=e[S],N=L.a,C=L.d,A=e[S+1].d,b?(O=s[T],M=o[T],_=.25*(M+O)*h/(w?.5:u[T]||.5),k=C-(C-N)*(w?.5*h:_/O),A=C+(A-C)*(w?.5*h:_/M),O=C-(k+(A-k)*(3*O/(O+M)+.5)/4)):(k=C-.5*(C-N)*h,A=C+.5*(A-C)*h,O=C-(k+A)/2),k+=O,A+=O,L.c=k,L.b=0!=T?x:x=L.a+.6*(L.c-L.a),L.da=C-N,L.ca=k-N,L.ba=x-N,v?(N=p(N,x,k,C),e.splice(S,1,N[0],N[1],N[2],N[3]),S+=4):S++,x=A;L=e[S],L.b=x,L.c=x+.4*(L.d-x),L.da=L.d-L.a,L.ca=L.c-L.a,L.ba=x-L.a,v&&(N=p(L.a,x,L.c,L.d),e.splice(S,1,N[0],N[1],N[2],N[3]))}return m},p=t.cubicToQuadratic=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,n=(n+r)/2,t=(a+f)/2,f=(f+n)/2,l=(f-t)/8;return i.b=a+(e-a)/4,s.b=t+l,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(t+f)/2,o.b=f-l,u.b=n+(r-n)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]};return t.quadraticToCubic=function(e,t,n){return new c(e,(2*t+e)/3,(2*t+n)/3,n)},n.constructor=t,t.API=2,n._onInitTween=function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution);var r=t.values||[],i={},s=r[0],n=t.autoRotate||n.vars.orientToBezier,o,u,a;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",!0===n?0:Number(n)||0]]:null;for(o in s)this._props.push(o);for(s=this._props.length;-1<--s;)o=this._props[s],this._overwriteProps.push(o),n=this._func[o]="function"==typeof e[o],i[o]=n?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),a||i[o]!==r[0][o]&&(a=i);if("cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type)i=h(r,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a);else{n=(n=t.type)||"soft",t={},a="cubic"===n?3:2;var n="soft"===n,s=[],f,l,p,d,v,m,g,y,w;n&&i&&(r=[i].concat(r));if(null==r||r.length<a+1)throw"invalid Bezier data";for(l in r[0])s.push(l);for(m=s.length;-1<--m;){l=s[m],t[l]=v=[],w=0,y=r.length;for(g=0;g<y;g++)f=null==i?r[g][l]:"string"==typeof (p=r[g][l])&&"="===p.charAt(1)?i[l]+Number(p.charAt(0)+p.substr(2)):Number(p),n&&1<g&&g<y-1&&(v[w++]=(f+v[w-2])/2),v[w++]=f;y=w-a+1;for(g=w=0;g<y;g+=a)f=v[g],l=v[g+1],p=v[g+2],d=2===a?0:v[g+3],v[w++]=p=3===a?new c(f,l,p,d):new c(f,(2*l+f)/3,(2*l+p)/3,p);v.length=w}i=t}this._beziers=i,this._segCount=this._beziers[o].length;if(this._timeRes){s=this._beziers,o=this._timeRes,o=o>>0||6,i=[],l=[],r=p=0,t=o-1,a=[],n=[];for(u in s){f=s[u],v=i,m=o,g=1/m,y=f.length;for(var E=void 0,S=void 0,x=d=w=S=void 0,T=E=void 0,N=void 0,N=x=void 0;-1<--y;){x=f[y],S=x.a,w=x.d-S,d=x.c-S,x=x.b-S,S=0;for(T=1;T<=m;T++)E=g*T,N=1-E,E=S-(S=(E*E*w+3*N*(E*d+N*x))*E),N=y*m+T-1,v[N]=(v[N]||0)+E*E}}s=i.length;for(u=0;u<s;u++)p+=Math.sqrt(i[u]),f=u%o,n[f]=p,f===t&&(r+=p,f=u/o>>0,a[f]=n,l[f]=r,p=0,n=[]);this._length=r,this._lengths=l,this._segments=a,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate){n[0]instanceof Array||(this._autoRotate=n=[n]);for(s=n.length;-1<--s;)for(u=0;3>u;u++)o=n[s][u],this._func[o]="function"==typeof e[o]?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]:!1}return!0},n.setRatio=function(e){var t=this._segCount,n=this._func,r=this._target,s,o,u,a,f;if(this._timeRes){s=this._lengths,a=this._curSeg,e*=this._length,o=this._li;if(e>this._l2&&o<t-1){for(t-=1;o<t&&(this._l2=s[++o])<=e;);this._l1=s[o-1],this._li=o,this._curSeg=a=this._segments[o],this._s2=a[this._s1=this._si=0]}else if(e<this._l1&&0<o){for(;0<o&&(this._l1=s[--o])>=e;);0===o&&e<this._l1?this._l1=0:o++,this._l2=s[o],this._li=o,this._curSeg=a=this._segments[o],this._s1=a[(this._si=a.length-1)-1]||0,this._s2=a[this._si]}s=o,e-=this._l1,o=this._si;if(e>this._s2&&o<a.length-1){for(t=a.length-1;o<t&&(this._s2=a[++o])<=e;);this._s1=a[o-1],this._si=o}else if(e<this._s1&&0<o){for(;0<o&&(this._s1=a[--o])>=e;);0===o&&e<this._s1?this._s1=0:o++,this._s2=a[o],this._si=o}a=(o+(e-this._s1)/(this._s2-this._s1))*this._prec}else s=0>e?0:1<=e?t-1:t*e>>0,a=(e-s*(1/t))*t;t=1-a;for(o=this._props.length;-1<--o;)(e=this._props[o],u=this._beziers[e][s],f=(a*a*u.da+3*t*(a*u.ca+t*u.ba))*a+u.a,this._round[e]&&(f=f+(0<f?.5:-0.5)>>0),n[e])?r[e](f):r[e]=f;if(this._autoRotate){var t=this._autoRotate,l,c,h,p,d;for(o=t.length;-1<--o;)e=t[o][2],p=t[o][3]||0,d=1==t[o][4]?1:i,u=this._beziers[t[o][0]][s],f=this._beziers[t[o][1]][s],l=u.a+(u.b-u.a)*a,c=u.b+(u.c-u.b)*a,l+=(c-l)*a,c+=(u.c+(u.d-u.c)*a-c)*a,u=f.a+(f.b-f.a)*a,h=f.b+(f.c-f.b)*a,u+=(h-u)*a,h+=(f.c+(f.d-f.c)*a-h)*a,f=Math.atan2(h-u,c-l)*d+p,n[e]?n[e].call(r,f):r[e]=f}},n._roundProps=function(e,t){for(var n=this._overwriteProps,r=n.length;-1<--r;)if(e[n[r]]||e.bezier||e.bezierThrough)this._round[n[r]]=t},n._kill=function(t){var n=this._props,r,i;for(r in _beziers)if(r in t){delete this._beziers[r],delete this._func[r];for(i=n.length;-1<--i;)n[i]===r&&n.splice(i,1)}return e.prototype._kill.call(this,t)},e.activate([t]),t},!0),_gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e){var t=function(){e.call(this,"css"),this._overwriteProps.pop()},n=t.prototype=new e("css");n.constructor=t,t.API=2,t.suffixMap={top:"px",right:"px",bottom:"px",left:"px",width:"px",height:"px",fontSize:"px",padding:"px",margin:"px"};var r=/[^\d\-\.]/g,i=/(\d|\-|\+|=|#|\.)*/g,s=/(\d|\.)+/g,o=/opacity *= *([^)]*)/,u=/opacity:([^;]*)/,a=/([A-Z])/g,f=/-([a-z])/gi,l=function(e,t){return t.toUpperCase()},c=/(Left|Right|Width)/i,h=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,p=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,d=Math.PI/180,v=180/Math.PI,m={},g=document.createElement("div"),y,b,w=document.createElement("div"),E;w.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",b=(E=w.getElementsByTagName("a")[0])?/^0.55/.test(E.style.opacity):!1;var S;/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent),S=parseFloat(RegExp.$1);var x=function(e){return!e||""===e?z.black:z[e]?z[e]:"number"==typeof e?[e>>16,e>>8&255,e&255]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):e.match(s)||z.transparent},T=function(e){return o.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},N=document.defaultView?document.defaultView.getComputedStyle:function(){},C=function(e,t,n,r){return!b&&"opacity"===t?T(e):!r&&e.style[t]?e.style[t]:(n=n||N(e,null))?(e=n.getPropertyValue(t.replace(a,"-$1").toLowerCase()))||n.length?e:n[t]:e.currentStyle?e.currentStyle[t]:null},k=function(e,t){var n={},r;if(t=t||N(e,null))if(r=t.length)for(;-1<--r;)n[t[r].replace(f,l)]=t.getPropertyValue(t[r]);else for(r in t)n[r]=t[r];else if(t=e.currentStyle||e.style)for(r in t)n[r.replace(f,l)]=t[r];return b||(n.opacity=T(e)),r=B(e,t,!1),n.rotation=r.rotation*v,n.skewX=r.skewX*v,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,null!=n.filters&&delete n.filters,n},L=function(e,t,n,r){var i={},s,o;for(o in t)"cssText"!==o&&"length"!==o&&isNaN(o)&&e[o]!=(s=t[o])&&s!==O&&("number"==typeof s||"string"==typeof s)&&(i[o]=s,r&&r.props.push(o));if(n)for(o in n)"className"!==o&&(i[o]=n[o]);return i},A={scaleX:1,scaleY:1,x:1,y:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},O,M;w=document.body||document.documentElement,E=N(w,"");for(var _="O -o- Moz -moz- ms -ms- Webkit -webkit-".split(" "),D=9;-1<(D-=2)&&!C(w,_[D]+"transform",E););0<D?(O=_[D-1]+"Transform",M=_[D]):M=null;var w=navigator.userAgent,P=!1,H;E=w.indexOf("Android"),H=-1!==w.indexOf("Safari")&&-1===w.indexOf("Chrome")&&(-1===E||3<Number(w.substr(E+8,1)));var B=function(e,t,n){var r=e._gsTransform,i;O?i=C(e,M+"transform",t,!0):e.currentStyle&&(i=(i=e.currentStyle.filter.match(h))&&i.length===4?i[0].substr(4)+","+Number(i[2].substr(4))+","+Number(i[1].substr(4))+","+i[3].substr(4)+","+(r?r.x:0)+","+(r?r.y:0):null);var t=(i||"").replace(/[^\d\-\.e,]/g,"").split(","),s=(i=t.length>=6)?Number(t[0]):1,o=i?Number(t[1]):0,u=i?Number(t[2]):0,a=i?Number(t[3]):1,r=n?r||{skewY:0}:{skewY:0},f=r.scaleX<0;return r.x=i?Number(t[4]):0,r.y=i?Number(t[5]):0,r.scaleX=Math.sqrt(s*s+o*o),r.scaleY=Math.sqrt(a*a+u*u),r.rotation=s||o?Math.atan2(o,s):r.rotation||0,r.skewX=u||a?Math.atan2(u,a)+r.rotation:r.skewX||0,Math.abs(r.skewX)>Math.PI/2&&(f?(r.scaleX=r.scaleX*-1,r.skewX=r.skewX+(r.rotation<=0?Math.PI:-Math.PI),r.rotation=r.rotation+(r.rotation<=0?Math.PI:-Math.PI)):(r.scaleY=r.scaleY*-1,r.skewX=r.skewX+(r.skewX<=0?Math.PI:-Math.PI))),r.rotation<1e-6&&r.rotation>-0.000001&&(s||o)&&(r.rotation=0),r.skewX<1e-6&&r.skewX>-0.000001&&(o||u)&&(r.skewX=0),n&&(e._gsTransform=r),r},j={width:["Left","Right"],height:["Top","Bottom"]},F=["marginLeft","marginRight","marginTop","marginBottom"],I=function(e,t,n,r,i){if(r==="px"||!r)return n;if(r==="auto"||!n)return 0;var s=c.test(t),o=e,u=n<0;return u&&(n=-n),g.style.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;",r==="%"||r==="em"||!o.appendChild?(o=e.parentNode||document.body,g.style[s?"width":"height"]=n+r):g.style[s?"borderLeftWidth":"borderTopWidth"]=n+r,o.appendChild(g),s=parseFloat(g[s?"offsetWidth":"offsetHeight"]),o.removeChild(g),s===0&&!i&&(s=I(e,t,n,r,!0)),u?-s:s},q=function(e,t){if(e==null||e===""||e==="auto")e="0 0";var t=t||{},n=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":e.split(" ")[0],i=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":e.split(" ")[1];return i==null?i="0":i==="center"&&(i="50%"),n==="center"&&(n="50%"),t.oxp=n.indexOf("%")!==-1,t.oyp=i.indexOf("%")!==-1,t.oxr=n.charAt(1)==="=",t.oyr=i.charAt(1)==="=",t.ox=parseFloat(n.replace(r,"")),t.oy=parseFloat(i.replace(r,"")),t},R=function(e,t){return e==null?t:typeof e=="string"&&e.indexOf("=")===1?Number(e.split("=").join(""))+t:Number(e)},U=function(e,t){var n=e.indexOf("rad")===-1?d:1,i=e.indexOf("=")===1,e=Number(e.replace(r,""))*n;return i?e+t:e},z={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};return n._onInitTween=function(e,n,r){if(!e.nodeType)return!1;this._target=e,this._tween=r,this._classData=this._transform=null,y=n.autoRound;var i=this._style=e.style,s=N(e,""),o;return P&&i.zIndex===""&&(i.zIndex=0),typeof n=="string"?(o=i.cssText,r=k(e,s),i.cssText=o+";"+n,r=L(r,k(e)),!b&&u.test(n)&&(val.opacity=parseFloat(RegExp.$1)),n=r,i.cssText=o):n.className&&(o=e.className,this._classData={b:o,e:n.className.charAt(1)!=="="?n.className:n.className.charAt(0)==="+"?e.className+" "+n.className.substr(2):e.className.split(n.className.substr(2)).join(""),props:[]},r._duration?(r=k(e,s),e.className=this._classData.e,n=L(r,k(e),n,this._classData),e.className=o):n={}),this._parseVars(n,e,s,n.suffixMap||t.suffixMap),!0},n._parseVars=function(e,t,n,s){var o=this._style,u,a,f,l,c,h,p;for(u in e){a=e[u];if(u==="transform"||u===O)this._parseTransform(t,a,n,s);else if(A[u]||u==="transformOrigin")this._parseTransform(t,e,n,s);else{if(u==="alpha"||u==="autoAlpha")u="opacity";else{if(u==="margin"||u==="padding"){a=(a+"").split(" "),c=a.length,f={},f[u+"Top"]=a[0],f[u+"Right"]=c>1?a[1]:a[0],f[u+"Bottom"]=c===4?a[2]:a[0],f[u+"Left"]=c===4?a[3]:c===2?a[1]:a[0],this._parseVars(f,t,n,s);continue}if(u==="backgroundPosition"||u==="backgroundSize"){f=q(a),p=q(l=C(t,u,n)),this._firstPT=f={_next:this._firstPT,t:o,p:u,b:l,f:!1,n:"css_"+u,type:3,s:p.ox,c:f.oxr?f.ox:f.ox-p.ox,ys:p.oy,yc:f.oyr?f.oy:f.oy-p.oy,sfx:f.oxp?"%":"px",ysfx:f.oyp?"%":"px",r:!f.oxp&&e.autoRound!==!1},f.e=f.s+f.c+f.sfx+" "+(f.ys+f.yc)+f.ysfx;continue}if(u==="border"){a=(a+"").split(" "),this._parseVars({borderWidth:a[0],borderStyle:a[1]||"none",borderColor:a[2]||"#000000"},t,n,s);continue}if(u==="bezier"){this._parseBezier(a,t,n,s);continue}if(u==="autoRound")continue}l=C(t,u,n),l=l!=null?l+"":"",this._firstPT=f={_next:this._firstPT,t:o,p:u,b:l,f:!1,n:"css_"+u,sfx:"",r:!1,type:0},u==="opacity"&&e.autoAlpha!=null&&(l==="1"&&C(t,"visibility",n)==="hidden"&&(l=f.b="0"),this._firstPT=f._prev={_next:f,t:o,p:"visibility",f:!1,n:"css_visibility",r:!1,type:-1,b:Number(l)!==0?"visible":"hidden",i:"visible",e:Number(a)===0?"hidden":"visible"},this._overwriteProps.push("css_visibility")),c=typeof a=="string";if(u==="color"||u==="fill"||u==="stroke"||u.indexOf("Color")!==-1||c&&!a.indexOf("rgb(")){c=x(l),a=x(a),f.e=f.i=(a.length>3?"rgba(":"rgb(")+a.join(",")+")",f.b=(c.length>3?"rgba(":"rgb(")+c.join(",")+")",f.s=Number(c[0]),f.c=Number(a[0])-f.s,f.gs=Number(c[1]),f.gc=Number(a[1])-f.gs,f.bs=Number(c[2]),f.bc=Number(a[2])-f.bs,f.type=1;if(c.length>3||a.length>3)b?(f.as=c.length<4?1:Number(c[3]),f.ac=(a.length<4?1:Number(a[3]))-f.as,f.type=2):(a[3]==0&&(f.e=f.i="transparent",f.type=-1),c[3]==0&&(f.b="transparent"))}else{h=l.replace(i,"");if(l===""||l==="auto")if(u==="width"||u==="height"){var d=u;h=t,p=n,l=parseFloat(d==="width"?h.offsetWidth:h.offsetHeight);var d=j[d],v=d.length;for(p=p||N(h,null);--v>-1;)l-=parseFloat(C(h,"padding"+d[v],p,!0))||0,l-=parseFloat(C(h,"border"+d[v]+"Width",p,!0))||0;p=l,h="px"}else p=u!=="opacity"?0:1,h="";else p=l.indexOf(" ")===-1?parseFloat(l.replace(r,"")):NaN;c?(c=a.charAt(1)==="=",l=a.replace(i,""),a=a.indexOf(" ")===-1?parseFloat(a.replace(r,"")):NaN):(c=!1,l=""),l===""&&(l=s[u]||h),f.e=a||a===0?(c?a+p:a)+l:e[u],h!==l&&l!==""&&(a||a===0)&&(p||p===0)&&(p=I(t,u,p,h),l==="%"?(p/=I(t,u,100,"%")/100,p>100&&(p=100)):l==="em"?p/=I(t,u,1,"em"):(a=I(t,u,a,l),l="px"),c&&(a||a===0)&&(f.e=a+p+l)),!p&&p!==0||!a&&a!==0||!(f.c=c?a:a-p)?(f.type=-1,f.i=u==="display"&&f.e==="none"?f.b:f.e,f.s=f.c=0):(f.s=p,f.sfx=l,u==="opacity"?b||(f.type=4,f.p="filter",f.b="alpha(opacity="+f.s*100+")",f.e="alpha(opacity="+(f.s+f.c)*100+")",f.dup=e.autoAlpha!=null,this._style.zoom=1):y!==!1&&(l==="px"||u==="zIndex")&&(f.r=!0))}this._overwriteProps.push("css_"+u),f._next&&(f._next._prev=f)}}},n._parseTransform=function(e,t,n){if(!this._transform){var n=this._transform=B(e,n,!0),r=this._style,i,s;if(typeof t=="object"){e={scaleX:R(t.scaleX!=null?t.scaleX:t.scale,n.scaleX),scaleY:R(t.scaleY!=null?t.scaleY:t.scale,n.scaleY),x:R(t.x,n.x),y:R(t.y,n.y)},t.shortRotation!=null?(e.rotation=typeof t.shortRotation=="number"?t.shortRotation*d:U(t.shortRotation,n.rotation),i=(e.rotation-n.rotation)%(Math.PI*2),i!==i%Math.PI&&(i+=Math.PI*(i<0?2:-2)),e.rotation=n.rotation+i):e.rotation=t.rotation==null?n.rotation:typeof t.rotation=="number"?t.rotation*d:U(t.rotation,n.rotation),e.skewX=t.skewX==null?n.skewX:typeof t.skewX=="number"?t.skewX*d:U(t.skewX,n.skewX),e.skewY=t.skewY==null?n.skewY:typeof t.skewY=="number"?t.skewY*d:U(t.skewY,n.skewY);if(i=e.skewY-n.skewY)e.skewX=e.skewX+i,e.rotation=e.rotation+i;e.skewY<1e-6&&e.skewY>-0.000001&&(e.skewY=0),e.skewX<1e-6&&e.skewX>-0.000001&&(e.skewX=0),e.rotation<1e-6&&e.rotation>-0.000001&&(e.rotation=0),(t=t.transformOrigin)!=null&&(O?(s=O+"Origin",this._firstPT=t={_next:this._firstPT,t:r,p:s,s:0,c:0,n:s,f:!1,r:!1,b:r[s],e:t,i:t,type:-1,sfx:""},t._next&&(t._next._prev=t)):q(t,n))}else{if(typeof t!="string"||!O)return;i=r[O],r[O]=t,e=B(e,null,!1),r[O]=i}O?H&&(P=!0,r.WebkitBackfaceVisibility===""&&(r.WebkitBackfaceVisibility="hidden"),r.zIndex===""&&(r.zIndex=0)):r.zoom=1;for(s in A)(n[s]!==e[s]||m[s]!=null)&&s!=="shortRotation"&&s!=="scale"&&(this._firstPT=t={_next:this._firstPT,t:n,p:s,s:n[s],c:e[s]-n[s],n:s,f:!1,r:!1,b:n[s],e:e[s],type:0,sfx:0},t._next&&(t._next._prev=t),this._overwriteProps.push("css_"+s))}},n._parseBezier=function(e,t,n,r){if(window.com.greensock.plugins.BezierPlugin){e instanceof Array&&(e={values:e});var i=e.values||[],s=i.length,o=[],u=this._bezier={_pt:[]},a=u._proxy={},f=0,l=0,c={},h=s-1,p=m,d=u._plugin=new window.com.greensock.plugins.BezierPlugin,v,g,y,b,w;for(v=0;v<s;v++){b={},this._transform=null,y=this._firstPT,this._parseVars(m=i[v],t,n,r),g=this._firstPT;if(v===0){for(w=this._transform;g!==y;)a[g.p]=g.s,u._pt[l++]=c[g.p]=g,g.type===1||g.type===2?(a[g.p+"_g"]=g.gs,a[g.p+"_b"]=g.bs,g.type===2&&(a[g.p+"_a"]=g.as)):g.type===3&&(a[g.p+"_y"]=g.ys),g=g._next;g=this._firstPT}else this._firstPT=y,y._prev&&(y._prev._next=null),y=y._prev=null;for(;g!==y;)c[g.p]&&(b[g.p]=g.s+g.c,v===h&&(c[g.p].e=g.e),g.type===1||g.type===2?(b[g.p+"_g"]=g.gs+g.gc,b[g.p+"_b"]=g.bs+g.bc,g.type===2&&(b[g.p+"_a"]=g.as+g.ac)):g.type===3&&(b[g.p+"_y"]=g.ys+g.yc),v===0&&(g.c=g.ac=g.gc=g.bc=g.yc=0)),g=g._next;o[f++]=b}this._transform=w,m=p,e.values=o,e.autoRotate===0&&(e.autoRotate=!0),e.autoRotate&&!(e.autoRotate instanceof Array)&&(v=e.autoRotate==1?0:Number(e.autoRotate)*Math.PI/180,e.autoRotate=o[0].left!=null?[["left","top","rotation",v,!0]]:o[0].x!=null?[["x","y","rotation",v,!0]]:!1),(u._autoRotate=e.autoRotate)&&!w&&(this._transform=B(t,n,!0)),d._onInitTween(a,e,this._tween),e.values=i}else console.log("Error: BezierPlugin not loaded.")},n.setRatio=function(e){var t=this._firstPT,n=this._bezier,r=1e-6,s,u;if(n){n._plugin.setRatio(e);var a=n._pt,f=n._proxy;for(u=a.length;--u>-1;)t=a[u],t.s=f[t.p],t.type===1||t.type===2?(t.gs=f[t.p+"_g"],t.bs=f[t.p+"_b"],t.type===2&&(t.as=f[t.p+"_a"])):t.type===3&&(t.ys=f[t.p+"_y"]);n._autoRotate&&(this._transform.rotation=f.rotation)}if(e!==1||this._tween._time!==this._tween._duration&&this._tween._time!==0)if(e||this._tween._time!==this._tween._duration&&this._tween._time!==0)for(;t;)s=t.c*e+t.s,t.r?s=s>0?s+.5>>0:s-.5>>0:s<r&&s>-r&&(s=0),t.type?t.type===1?t.t[t.p]="rgb("+(s>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+")":t.type===2?t.t[t.p]="rgba("+(s>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+", "+(t.as+e*t.ac)+")":t.type===-1?t.t[t.p]=t.i:t.type===3?(n=t.ys+e*t.yc,t.r&&(n=n>0?n+.5>>0:n-.5>>0),t.t[t.p]=s+t.sfx+" "+n+t.ysfx):(t.dup&&(t.t.filter=t.t.filter||"alpha(opacity=100)"),t.t.filter=t.t.filter.indexOf("opacity")===-1?t.t.filter+(" alpha(opacity="+(s*100>>0)+")"):t.t.filter.replace(o,"opacity="+(s*100>>0))):t.t[t.p]=s+t.sfx,t=t._next;else for(;t;)t.t[t.p]=t.b,t.type===4&&t.s===1&&(this._style.removeAttribute("filter"),C(this._target,"filter")&&(t.t[t.p]=t.b)),t=t._next;else for(;t;)t.t[t.p]=t.e,t.type===4&&t.s+t.c===1&&(this._style.removeAttribute("filter"),C(this._target,"filter")&&(t.t[t.p]=t.e)),t=t._next;if(this._transform){t=this._transform;if(O&&!t.rotation&&!t.skewX)this._style[O]=(t.x||t.y?"translate("+t.x+"px,"+t.y+"px) ":"")+(t.scaleX!==1||t.scaleY!==1?"scale("+t.scaleX+","+t.scaleY+")":"")||"translate(0px,0px)";else{var a=O?t.rotation:-t.rotation,l=O?a-t.skewX:a+t.skewX,n=Math.cos(a)*t.scaleX,a=Math.sin(a)*t.scaleX,f=Math.sin(l)*-t.scaleY,l=Math.cos(l)*t.scaleY,c;n<r&&n>-r&&(n=0),a<r&&a>-r&&(a=0),f<r&&f>-r&&(f=0),l<r&&l>-r&&(l=0);if(O)this._style[O]="matrix("+n+","+a+","+f+","+l+","+t.x+","+t.y+")";else if(c=this._target.currentStyle){r=a,a=-f,f=-r,r=this._style.filter,this._style.filter="",u=this._target.offsetWidth,s=this._target.offsetHeight;var h=c.position!=="absolute",d="progid:DXImageTransform.Microsoft.Matrix(M11="+n+", M12="+a+", M21="+f+", M22="+l,v=t.x,m=t.y,g,y;t.ox!=null&&(g=(t.oxp?u*t.ox*.01:t.ox)-u/2,y=(t.oyp?s*t.oy*.01:t.oy)-s/2,v=g-(g*n+y*a)+t.x,m=y-(g*f+y*l)+t.y);if(h)g=u/2,y=s/2,d+=", Dx="+(g-(g*n+y*a)+v)+", Dy="+(y-(g*f+y*l)+m)+")";else{var b=S<8?1:-1;g=t.ieOffsetX||0,y=t.ieOffsetY||0,t.ieOffsetX=Math.round((u-((n<0?-n:n)*u+(a<0?-a:a)*s))/2+v),t.ieOffsetY=Math.round((s-((l<0?-l:l)*s+(f<0?-f:f)*u))/2+m);for(u=0;u<4;u++)v=F[u],s=c[v],s=s.indexOf("px")!==-1?parseFloat(s):I(this._target,v,parseFloat(s),s.replace(i,""))||0,m=s!==t[v]?u<2?-t.ieOffsetX:-t.ieOffsetY:u<2?g-t.ieOffsetX:y-t.ieOffsetY,this._style[v]=(t[v]=Math.round(s-m*(u===0||u===2?1:b)))+"px";d+=", sizingMethod='auto expand')"}this._style.filter=r.indexOf("progid:DXImageTransform.Microsoft.Matrix(")!==-1?r.replace(p,d):r+" "+d,(e===0||e===1)&&n===1&&a===0&&f===0&&l===1&&(!h||d.indexOf("Dx=0, Dy=0")!==-1)&&(!o.test(r)||parseFloat(RegExp.$1)===100)&&this._style.removeAttribute("filter")}}}if(this._classData){t=this._classData;if(e!==1||this._tween._time!==this._tween._duration&&this._tween._time!==0)this._target.className!==t.b&&(this._target.className=t.b);else{for(u=t.props.length;--u>-1;)this._style[t.props[u]]="";this._target.className=t.e}}},n._kill=function(t){var n=t,r;if(t.autoAlpha||t.alpha){n={};for(r in t)n[r]=t[r];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.prototype._kill.call(this,n)},e.activate([t]),t},!0),_gsDefine("plugins.RoundPropsPlugin",["plugins.TweenPlugin"],function(e){var t=function(){e.call(this,"roundProps",-1),this._overwriteProps.pop()},n=t.prototype=new e("roundProps",-1);return n.constructor=t,t.API=2,n._onInitTween=function(e,t,n){return this._tween=n,!0},n._onInitAllProps=function(){for(var e=this._tween,t=e.vars.roundProps instanceof Array?e.vars.roundProps:e.vars.roundProps.split(","),n=t.length,r={},i,s;-1<--n;)r[t[n]]=1;for(n=t.length;-1<--n;){i=t[n];for(s=e._firstPT;s;)s.pg?s.t._roundProps(r,!0):s.n==i&&(this._add(s.t,i,s.s,s.c),s._next&&(s._next._prev=s._prev),s._prev?s._prev._next=s._next:e._firstPT===s&&(e._firstPT=s._next),s._next=s._prev=null,e._propLookup[i]=this),s=s._next}return!1},n._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)},e.activate([t]),t},!0),_gsDefine("easing.Back",["easing.Ease"],function(e){var t=window.com.greensock._class,n=function(n,r){var i=t("easing."+n,function(){},!0),s=i.prototype=new e;return s.constructor=i,s.getRatio=r,i},r=function(n,r){var i=t("easing."+n,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),s=i.prototype=new e;return s.constructor=i,s.getRatio=r,s.config=function(e){return new i(e)},i},i=r("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),s=r("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),r=r("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}),o=n("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u=n("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),a=n("BounceInOut",function(e){var t=.5>e,e=t?1-2*e:2*e-1,e=e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375;return t?.5*(1-e):.5*e+.5}),f=n("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),l=n("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c=n("CircInOut",function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}),h=2*Math.PI,p=function(n,r,i){var s=t("easing."+n,function(e,t){this._p1=e||1,this._p2=t||i,this._p3=this._p2/h*(Math.asin(1/this._p1)||0)},!0),n=s.prototype=new e;return n.constructor=s,n.getRatio=r,n.config=function(e,t){return new s(e,t)},s},d=p("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*h/this._p2)+1},.3),v=p("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*h/this._p2))},.3),p=p("ElasticInOut",function(e){return 1>(e*=2)?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*h/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*h/this._p2)+1},.45),m=n("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),g=n("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),y=n("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}),b=Math.PI/2,w=n("SineOut",function(e){return Math.sin(e*b)}),E=n("SineIn",function(e){return-Math.cos(e*b)+1}),n=n("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)}),S=t("easing.SlowMo",function(e,t,n){null==e?e=.7:1<e&&(e=1),this._p=1!=e?t||0===t?t:.7:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),x=S.prototype=new e;x.constructor=S,x.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},S.ease=new S(.7,.7),x.config=S.config=function(e,t,n){return new S(e,t,n)};var T=t("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),x=T.prototype=new e;return x.constructor=T,x.getRatio=function(e){return 0>e?e=0:1<=e&&(e=.999999999),(this._p2*e>>0)*this._p1},x.config=T.config=function(e){return new T(e)},t("easing.Bounce",{easeOut:new o,easeIn:new u,easeInOut:new a},!0),t("easing.Circ",{easeOut:new f,easeIn:new l,easeInOut:new c},!0),t("easing.Elastic",{easeOut:new d,easeIn:new v,easeInOut:new p},!0),t("easing.Expo",{easeOut:new m,easeIn:new g,easeInOut:new y},!0),t("easing.Sine",{easeOut:new w,easeIn:new E,easeInOut:new n},!0),{easeOut:new i,easeIn:new s,easeInOut:new r}},!0)}),function(e){var t=function(t){var t=t.split("."),n=e,r;for(r=0;r<t.length;r++)n[t[r]]=n=n[t[r]]||{};return n},n=t("com.greensock"),r,i,s,o,u,a={},f=function(n,r,i,s){this.sc=a[n]?a[n].sc:[],a[n]=this,this.gsClass=null,this.def=i;var o=r||[],u=[];this.check=function(r){for(var l=o.length,c=0,h;-1<--l;)(h=a[o[l]]||new f(o[l])).gsClass?u[l]=h.gsClass:(c++,r&&h.sc.push(this));if(0===c&&i){var r=("com.greensock."+n).split("."),l=r.pop(),p=t(r.join("."))[l]=this.gsClass=i.apply(i,u);s&&((e.GreenSockGlobals||e)[l]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").join("/"),[],function(){return p}):"undefined"!=typeof module&&module.exports&&(module.exports=p));for(l=0;l<this.sc.length;l++)this.sc[l].check(!1)}},this.check(!0)},l=n._class=function(e,t,n){return new f(e,[],function(){return t},n),t};e._gsDefine=function(e,t,n,r){return new f(e,t,n,r)};var c=[0,0,1,1],h=[],p=l("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?c.concat(t):c},!0);s=p.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},r=["Linear","Quad","Cubic","Quart","Quint"];for(i=r.length;-1<--i;)s=l("easing."+r[i],function(){},!0),o=l("easing.Power"+i,function(){},!0),s.easeOut=o.easeOut=new p(null,null,1,i),s.easeIn=o.easeIn=new p(null,null,2,i),s.easeInOut=o.easeInOut=new p(null,null,3,i);l("easing.Strong",n.easing.Power4,!0),n.easing.Linear.easeNone=n.easing.Linear.easeIn,s=l("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this}).prototype,s.addEventListener=function(e,t,n,r,i){var i=i||0,s=this._listeners[e],o=0,u;null==s&&(this._listeners[e]=s=[]);for(u=s.length;-1<--u;)e=s[u],e.c===t?s.splice(u,1):0===o&&e.pr<i&&(o=u+1);s.splice(o,0,{c:t,s:n,up:r,pr:i})},s.removeEventListener=function(e,t){var n=this._listeners[e];if(n)for(var r=n.length;-1<--r;)if(n[r].c===t){n.splice(r,1);break}},s.dispatchEvent=function(e){var t=this._listeners[e];if(t)for(var n=t.length,r,i=this._eventTarget;-1<--n;)r=t[n],r.up?r.c.call(r.s||i,{type:e,target:i}):r.c.call(r.s||i)};var d=e.requestAnimationFrame,v=e.cancelAnimationFrame,m=Date.now||function(){return(new Date).getTime()};r=["ms","moz","webkit","o"];for(i=r.length;-1<--i&&!d;)d=e[r[i]+"RequestAnimationFrame"],v=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];v||(v=function(t){e.clearTimeout(t)}),l("Ticker",function(t,n){this.frame=this.time=0;var r=this,i=m(),s=!1!==n,o,u,a,f,l;this.tick=function(){r.time=(m()-i)/1e3;if(!o||r.time>=l)r.frame++,l=r.time+f-(r.time-l)-5e-4,l<=r.time&&(l=r.time+.001),r.dispatchEvent("tick");a=u(r.tick)},this.fps=function(t){if(!arguments.length)return o;o=t,f=1/(o||60),l=this.time+f,u=0===o?function(){}:!s||!d?function(t){return e.setTimeout(t,1e3*(l-r.time)+1>>0||1)}:d,v(a),a=u(r.tick)},this.useRAF=function(e){if(!arguments.length)return s;s=e,this.fps(o)},this.fps(t)}),s=n.Ticker.prototype=new n.events.EventDispatcher,s.constructor=n.Ticker;var g=l("core.Animation",function(e,t){this.vars=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(this.vars.delay)||0,this._timeScale=1,this._active=1==this.vars.immediateRender,this.data=this.vars.data,this._reversed=1==this.vars.reversed;if(C){u||(y.tick(),u=!0);var n=this.vars.useFrames?N:C;n.insert(this,n._time),this.vars.paused&&this.paused(!0)}}),y=g.ticker=new n.Ticker;s=g.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1,s.play=function(e,t){return arguments.length&&this.seek(e,t),this.reversed(!1),this.paused(!1)},s.pause=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),0!=t)},s.restart=function(e,t){return this.reversed(!1),this.paused(!1),this.totalTime(e?-this._delay:0,0!=t)},s.reverse=function(e,t){return arguments.length&&this.seek(e||this.totalDuration(),t),this.reversed(!0),this.paused(!1)},s.render=function(){},s.invalidate=function(){return this},s._enabled=function(e,t){return this._gc=!e,this._active=e&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration,1!=t&&(e&&null==this.timeline?this._timeline.insert(this,this._startTime-this._delay):!e&&null!=this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(e=e?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s.eventCallback=function(e,t,n,r){if(null==e)return null;if("on"===e.substr(0,2)){if(1===arguments.length)return this.vars[e];if(null==t)delete this.vars[e];else if(this.vars[e]=t,this.vars[e+"Params"]=n,this.vars[e+"Scope"]=r,n)for(var i=n.length;-1<--i;)"{self}"===n[i]&&(n=this.vars[e+"Params"]=n.concat(),n[i]=this);"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._active&&0!=e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this.totalTime(e,t)):this._time},s.totalTime=function(e,t){if(!arguments.length)return this._totalTime;if(this._timeline){0>e&&(e+=this.totalDuration());if(this._timeline.smoothChildTiming&&(this._dirty&&this.totalDuration(),e>this._totalDuration&&(e=this._totalDuration),this._startTime=(this._paused?this._pauseTime:this._timeline._time)-(this._reversed?this._totalDuration-e:e)/this._timeScale,this._timeline._dirty||this._uncache(!1),!this._timeline._active))for(var n=this._timeline;n._timeline;)n.totalTime(n._totalTime,!0),n=n._timeline;this._gc&&this._enabled(!0,!1),this._totalTime!=e&&this.render(e,t,!1)}return this},s.startTime=function(e){return arguments.length?(e!=this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.insert(this,e-this._delay)),this):this._startTime},s.timeScale=function(e){if(!arguments.length)return this._timeScale;e=e||1e-6;if(this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime||0==this._pauseTime?this._pauseTime:this._timeline._totalTime;this._startTime=t-(t-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._totalTime,!0)),this):this._reversed},s.paused=function(e){return arguments.length?(e!=this._paused&&this._timeline&&(!e&&this._timeline.smoothChildTiming&&(this._startTime+=this._timeline.rawTime()-this._pauseTime,this._uncache(!1)),this._pauseTime=e?this._timeline.rawTime():null,this._paused=e,this._active=!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration),this._gc&&(e||this._enabled(!0,!1)),this):this._paused},n=l("core.SimpleTimeline",function(e){g.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}),s=n.prototype=new g,s.constructor=n,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.insert=function(e,t){e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0);var n=this._last;if(this._sortChildren)for(var r=e._startTime;n&&n._startTime>r;)n=n._prev;return n?(e._next=n._next,n._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=n,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},s.render=function(e,t){var n=this._first,r;for(this._totalTime=this._time=this._rawPrevTime=e;n;){r=n._next;if(n._active||e>=n._startTime&&!n._paused)n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,!1):n.render((e-n._startTime)*n._timeScale,t,!1);n=r}},s.rawTime=function(){return this._totalTime};var b=l("TweenLite",function(e,t,n){g.call(this,t,n);if(null==e)throw"Cannot tween an undefined reference.";this.target=e,this._overwrite=null==this.vars.overwrite?T[b.defaultOverwrite]:"number"==typeof this.vars.overwrite?this.vars.overwrite>>0:T[this.vars.overwrite];if((e instanceof Array||e.jquery)&&"object"==typeof e[0]){this._targets=e.slice(0),this._propLookup=[],this._siblings=[];for(e=0;e<this._targets.length;e++)n=this._targets[e],n.jquery?(this._targets.splice(e--,1),this._targets=this._targets.concat(n.constructor.makeArray(n))):(this._siblings[e]=k(n,this,!1),1===this._overwrite&&1<this._siblings[e].length&&L(n,this,null,1,this._siblings[e]))}else this._propLookup={},this._siblings=k(e,this,!1),1===this._overwrite&&1<this._siblings.length&&L(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&0!=this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0);s=b.prototype=new g,s.constructor=b,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=null,s._notifyPluginsOfEnabled=!1,b.version=12,b.defaultEase=s._ease=new p(null,null,1,1),b.defaultOverwrite="auto",b.ticker=y;var w=b._plugins={},E={},S=0,x={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1},T={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},N=g._rootFramesTimeline=new n,C=g._rootTimeline=new n;C._startTime=y.time,N._startTime=y.frame,C._active=N._active=!0,g._updateRoot=function(){C.render((y.time-C._startTime)*C._timeScale,!1,!1),N.render((y.frame-N._startTime)*N._timeScale,!1,!1);if(!(y.frame%120)){var e,t,n;for(n in E){t=E[n].tweens;for(e=t.length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete E[n]}}},y.addEventListener("tick",g._updateRoot);var k=function(e,t,n){var r=e._gsTweenID,i;E[r||(e._gsTweenID=r="t"+S++)]||(E[r]={target:e,tweens:[]});if(t&&(e=E[r].tweens,e[i=e.length]=t,n))for(;-1<--i;)e[i]===t&&e.splice(i,1);return E[r].tweens},L=function(e,t,n,r,i){var s,o,u;if(1===r||4<=r){e=i.length;for(s=0;s<e;s++)if((u=i[s])!==t)u._gc||u._enabled(!1,!1)&&(o=!0);else if(5===r)break;return o}var a=t._startTime+1e-10,f=[],l=0,c;for(s=i.length;-1<--s;)(u=i[s])!==t&&!u._gc&&!u._paused&&(u._timeline!==t._timeline?(c=c||A(t,0),0===A(u,c)&&(f[l++]=u)):u._startTime<=a&&u._startTime+u.totalDuration()/u._timeScale+1e-10>a&&((0===t._duration||!u._initted)&&2e-10>=a-u._startTime||(f[l++]=u)));for(s=l;-1<--s;)(u=f[s],2===r&&u._kill(n,e)&&(o=!0),2!==r||!u._firstPT&&u._initted)&&u._enabled(!1,!1)&&(o=!0);return o},A=function(e,t){for(var n=e._timeline,r=n._timeScale,i=e._startTime;n._timeline;){i+=n._startTime,r*=n._timeScale;if(n._paused)return-100;n=n._timeline}return i/=r,i>t?i-t:!e._initted&&2e-10>i-t?1e-10:(i+=e.totalDuration()/e._timeScale/r)>t?0:i-t-1e-10};s._init=function(){this.vars.startAt&&(this.vars.startAt.overwrite=0,this.vars.startAt.immediateRender=!0,b.to(this.target,0,this.vars.startAt));var e,t;this._ease=this.vars.ease instanceof p?this.vars.easeParams instanceof Array?this.vars.ease.config.apply(this.vars.ease,this.vars.easeParams):this.vars.ease:"function"==typeof this.vars.ease?new p(this.vars.ease,this.vars.easeParams):b.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null;if(this._targets)for(e=this._targets.length;-1<--e;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],this._overwrittenProps?this._overwrittenProps[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,this._overwrittenProps);t&&b._onPluginEvent("_onInitAllProps",this),this._overwrittenProps&&null==this._firstPT&&"function"!=typeof this.target&&this._enabled(!1,!1);if(this.vars.runBackwards)for(e=this._firstPT;e;)e.s+=e.c,e.c=-e.c,e=e._next;this._onUpdate=this.vars.onUpdate,this._initted=!0},s._initProps=function(e,t,n,r){var i,s,o,u,a,f;if(null==e)return!1;for(i in this.vars){if(x[i]){if("onStartParams"===i||"onUpdateParams"===i||"onCompleteParams"===i||"onReverseCompleteParams"===i||"onRepeatParams"===i)if(a=this.vars[i])for(s=a.length;-1<--s;)"{self}"===a[s]&&(a=this.vars[i]=a.concat(),a[s]=this)}else if(w[i]&&(u=new w[i])._onInitTween(e,this.vars[i],this)){this._firstPT=f={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:u._priority};for(s=u._overwriteProps.length;-1<--s;)t[u._overwriteProps[s]]=this._firstPT;if(u._priority||u._onInitAllProps)o=!0;if(u._onDisable||u._onEnable)this._notifyPluginsOfEnabled=!0}else this._firstPT=t[i]=f={_next:this._firstPT,t:e,p:i,f:"function"==typeof e[i],n:i,pg:!1,pr:0},f.s=f.f?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),f.c="number"==typeof this.vars[i]?this.vars[i]-f.s:"string"==typeof this.vars[i]?parseFloat(this.vars[i].split("=").join("")):0;f&&f._next&&(f._next._prev=f)}return r&&this._kill(r,e)?this._initProps(e,t,n,r):1<this._overwrite&&this._firstPT&&1<n.length&&L(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r)):o},s.render=function(e,t,n){var r=this._time,i,s;if(e>=this._duration){if(this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,s="onComplete"),0===this._duration)(0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e}else if(0>=e){this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==r||0===this._duration&&0<this._rawPrevTime)s="onReverseComplete",i=this._reversed;0>e?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else if(this._totalTime=this._time=e,this._easeType){var o=e/this._duration,u=this._easeType,a=this._easePower;if(1===u||3===u&&.5<=o)o=1-o;3===u&&(o*=2),1===a?o*=o:2===a?o*=o*o:3===a?o*=o*o*o:4===a&&(o*=o*o*o*o),this.ratio=1===u?1-o:2===u?o:.5>e/this._duration?o/2:1-o/2}else this.ratio=this._ease.getRatio(e/this._duration);if(this._time!==r||n){this._initted||(this._init(),!i&&this._time&&(this.ratio=this._ease.getRatio(this._time/this._duration))),!this._active&&!this._paused&&(this._active=!0),0===r&&this.vars.onStart&&(0!==this._time||0===this._duration)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h));for(e=this._firstPT;e;)e.f?e.t[e.p](e.c*this.ratio+e.s):e.t[e.p]=e.c*this.ratio+e.s,e=e._next;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),s&&!this._gc&&(i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),t||this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||h))}},s._kill=function(e,t){"all"===e&&(e=null);if(null!=e||null!=t&&t!=this.target){var t=t||this._targets||this.target,n,r,i,s,o,u,a;if((t instanceof Array||t.jquery)&&"object"==typeof t[0])for(n=t.length;-1<--n;)this._kill(e,t[n])&&(o=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(t===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s)for(i in u=e||s,a=e!=r&&"all"!=r&&e!=s&&(null==e||1!=e._tempKill),u){if(n=s[i]){n.pg&&n.t._kill(u)&&(o=!0);if(!n.pg||0===n.t._overwriteProps.length)n._prev?n._prev._next=n._next:n===this._firstPT&&(this._firstPT=n._next),n._next&&(n._next._prev=n._prev),n._next=n._prev=null;delete s[i]}a&&(r[i]=1)}}return o}return this._enabled(!1,!1)},s.invalidate=function(){return this._notifyPluginsOfEnabled&&b._onPluginEvent("_onDisable",this),this._onUpdate=this._overwrittenProps=this._firstPT=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},s._enabled=function(e,t){if(e&&this._gc)if(this._targets)for(var n=this._targets.length;-1<--n;)this._siblings[n]=k(this._targets[n],this,!0);else this._siblings=k(this.target,this,!0);return g.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?b._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},b.to=function(e,t,n){return new b(e,t,n)},b.from=function(e,t,n){return n.runBackwards=!0,0!=n.immediateRender&&(n.immediateRender=!0),new b(e,t,n)},b.fromTo=function(e,t,n,r){return r.startAt=n,n.immediateRender&&(r.immediateRender=!0),new b(e,t,r)},b.delayedCall=function(e,t,n,r,i){return new b(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})},b.set=function(e,t){return new b(e,0,t)},b.killTweensOf=b.killDelayedCallsTo=function(e,t){for(var n=b.getTweensOf(e),r=n.length;-1<--r;)n[r]._kill(t,e)},b.getTweensOf=function(e){if(null!=e){var t,n,r;if((e instanceof Array||e.jquery)&&"object"==typeof e[0]){t=e.length;for(n=[];-1<--t;)n=n.concat(b.getTweensOf(e[t]));for(t=n.length;-1<--t;){r=n[t];for(e=t;-1<--e;)r===n[e]&&n.splice(t,1)}}else{n=k(e).concat();for(t=n.length;-1<--t;)n[t]._gc&&n.splice(t,1)}return n}};var O=l("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0},!0);s=O.prototype,O.version=12,O.API=2,s._firstPT=null,s._addTween=function(e,t,n,r,i,s){var o;null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-n:Number(r.split("=").join("")))&&(this._firstPT={_next:this._firstPT,t:e,p:t,s:n,c:o,f:"function"==typeof e[t],n:i||t,r:s},this._firstPT._next&&(this._firstPT._next._prev=this._firstPT))},s.setRatio=function(e){for(var t=this._firstPT,n;t;)n=t.c*e+t.s,t.r&&(n=n+(0<n?.5:-0.5)>>0),t.f?t.t[t.p](n):t.t[t.p]=n,t=t._next},s._kill=function(e){if(null!=e[this._propName])this._overwriteProps=[];else for(var t=this._overwriteProps.length;-1<--t;)null!=e[this._overwriteProps[t]]&&this._overwriteProps.splice(t,1);for(t=this._firstPT;t;)null!=e[t.n]&&((t._next&&(t._next._prev=t._prev),t._prev)?(t._prev._next=t._next,t._prev=null):this._firstPT===t&&(this._firstPT=t._next)),t=t._next;return!1},s._roundProps=function(e,t){for(var n=this._firstPT;n;){if(e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])n.r=t;n=n._next}},b._onPluginEvent=function(e,t){var n=t._firstPT,r;if("_onInitAllProps"===e){for(var i,s,o,u;n;){u=n._next;for(i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=u}n=t._firstPT=s}for(;n;)n.pg&&"function"==typeof n.t[e]&&n.t[e]()&&(r=!0),n=n._next;return r},O.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===O.API&&(b._plugins[(new e[t])._propName]=e[t]);return!0};if(r=e._gsQueue){for(i=0;i<r.length;i++)r[i]();for(s in a)a[s].def||console.log("Warning: TweenLite encountered missing dependency: com.greensock."+s)}}(window),define("TweenMax.min",function(){}),function(){var e=this,t=e.Chart,n=function(e){var t=this;this.canvas=e.canvas,this.ctx=e;var n=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},i=this.width=n(e.canvas,"Width")||e.canvas.width,s=this.height=n(e.canvas,"Height")||e.canvas.height;return i=this.width=e.canvas.width,s=this.height=e.canvas.height,this.aspectRatio=this.width/this.height,r.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var r=n.helpers={},i=r.each=function(e,t,n){var r=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(r))}else for(var s in e)t.apply(n,[e[s],s].concat(r))},s=r.clone=function(e){var t={};return i(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)}),t},o=r.extend=function(e){return i(Array.prototype.slice.call(arguments,1),function(t){i(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)})}),e},u=r.merge=function(e,t){var n=Array.prototype.slice.call(arguments,0);return n.unshift({}),o.apply(null,n)},a=r.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},f=r.where=function(e,t){var n=[];return r.each(e,function(e){t(e)&&n.push(e)}),n},l=r.findNextWhere=function(e,t,n){n||(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},c=r.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},h=r.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=h,e&&o(n.prototype,e),n.__super__=t.prototype,n},p=r.noop=function(){},d=r.uid=function(){var e=0;return function(){return"chart-"+e++}}(),v=r.warn=function(e){window.console&&typeof window.console.warn=="function"&&console.warn(e)},m=r.amd=typeof define=="function"&&define.amd,g=r.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},y=r.max=function(e){return Math.max.apply(Math,e)},b=r.min=function(e){return Math.min.apply(Math,e)},w=r.cap=function(e,t,n){if(g(t)){if(e>t)return t}else if(g(n)&&e<n)return n;return e},E=r.getDecimalPlaces=function(e){if(e%1!==0&&g(e)){var t=e.toString();if(t.indexOf("e-")<0)return t.split(".")[1].length;if(t.indexOf(".")<0)return parseInt(t.split("e-")[1]);var n=t.split(".")[1].split("e-");return n[0].length+parseInt(n[1])}return 0},S=r.radians=function(e){return e*(Math.PI/180)},x=r.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),s=Math.PI*2+Math.atan2(r,n);return n<0&&r<0&&(s+=Math.PI*2),{angle:s,distance:i}},T=r.aliasPixel=function(e){return e%2===0?0:.5},N=r.splineCurve=function(e,t,n,r){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=r*i/(i+s),u=r*s/(i+s);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+u*(n.x-e.x),y:t.y+u*(n.y-e.y)}}},C=r.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)},k=r.calculateScaleRange=function(e,t,n,r,s){var o=2,u=Math.floor(t/(n*1.5)),a=o>=u,f=[];i(e,function(e){e==null||f.push(e)});var l=b(f),c=y(f);c===l&&(c+=.5,l>=.5&&!r?l-=.5:c+=.5);var h=Math.abs(c-l),p=C(h),d=Math.ceil(c/(1*Math.pow(10,p)))*Math.pow(10,p),v=r?0:Math.floor(l/(1*Math.pow(10,p)))*Math.pow(10,p),m=d-v,g=Math.pow(10,p),w=Math.round(m/g);while((w>u||w*2<u)&&!a)if(w>u)g*=2,w=Math.round(m/g),w%1!==0&&(a=!0);else if(s&&p>=0){if(g/2%1!==0)break;g/=2,w=Math.round(m/g)}else g/=2,w=Math.round(m/g);return a&&(w=o,g=m/w),{steps:w,stepValue:g,min:v,max:v+w*g}},L=r.template=function(e,t){function r(e,t){var r=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[e]=n[e];return t?r(t):r}if(e instanceof Function)return e(t);var n={};return r(e,t)},A=r.generateLabels=function(e,t,n,r){var s=new Array(t);return e&&i(s,function(t,i){s[i]=L(e,{value:n+r*(i+1)})}),s},O=r.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return e===0?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return e===1?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return e===0?0:(e/=1)==1?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((e*1-t)*2*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return e===0?0:(e/=1)==1?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e*1-t)*2*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return e===0?0:(e/=1/2)==2?1:(n||(n=1*.3*1.5),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?-0.5*r*Math.pow(2,10*(e-=1))*Math.sin((e*1-t)*2*Math.PI/n):r*Math.pow(2,-10*(e-=1))*Math.sin((e*1-t)*2*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-O.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*7.5625*e*e:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?O.easeInBounce(e*2)*.5:O.easeOutBounce(e*2-1)*.5+.5}},M=r.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),_=r.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),D=r.animationLoop=function(e,t,n,r,i,s){var o=0,u=O[n]||O.linear,a=function(){o++;var n=o/t,f=u(n);e.call(s,f,n,o),r.call(s,f,n),o<t?s.animationFrame=M(a):i.apply(s)};M(a)},P=r.getRelativePosition=function(e){var t,n,r=e.originalEvent||e,i=e.currentTarget||e.srcElement,s=i.getBoundingClientRect();return r.touches?(t=r.touches[0].clientX-s.left,n=r.touches[0].clientY-s.top):(t=r.clientX-s.left,n=r.clientY-s.top),{x:t,y:n}},H=r.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},B=r.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=p},j=r.bindEvents=function(e,t,n){e.events||(e.events={}),i(t,function(t){e.events[t]=function(){n.apply(e,arguments)},H(e.chart.canvas,t,e.events[t])})},F=r.unbindEvents=function(e,t){i(t,function(t,n){B(e.chart.canvas,n,t)})},I=r.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(R(t,"padding-left"))+parseInt(R(t,"padding-right"));return t.clientWidth-n},q=r.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(R(t,"padding-bottom"))+parseInt(R(t,"padding-top"));return t.clientHeight-n},R=r.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},U=r.getMaximumSize=r.getMaximumWidth,z=r.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,r=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=r+"px",t.canvas.height=r*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))},W=r.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},X=r.fontString=function(e,t,n){return t+" "+e+"px "+n},V=r.longestText=function(e,t,n){e.font=t;var r=0;return i(n,function(t){var n=e.measureText(t).width;r=n>r?n:r}),r},$=r.drawRoundedRectangle=function(e,t,n,r,i,s){e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath()};n.instances={},n.Type=function(e,t,r){this.options=t,this.chart=r,this.id=d(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},o(n.Type.prototype,{initialize:function(){return this},clear:function(){return W(this.chart),this},stop:function(){return n.animationService.cancelAnimation(this),this},resize:function(e){this.stop();var t=this.chart.canvas,n=I(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:q(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=r,z(this.chart),typeof e=="function"&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:p,render:function(e){e&&this.reflow();if(this.options.animation&&!e){var t=new n.Animation;t.numSteps=this.options.animationSteps,t.easing=this.options.animationEasing,t.render=function(e,t){var n=r.easingEffects[t.easing],i=t.currentStep/t.numSteps,s=n(i);e.draw(s,i,t.currentStep)},t.onAnimationProgress=this.options.onAnimationProgress,t.onAnimationComplete=this.options.onAnimationComplete,n.animationService.addAnimation(this,t)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return L(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){typeof this.activeElements=="undefined"&&(this.activeElements=[]);var s=function(e){var t=!1;return e.length!==this.activeElements.length?(t=!0,t):(i(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(!s&&!t)return;this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1);if(e.length>0)if(this.datasets&&this.datasets.length>1){var o,u;for(var f=this.datasets.length-1;f>=0;f--){o=this.datasets[f].points||this.datasets[f].bars||this.datasets[f].segments,u=a(o,e[0]);if(u!==-1)break}var l=[],c=[],h=function(e){var t=[],n,i=[],s=[],o,a,f,h;return r.each(this.datasets,function(e){n=e.points||e.bars||e.segments,n[u]&&n[u].hasValue()&&t.push(n[u])}),r.each(t,function(e){i.push(e.x),s.push(e.y),l.push(r.template(this.options.multiTooltipTemplate,e)),c.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),h=b(s),a=y(s),f=b(i),o=y(i),{x:f>this.chart.width/2?f:o,y:(h+a)/2}}.call(this,u);(new n.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:c,legendColorBackground:this.options.multiTooltipKeyBackground,title:L(this.options.tooltipTitleTemplate,e[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips})).draw()}else i(e,function(e){var t=e.tooltipPosition();(new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:L(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips})).draw()},this);return this},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,r=function(){return t.apply(this,arguments)};r.prototype=s(t.prototype),o(r.prototype,e),r.extend=n.Type.extend;if(e.name||t.prototype.name){var i=e.name||t.prototype.name,a=n.defaults[t.prototype.name]?s(n.defaults[t.prototype.name]):{};n.defaults[i]=o(a,e.defaults),n.types[i]=r,n.prototype[i]=function(e,t){var s=u(n.defaults.global,n.defaults[i],t||{});return new r(e,s,this)}}else v("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){o(this,e),this.initialize.apply(this,arguments),this.save()},o(n.Element.prototype,{initialize:function(){},restore:function(e){return e?i(e,function(e){this[e]=this._saved[e]},this):o(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(e){return i(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return i(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return g(this.value)}}),n.Element.extend=h,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=r.getAngleFromPoint(this,{x:e,y:t}),i=n.angle%(Math.PI*2),s=(Math.PI*2+this.startAngle)%(Math.PI*2),o=(Math.PI*2+this.endAngle)%(Math.PI*2)||360,u=o<s?i<=o||i>=s:i>=s&&i<=o,a=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return u&&a},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=e||1,n=this.ctx;n.beginPath(),n.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),n.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),n.closePath(),n.strokeStyle=this.strokeColor,n.lineWidth=this.strokeWidth,n.fillStyle=this.fillColor,n.fill(),n.lineJoin="bevel",this.showStroke&&n.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,r=this.x+t,i=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(n+=s,r-=s,i+=s),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(r,i),e.lineTo(r,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Animation=n.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=X(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var s=this.x-n/2,o=this.y-i;e.fillStyle=this.fillColor;if(this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":s=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}$(e,s,o,n,r,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,s+n/2,o+r/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=X(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=X(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?this.titleFontSize*1.5:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+this.yPadding*2+this.titleHeight,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=V(this.ctx,this.font,this.labels)+this.fontSize+3,n=y([t,e]);this.width=n+this.xPadding*2;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return e===0?t+this.titleHeight/3:t+(this.fontSize*1.5*n+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{$(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,r.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];var e=E(this.stepValue);for(var t=0;t<=this.steps;t++)this.yLabels.push(L(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?V(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-this.fontSize*1.5-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e=this.endPoint,t=this.endPoint-this.startPoint,n;this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();while(t>this.endPoint-this.startPoint)t=this.endPoint-this.startPoint,n=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),n<this.yLabelWidth&&(this.endPoint=e,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var e=this.ctx.measureText(this.xLabels[0]).width,t=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width,n,r;this.xScalePaddingRight=t/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth?e/2:this.yLabelWidth,this.xLabelRotation=0;if(this.display){var i=V(this.ctx,this.font,this.xLabels),s,o;this.xLabelWidth=i;var u=Math.floor(this.calculateX(1)-this.calculateX(0))-6;while(this.xLabelWidth>u&&this.xLabelRotation===0||this.xLabelWidth>u&&this.xLabelRotation<=90&&this.xLabelRotation>0)s=Math.cos(S(this.xLabelRotation)),n=s*e,r=s*t,n+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=n+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=s*i;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*i+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:p,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=this.xLabelRotation>0,n=this.width-(this.xScalePaddingLeft+this.xScalePaddingRight),r=n/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),i=r*e+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=r/2),Math.round(i)},update:function(e){r.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,i(this.yLabels,function(i,s){var o=this.endPoint-t*s,u=Math.round(o),a=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(i,n-10,o),s===0&&!a&&(a=!0),a&&e.beginPath(),s>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),u+=r.aliasPixel(e.lineWidth),a&&(e.moveTo(n,u),e.lineTo(this.width,u),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,u),e.lineTo(n,u),e.stroke(),e.closePath()},this),i(this.xLabels,function(t,n){var r=this.calculateX(n)+T(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+T(this.lineWidth),s=this.xLabelRotation>0,o=this.showVerticalLines;n===0&&!o&&(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(r,s?this.endPoint+12:this.endPoint+8),e.rotate(S(this.xLabelRotation)*-1),e.font=this.font,e.textAlign=s?"right":"center",e.textBaseline=s?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=b([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];var e=E(this.stepValue);for(var t=0;t<=this.steps;t++)this.yLabels.push(L(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return Math.PI*2/this.valuesCount},setScaleSize:function(){var e=b([this.height/2-this.pointLabelFontSize-5,this.width/2]),t,n,r,i,s=this.width,o,u,a=0,f,l,c,h,p,d,v;this.ctx.font=X(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);for(n=0;n<this.valuesCount;n++)t=this.getPointPosition(n,e),r=this.ctx.measureText(L(this.templateString,{value:this.labels[n]})).width+5,n===0||n===this.valuesCount/2?(i=r/2,t.x+i>s&&(s=t.x+i,o=n),t.x-i<a&&(a=t.x-i,f=n)):n<this.valuesCount/2?t.x+r>s&&(s=t.x+r,o=n):n>this.valuesCount/2&&t.x-r<a&&(a=t.x-r,f=n);c=a,h=Math.ceil(s-this.width),u=this.getIndexAngle(o),l=this.getIndexAngle(f),p=h/Math.sin(u+Math.PI/2),d=c/Math.sin(l+Math.PI/2),p=g(p)?p:0,d=g(d)?d:0,this.drawingArea=e-(d+p)/2,this.setCenterPoint(d,p)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,r=e+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=Math.PI*2/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;i(this.yLabels,function(t,n){if(n>0){var r=n*(this.drawingArea/this.steps),i=this.yCenter-r,s;if(this.lineWidth>0){e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth;if(this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,Math.PI*2),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)s=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),o===0?e.moveTo(s.x,s.y):e.lineTo(s.x,s.y);e.closePath(),e.stroke()}}if(this.showLabels){e.font=X(this.fontSize,this.fontStyle,this.fontFamily);if(this.showLabelBackdrop){var u=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-u/2-this.backdropPaddingX,i-this.fontSize/2-this.backdropPaddingY,u+this.backdropPaddingX*2,this.fontSize+this.backdropPaddingY*2)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,i)}}},this);if(!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){var n=null,r=null;this.angleLineWidth>0&&(n=this.calculateCenterOffset(this.max),r=this.getPointPosition(t,n),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(r.x,r.y),e.stroke(),e.closePath());if(this.backgroundColors&&this.backgroundColors.length==this.valuesCount){n==null&&(n=this.calculateCenterOffset(this.max)),r==null&&(r=this.getPointPosition(t,n));var s=this.getPointPosition(t===0?this.valuesCount-1:t-1,n),o=this.getPointPosition(t===this.valuesCount-1?0:t+1,n),u={x:(s.x+r.x)/2,y:(s.y+r.y)/2},a={x:(r.x+o.x)/2,y:(r.y+o.y)/2};e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.lineTo(r.x,r.y),e.lineTo(a.x,a.y),e.fillStyle=this.backgroundColors[t],e.fill(),e.closePath()}var f=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=X(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var l=this.labels.length,c=this.labels.length/2,h=c/2,p=t<h||t>l-h,d=t===h||t===l-h;t===0?e.textAlign="center":t===c?e.textAlign="center":t<c?e.textAlign="left":e.textAlign="right",d?e.textBaseline="middle":p?e.textBaseline="bottom":e.textBaseline="top",e.fillText(this.labels[t],f.x,f.y)}}}}}),n.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(e,t){for(var n=0;n<this.animations.length;++n)if(this.animations[n].chartInstance===e){this.animations[n].animationObject=t;return}this.animations.push({chartInstance:e,animationObject:t}),this.animations.length==1&&r.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(e){var t=r.findNextWhere(this.animations,function(t){return t.chartInstance===e});t&&this.animations.splice(t,1)},digestWrapper:function(){n.animationService.startDigest.call(n.animationService)},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames-=t);for(var n=0;n<this.animations.length;n++)this.animations[n].animationObject.currentStep===null&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+t,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.currentStep==this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance),this.animations.splice(n,1),n--);var i=Date.now(),s=i-e-this.frameDuration,o=s/this.frameDuration;o>1&&(this.dropFrames+=o),this.animations.length>0&&r.requestAnimFrame.call(window,this.digestWrapper)}},r.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){i(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),m?define("charts",[],function(){return n}):typeof module=="object"&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:r,initialize:function(e){var r=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),s=this.calculateX(n)-i/2,o=this.calculateBarWidth(e);return s+o*t+t*r.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*r.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t=e.type!=="mouseout"?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t,r){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,r){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,r){n.each(t.bars,e,this,r)},this)},getBarsAtEvent:function(e){var t=[],r=n.getRelativePosition(e),i=function(e){t.push(e.bars[s])},s;for(var o=0;o<this.datasets.length;o++)for(s=0;s<this.datasets[o].bars.length;s++)if(this.datasets[o].bars[s].inRange(r.x,r.y))return n.each(this.datasets,i),t;return t},buildScale:function(e){var t=this,r=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,datasetLabel:this.datasets[n].label,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var r=this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,r){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:r,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t=e.type!=="mouseout"?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(t,n){t.color||(t.color="hsl("+360*n/e.length+", 100%, 50%)"),this.addData(t,n,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,n,r){var i=n!==undefined?n:this.segments.length;typeof e.color=="undefined"&&(e.color=t.defaults.global.segmentColorDefault[i%t.defaults.global.segmentColorDefault.length],e.highlight=t.defaults.global.segmentHighlightColorDefaults[i%t.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(i,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:Math.PI*1.5,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),r||(this.reflow(),this.update())},calculateCircumference:function(e){return this.total>0?Math.PI*2*(e/this.total):0},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),n===0&&(e.startAngle=Math.PI*1.5),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};t.Type.extend({name:"Line",defaults:r,initialize:function(e){this.PointClass=t.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t=e.type!=="mouseout"?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(r.x,r.y)&&t.push(e)})},this),t},buildScale:function(e){var r=this,i=function(){var e=[];return r.eachPoints(function(t){e.push(t.value)}),e},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(s,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(s)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[n].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var r=this.chart.ctx,i=function(e){return e.value!==null},s=function(e,t,r){return n.findNextWhere(t,i,r)||e},o=function(e,t,r){return n.findPreviousWhere(t,i,r)||e};if(!this.scale)return;this.scale.draw(t),n.each(this.datasets,function(e){var u=n.where(e.points,i);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(u,function(e,t){var r=t>0&&t<u.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,u,t),e,s(e,u,t),r),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(u,function(e,t){if(t===0)r.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,u,t);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else r.lineTo(e.x,e.y)},this),this.options.datasetStroke&&r.stroke(),this.options.datasetFill&&u.length>0&&(r.lineTo(u[u.length-1].x,this.scale.endPoint),r.lineTo(u[0].x,this.scale.endPoint),r.fillStyle=e.fillColor,r.closePath(),r.fill()),n.each(u,function(e){e.draw()})},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:r,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t=e.type!=="mouseout"?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:Math.PI*1.5})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,n===0&&(e.startAngle=Math.PI*1.5),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t=e.type!=="mouseout"?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){var s;this.scale.animation||(s=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=Math.PI*2/this.scale.valuesCount,s=Math.round((r.angle-Math.PI*1.5)/i),o=[];if(s>=this.scale.valuesCount||s<0)s=0;return r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[s])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[n].label,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(e.points,function(e,t){t===0?r.moveTo(e.x,e.y):r.lineTo(e.x,e.y)},this),r.closePath(),r.stroke(),r.fillStyle=e.fillColor,this.options.datasetFill&&r.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){function r(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var s={bind:n,unbind:i};typeof define=="function"&&define.amd?define("eventie/eventie",[],s):typeof exports=="object"?module.exports=s:e.eventie=s}(this),function(e){function n(){}function r(e){function r(t){if(t.prototype.option)return;t.prototype.option=function(t){if(!e.isPlainObject(t))return;this.options=e.extend(!0,this.options,t)}}function s(n,r){e.fn[n]=function(s){if(typeof s=="string"){var o=t.call(arguments,1);for(var u=0,a=this.length;u<a;u++){var f=this[u],l=e.data(f,n);if(!l){i("cannot call methods on "+n+" prior to initialization; "+"attempted to call '"+s+"'");continue}if(!e.isFunction(l[s])||s.charAt(0)==="_"){i("no such method '"+s+"' for "+n+" instance");continue}var c=l[s].apply(l,o);if(c!==undefined)return c}return this}return this.each(function(){var t=e.data(this,n);t?(t.option(s),t._init()):(t=new r(this,s),e.data(this,n,t))})}}if(!e)return;var i=typeof console=="undefined"?n:function(e){console.error(e)};return e.bridget=function(e,t){r(t),s(e,t)},e.bridget}var t=Array.prototype.slice;typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],r):r(e.jQuery)}(window),function(e){function r(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var s={bind:n,unbind:i};typeof define=="function"&&define.amd?define("eventie/eventie",s):typeof exports=="object"?module.exports=s:e.eventie=s}(this),function(e){function r(e){if(typeof e!="function")return;r.isReady?e():n.push(e)}function i(e){var i=e.type==="readystatechange"&&t.readyState!=="complete";if(r.isReady||i)return;r.isReady=!0;for(var s=0,o=n.length;s<o;s++){var u=n[s];u()}}function s(n){return n.bind(t,"DOMContentLoaded",i),n.bind(t,"readystatechange",i),n.bind(e,"load",i),r}var t=e.document,n=[];r.isReady=!1,typeof define=="function"&&define.amd?(r.isReady=typeof requirejs=="function",define("doc-ready/doc-ready",["eventie/eventie"],s)):e.docReady=s(e.eventie)}(this),function(){function e(){}function i(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype,n=this,r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents(),r,i;if(t instanceof RegExp){r={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(r[i]=n[i])}else r=n[t]||(n[t]=[]);return r},t.flattenListeners=function(t){var n=[],r;for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n},t.getListenersAsObject=function(t){var n=this.getListeners(t),r;return n instanceof Array&&(r={},r[t]=n),r||n},t.addListener=function(t,n){var r=this.getListenersAsObject(t),s=typeof n=="object",o;for(o in r)r.hasOwnProperty(o)&&i(r[o],n)===-1&&r[o].push(s?n:{listener:n,once:!1});return this},t.on=s("addListener"),t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},t.once=s("addOnceListener"),t.defineEvent=function(t){return this.getListeners(t),this},t.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},t.removeListener=function(t,n){var r=this.getListenersAsObject(t),s,o;for(o in r)r.hasOwnProperty(o)&&(s=i(r[o],n),s!==-1&&r[o].splice(s,1));return this},t.off=s("removeListener"),t.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},t.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},t.manipulateListeners=function(t,n,r){var i,s,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if(typeof n!="object"||n instanceof RegExp){i=r.length;while(i--)o.call(this,n,r[i])}else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&(typeof s=="function"?o.call(this,i,s):u.call(this,i,s));return this},t.removeEvent=function(t){var n=typeof t,r=this._getEvents(),i;if(n==="string")delete r[t];else if(t instanceof RegExp)for(i in r)r.hasOwnProperty(i)&&t.test(i)&&delete r[i];else delete this._events;return this},t.removeAllListeners=s("removeEvent"),t.emitEvent=function(t,n){var r=this.getListenersAsObject(t),i,s,o,u;for(o in r)if(r.hasOwnProperty(o)){s=r[o].length;while(s--)i=r[o][s],i.once===!0&&this.removeListener(t,i.listener),u=i.listener.apply(this,n||[]),u===this._getOnceReturnValue()&&this.removeListener(t,i.listener)}return this},t.trigger=s("emitEvent"),t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},t.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=r,e},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):typeof module=="object"&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function r(e){if(!e)return;if(typeof n[e]=="string")return e;e=e.charAt(0).toUpperCase()+e.slice(1);var r;for(var i=0,s=t.length;i<s;i++){r=t[i]+e;if(typeof n[r]=="string")return r}}var t="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return r}):typeof exports=="object"?module.exports=r:e.getStyleProperty=r}(window),function(e,t){function i(e){var t=parseFloat(e),n=e.indexOf("%")===-1&&!isNaN(t);return n&&t}function o(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0,n=s.length;t<n;t++){var r=s[t];e[r]=0}return e}function u(e){function a(e){typeof e=="string"&&(e=document.querySelector(e));if(!e||typeof e!="object"||!e.nodeType)return;var n=r(e);if(n.display==="none")return o();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;var l=a.isBorderBox=!!t&&!!n[t]&&n[t]==="border-box";for(var c=0,h=s.length;c<h;c++){var p=s[c],d=n[p];d=f(e,d);var v=parseFloat(d);a[p]=isNaN(v)?0:v}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,b=a.marginTop+a.marginBottom,w=a.borderLeftWidth+a.borderRightWidth,E=a.borderTopWidth+a.borderBottomWidth,S=l&&u,x=i(n.width);x!==!1&&(a.width=x+(S?0:m+w));var T=i(n.height);return T!==!1&&(a.height=T+(S?0:g+E)),a.innerWidth=a.width-(m+w),a.innerHeight=a.height-(g+E),a.outerWidth=a.width+y,a.outerHeight=a.height+b,a}function f(e,t){if(n||t.indexOf("%")===-1)return t;var r=e.style,i=r.left,s=e.runtimeStyle,o=s&&s.left;return o&&(s.left=e.currentStyle.left),r.left=t,t=r.pixelLeft,r.left=i,o&&(s.left=o),t}var t=e("boxSizing"),u;return function(){if(!t)return;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[t]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var s=r(e);u=i(s.width)===200,n.removeChild(e)}(),a}var n=e.getComputedStyle,r=n?function(e){return n(e,null)}:function(e){return e.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],u):typeof exports=="object"?module.exports=u(require("get-style-property")):e.getSize=u(e.getStyleProperty)}(window),function(e,t){function r(e,t){return e[n](t)}function i(e){if(e.parentNode)return;var t=document.createDocumentFragment();t.appendChild(e)}function s(e,t){i(e);var n=e.parentNode.querySelectorAll(t);for(var r=0,s=n.length;r<s;r++)if(n[r]===e)return!0;return!1}function o(e,t){return i(e),r(e,t)}var n=function(){if(t.matchesSelector)return"matchesSelector";var e=["webkit","moz","ms","o"];for(var n=0,r=e.length;n<r;n++){var i=e[n],s=i+"MatchesSelector";if(t[s])return s}}(),u;if(n){var a=document.createElement("div"),f=r(a,"div");u=f?r:o}else u=s;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return u}):window.matchesSelector=u}(this,Element.prototype),function(e){function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){for(var t in e)return!1;return t=null,!0}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function o(e,t,o){function d(e,t){if(!e)return;this.element=e,this.layout=t,this.position={x:0,y:0},this._create()}var u=o("transition"),a=o("transform"),f=u&&a,l=!!o("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],h=["transform","transition","transitionDuration","transitionProperty"],p=function(){var e={};for(var t=0,n=h.length;t<n;t++){var r=h[t],i=o(r);i&&i!==r&&(e[r]=i)}return e}();r(d.prototype,e.prototype),d.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.getSize=function(){this.size=t(this.element)},d.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=p[n]||n;t[r]=e[n]}},d.prototype.getPosition=function(){var e=n(this.element),t=this.layout.options,r=t.isOriginLeft,i=t.isOriginTop,s=parseInt(e[r?"left":"right"],10),o=parseInt(e[i?"top":"bottom"],10);s=isNaN(s)?0:s,o=isNaN(o)?0:o;var u=this.layout.size;s-=r?u.paddingLeft:u.paddingRight,o-=i?u.paddingTop:u.paddingBottom,this.position.x=s,this.position.y=o},d.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var v=l?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};d.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),s=parseInt(t,10),o=i===this.position.x&&s===this.position.y;this.setPosition(e,t);if(o&&!this.isTransitioning){this.layoutPosition();return}var u=e-n,a=t-r,f={},l=this.layout.options;u=l.isOriginLeft?u:-u,a=l.isOriginTop?a:-a,f.transform=v(u,a),this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},d.prototype.moveTo=f?d.prototype._transitionTo:d.prototype.goTo,d.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},d.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},d.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=a&&s(a)+",opacity";d.prototype.enableTransition=function(){if(this.isTransitioning)return;this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1)},d.prototype.transition=d.prototype[u?"_transition":"_nonTransition"],d.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},d.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};d.prototype.ontransitionend=function(e){if(e.target!==this.element)return;var t=this._transn,n=g[e.propertyName]||e.propertyName;delete t.ingProperties[n],i(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]);if(n in t.onEnd){var r=t.onEnd[n];r.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])},d.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},d.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return d.prototype.removeTransitionStyles=function(){this.css(y)},d.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},d.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},d.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},d.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},d.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d}var t=e.getComputedStyle,n=t?function(e){return t(e,null)}:function(e){return e.currentStyle};typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(e.Outlayer={},e.Outlayer.Item=o(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function s(e,t){for(var n in t)e[n]=t[n];return e}function u(e){return o.call(e)==="[object Array]"}function a(e){var t=[];if(u(e))t=e;else if(e&&typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function c(e,t){var n=l(t,e);n!==-1&&t.splice(n,1)}function h(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function p(o,u,l,p,d,v){function y(e,r){typeof e=="string"&&(e=t.querySelector(e));if(!e||!f(e)){n&&n.error("Bad "+this.constructor.namespace+" element: "+e);return}this.element=e,this.options=s({},this.constructor.defaults),this.option(r);var i=++m;this.element.outlayerGUID=i,g[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var m=0,g={};return y.namespace="outlayer",y.Item=v,y.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},s(y.prototype,l.prototype),y.prototype.option=function(e){s(this.options,e)},y.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},y.prototype._itemize=function(e){var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[];for(var i=0,s=t.length;i<s;i++){var o=t[i],u=new n(o,this);r.push(u)}return r},y.prototype._filterFindItemElements=function(e){e=a(e);var t=this.options.itemSelector,n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];if(!f(s))continue;if(t){d(s,t)&&n.push(s);var o=s.querySelectorAll(t);for(var u=0,l=o.length;u<l;u++)n.push(o[u])}else n.push(s)}return n},y.prototype.getItemElements=function(){var e=[];for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].element);return e},y.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},y.prototype._init=y.prototype.layout,y.prototype._resetLayout=function(){this.getSize()},y.prototype.getSize=function(){this.size=p(this.element)},y.prototype._getMeasurement=function(e,t){var n=this.options[e],r;n?(typeof n=="string"?r=this.element.querySelector(n):f(n)&&(r=n),this[e]=r?p(r)[t]:n):this[e]=0},y.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},y.prototype._getItemsForLayout=function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];i.isIgnored||t.push(i)}return t},y.prototype._layoutItems=function(e,t){function r(){n.emitEvent("layoutComplete",[n,e])}var n=this;if(!e||!e.length){r();return}this._itemsOn(e,"layout",r);var i=[];for(var s=0,o=e.length;s<o;s++){var u=e[s],a=this._getItemLayoutPosition(u);a.item=u,a.isInstant=t||u.isLayoutInstant,i.push(a)}this._processLayoutQueue(i)},y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},y.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},y.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},y.prototype._postLayout=function(){this.resizeContainer()},y.prototype.resizeContainer=function(){if(!this.options.isResizingContainer)return;var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},y.prototype._getContainerSize=i,y.prototype._setContainerMeasure=function(e,t){if(e===undefined)return;var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"},y.prototype._itemsOn=function(e,t,n){function o(){return r++,r===i&&n.call(s),!0}var r=0,i=e.length,s=this;for(var u=0,a=e.length;u<a;u++){var f=e[u];f.on(t,o)}},y.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},y.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},y.prototype.stamp=function(e){e=this._find(e);if(!e)return;this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var r=e[t];this.ignore(r)}},y.prototype.unstamp=function(e){e=this._find(e);if(!e)return;for(var t=0,n=e.length;t<n;t++){var r=e[t];c(r,this.stamps),this.unignore(r)}},y.prototype._find=function(e){if(!e)return;return typeof e=="string"&&(e=this.element.querySelectorAll(e)),e=a(e),e},y.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}},y.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},y.prototype._manageStamp=i,y.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=p(e),i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i},y.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},y.prototype.bindResize=function(){if(this.isResizeBound)return;o.bind(e,"resize",this),this.isResizeBound=!0},y.prototype.unbindResize=function(){this.isResizeBound&&o.unbind(e,"resize",this),this.isResizeBound=!1},y.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},y.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()},y.prototype.needsResizeLayout=function(){var e=p(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},y.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},y.prototype.appended=function(e){var t=this.addItems(e);if(!t.length)return;this.layoutItems(t,!0),this.reveal(t)},y.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length)return;var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)},y.prototype.reveal=function(e){var t=e&&e.length;if(!t)return;for(var n=0;n<t;n++){var r=e[n];r.reveal()}},y.prototype.hide=function(e){var t=e&&e.length;if(!t)return;for(var n=0;n<t;n++){var r=e[n];r.hide()}},y.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var r=this.items[t];if(r.element===e)return r}},y.prototype.getItems=function(e){if(!e||!e.length)return;var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n],s=this.getItem(i);s&&t.push(s)}return t},y.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(!t||!t.length)return;this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,r=t.length;n<r;n++){var i=t[n];i.remove(),c(i,this.items)}},y.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;t<n;t++){var i=this.items[t];i.destroy()}this.unbindResize(),delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},y.data=function(e){var t=e&&e.outlayerGUID;return t&&g[t]},y.create=function(e,i){function o(){y.apply(this,arguments)}return Object.create?o.prototype=Object.create(y.prototype):s(o.prototype,y.prototype),o.prototype.constructor=o,o.defaults=s({},y.defaults),s(o.defaults,i),o.prototype.settings={},o.namespace=e,o.data=y.data,o.Item=function(){v.apply(this,arguments)},o.Item.prototype=new v,u(function(){var i=h(e),s=t.querySelectorAll(".js-"+i),u="data-"+i+"-options";for(var a=0,f=s.length;a<f;a++){var l=s[a],c=l.getAttribute(u),p;try{p=c&&JSON.parse(c)}catch(d){n&&n.error("Error parsing "+u+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+d);continue}var v=new o(l,p);r&&r.data(l,e,v)}}),r&&r.bridget&&r.bridget(e,o),o},y.Item=v,y}var t=e.document,n=e.console,r=e.jQuery,i=function(){},o=Object.prototype.toString,f=typeof HTMLElement=="object"?function(t){return t instanceof HTMLElement}:function(t){return t&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"},l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],p):e.Outlayer=p(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function n(e,n){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;this.colYs=[];while(e--)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&n(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=n(e);this.containerWidth=t&&t.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var n=e.size.outerWidth%this.columnWidth,r=n&&n<1?"round":"ceil",i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);var s=this._getColGroup(i),o=Math.min.apply(Math,s),u=t(s,o),a={x:this.columnWidth*u,y:o},f=o+e.size.outerHeight,l=this.cols+1-s.length;for(var c=0;c<l;c++)this.colYs[u+c]=f;return a},r.prototype._getColGroup=function(e){if(e<2)return this.colYs;var t=[],n=this.cols+1-e;for(var r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var t=n(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,s=i+t.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);var a=(this.options.isOriginTop?r.top:r.bottom)+t.outerHeight;for(var f=o;f<=u;f++)this.colYs[f]=Math.max(a,this.colYs[f])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){var e=0,t=this.cols;while(--t){if(this.colYs[t]!==0)break;e++}return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r}var t=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i===t)return n}return-1};typeof define=="function"&&define.amd?define("masonry",["outlayer/outlayer","get-size/get-size"],n):e.Masonry=n(e.Outlayer,e.getSize)}(window),define("YSDDateFormatter",["datejs"],function(){var e={formatISODate:function(e){var t=new Date(e),n=t.toISOString("yyyy-MM-ddTHH:mm:ss");return typeof t.getTimezoneOffset()=="undefined"||t.getTimezoneOffset()==0?n+="Z":n+=this.extractTimeZone(t),n},extractTimeZone:function(e){var t=e.getTimezoneOffset()*-1,n=t%60,r=(t-n)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).substr(-2)+":"+("0"+(n*101).toString()).substr(-2)}};return e}),define("YSDjson2",["json2"],function(){var e=JSON.parse;JSON.parse=function(t){var n=e(t,function(e,t){var n;if(typeof t=="string"){n=/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)\sUTC$/.exec(t);if(n)return new Date(t);n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z|((([+|-])\d{2}):\d{2}))$/.exec(t);if(n){var r=0;if(n[n.length-1]=="+"||n[n.length-1]=="-")r=parseInt(n[n.length-2])*-1;var i=+n[1],s=+n[2]-1,o=+n[3],u=+n[4]+r,a=+n[5],f=+n[6],l=new Date(Date.UTC(i,s,o,u,a,f));return l}if(t.slice(0,5)==="Date("&&t.slice(-1)===")"){var c=new Date(t.slice(5,-1));if(c)return c}}return t});return n}}),define("YSDEntityManagementComplementHooks",[],function(){return YSDEntityManagementComplementHooks={complements:[],register:function(e){this.complements.push(e)}},YSDEntityManagementComplementHooks}),define("YSDArrayDataModel",[],function(){function e(){this.data=[],this.index=-1,this.setData=function(e){this.data=e},this.getData=function(){return this.data},this.setIndex=function(e){e>=0&&e<this.count()&&(this.index=e)},this.count=function(){return this.data.length},this.current=function(){return this.index<0||this.index>=this.count()?null:this.data[this.index]},this.currentForUpdate=function(){return this.current()},this.append=function(e){this.data.push(e),this.setIndex(this.count()-1)},this.synchronize=function(e){for(field in e)typeof e[field]!="function"&&this.updateField(field,e[field]);return this.currentForUpdate()},this.updateField=function(e,t){this.current()[e]=t}}return e}),define("YSDEventTarget",[],function(){return YSDEventTarget=function(){this.listeners={},this.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},this.removeEventListener=function(e,t){this.listeners[e]instanceof Array&&(this.listeners[e].slice(this.listeners[e].indexOf(t),1),this.listeners[e].length==0&&delete this.listeners[e])},this.fireEvent=function(e){typeof e=="string"&&(e={type:e}),e.target||(e.target=this);if(!e.type)throw new Error("The event needs a event type");if(this.listeners[e.type]instanceof Array){var t=this.listeners[e.type];for(n in t)t[n].call(this,e)}}},YSDEventTarget}),define("YSDStyles",[],function(){var e={};return e.opacity=function(e,t){e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")"},e.size=function(e,t,n){e.style.width=t+"px",e.style.height=n+"px"},e.hide=function(e){e.style.display="none"},e.show=function(e){e.style.display="block"},e.center=function(e){e.style.position="fixed";var t=window.innerHeight||Math.min(document.body.clientHeight,window.screen.height),n=window.innerWidth||Math.min(document.body.clientWidth,window.screen.width);e.style.top=(new Number(Math.max((t-e.clientHeight)/2,20))).toFixed(0)+"px",e.style.left=(new Number(Math.max((n-e.clientWidth)/2,10))).toFixed(0)+"px"},e.center_container=function(e){e.style.marginTop=(new Number((e.parentNode.clientHeight-e.clientHeight)/2)).toFixed(0)+"px",e.style.marginLeft=(new Number((e.parentNode.clientWidth-e.clientWidth)/2)).toFixed(0)+"px"},e}),define("YSDEvents",[],function(){var e={};return e.addEvent=function(e,t,n){if(e==null||e==undefined)return;e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},e.removeEvent=function(e,t,n){if(e==null||e==undefined)return;e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},e}),define("YSDGui",["YSDStyles","YSDEvents","jquery"],function(e,t,n){var r={};return r.createBackground=function(r){var i=document.createElement("div");i.id="background",i.style.zIndex=1e3,i.style.backgroundColor=r,i.style.position="absolute",i.style.top=0,i.style.left=0;var s=document.createElement("img");s.id="background_loading",s.src="/img/loadinfo_net.gif",i.appendChild(s),e.size(i,Math.max(window.screen.width||0,document.width||0,document.body.clientWidth||0),Math.max(window.screen.height||0,document.height||0,document.body.clientHeight||0)),e.opacity(i,50),t.addEvent(window,"resize",function(){e.size(i,Math.max(window.screen.width||0,document.width||0,document.body.clientWidth||0),Math.max(window.screen.height||0,document.height||0,document.body.clientHeight||0))}),document.body.appendChild(i);var o=n(document).height(),u=n(document).width();return n("#background").css({height:o,width:u}),e.center(s),i},r.lockBackground=function(e,t){var n=document.getElementById("background");return n&&r.unLockBackground(),n=r.createBackground(e),n},r.unLockBackground=function(){var e=document.getElementById("background");e&&e.parentNode.removeChild(e)},r.hideElement=function(t){e.hide(t),r.unLockBackground(),n(t).css("position",""),n(t).removeAttr("top",""),n(t).removeAttr("left",""),n(t).removeAttr("z-index","")},r.showElement=function(n,i,s){var o=r.lockBackground("#000000",i);o.style.zIndex=1e3,t.removeEvent(o,"click",r.unLockBackground),i&&t.addEvent(o,"click",function(){r.hideElement(n),s&&typeof s=="function"&&s()}),e.show(n),n.style.zIndex=1001,e.center(n)},r.tabs=function(e,t){n(e+" > div").hide(),n(t+" li:first").attr("id","current"),n(e+" > div:first").fadeIn(),n(t+" a").click(function(r){r.preventDefault();if(n(this).closest("li").attr("id")=="current")return;n(e+" > div").hide(),n(t+" li").attr("id",""),n(this).parent().attr("id","current"),n("#"+n(this).attr("name")).fadeIn()})},r}),define("YSDEntityManagementModel",["jquery","YSDEventTarget","YSDGui","YSDjson2","jquery.formparams","jquery.validate"],function(e,t,n){function r(r,i,s,o,u,a,f){this.urls={},this.urls.query_url=r.query_url,this.urls.create_url=r.create_url,this.urls.update_url=r.update_url,this.urls.delete_url=r.delete_url,typeof r.delete_all_url!="undefined"&&(this.urls.delete_all_url=r.delete_all_url),this.urls.get_url=r.get_url,this.entityView=o,this.entity=i,u==null?this.entityHooks=[]:u instanceof Array?this.entityHooks=u:this.entityHooks=new Array(u),this.pageSize=s,this.state="initial",this.navigationMode="page",this.queryMode="page",this.dataModel=a,this.summary=null,this.page=1,this.lastError=null,this.events=new t,this.forceReload=!1,this.searchData={},this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.change_state=function(e){switch(e){case"query_execution":this.state="executing_query";break;case"query_executed_successful":this.state="data_loaded";break;case"query_executed_error":this.state="error_retrieving_data";break;case"bulk_action":this.state="executing_bulk_action";break;case"bulk_action_executed_successfully":this.state="bulk_action_executed";break;case"bulk_action_executed_error":this.state="error_executing_bulk_action";break;case"execute_action":this.state="executing_action";break;case"action_executed_successfully":this.state="action_executed";break;case"action_executed_error":this.state="error_executing_action";break;case"entity_load":this.state="loading_entity";break;case"entity_loaded_successfully":this.state="entity_loaded";break;case"entity_loaded_error":this.state="error_loading_entity";break;case"entity_create":this.state="creating_entity";break;case"entity_created_successfully":this.state="entity_created";break;case"entity_created_error":this.state="error_creating_entity";break;case"entity_update":this.state="updating_entity";break;case"entity_updated_successfully":this.state="entity_updated";break;case"entity_updated_error":this.state="error_updating_entity";break;case"entity_delete":this.state="deleting_entity";break;case"entity_deleted_successfully":this.state="entity_deleted";break;case"entity_deleted_error":this.state="error_deleting_entity";break;case"all_entities_delete":this.state="deleting_all_entities";break;case"all_entities_deleted_successfully":this.state="all_entities_deleted";break;case"all_entities_deleted_error":this.state="error_deleting_all_entities"}this.events.fireEvent({type:"state_changed",state:this.state})},this.extractConfigurationFromURL=function(){var e=window.location.pathname;this.configuration.prefix&&(e=e.replace(this.configuration.prefix,""));var t=e.split("/");["en","es","ca","fr"].indexOf(t[t.length-1])>=0&&t.splice(t.length-1,1);var n=null;this.configuration.parent_filtered?t.length==3?(this.configuration.url_base="/"+t[1],this.configuration.parentId=t[2],this.configuration.action="list",this.configuration.id=null):t.length>3&&(this.configuration.url_base="/"+t[1],this.configuration.parentId=t[2],t[3].match(/new|edit/)?(this.configuration.action=t[3],t.length>=4&&(this.configuration.id=t[4])):(this.configuration.action="view",this.configuration.id=t[3])):(this.configuration.parentId=null,t.length==2?(this.configuration.url_base="/"+t[1],this.configuration.action="list",this.configuration.id=null):t.length>2&&(this.configuration.url_base=t[1],t[2].match(/new|edit/)?(this.configuration.action=t[2],t.length>=3&&(this.configuration.id=t[3])):(this.configuration.action="view",this.configuration.id=t[2])))},this.extractSearchParamsFromURL=function(){var e={},t,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))},s=window.location.search.substring(1);while(t=r.exec(s))e[i(t[1])]=i(t[2]);typeof this.configuration.search_params=="undefined"&&(this.configuration.search_params={});for(var o in e)this.configuration.search_params[o]=e[o]},this.configuration={};if(f)for(property in f)this.configuration[property]=f[property];(!this.configuration.url_base||!this.configuration.action)&&this.extractConfigurationFromURL(),this.extractSearchParamsFromURL(),this.setPage=function(e){this.page=e;var t=0;for(var n in this.searchData)t++;t==0?this.query():this.query(this.searchData)},this.setEntityIndex=function(e){this.dataModel.setIndex(e),this.navigationMode!="entity"&&(this.navigationMode="entity"),this.events.fireEvent({type:"entity_selected"})},this.getEntityIndex=function(){return this.dataModel.index},this.currentEntity=function(){return this.state=="creating_entity"?null:this.dataModel.current()},this.getEntityId=function(e){for(var t=0;t<this.entityHooks.length;t++)if(this.entityHooks[t].entityKey)return this.entityHooks[t].entityKey(e);return null},this.getEntityIndexFromObject=function(e){var t=this.getEntities(),n=this.getEntityId(e);for(var r=0;r<t.length;r++)if(n!=null&&n==this.getEntityId(t[r]))return r;return-1},this.synchronizeEntities=function(e){var t=this.getEntityIndex();try{var n=null;for(var r=0;r<e.length;r++)n=getEntityIndexFromObject(e[r]),n>-1&&(this.setEntityIndex(n),this.synchronizeCurrentEntity(e[r]))}finally{this.setEntityIndex(t)}return this.dataModel.getData()},this.synchronizeCurrentEntity=function(e){return this.dataModel.synchronize(e)},this.appendEntity=function(e){this.dataModel.append(e),this.summary==null&&(this.summary={total:1})},this.entitiesCount=function(){return this.dataModel.count()},this.setEntities=function(e){this.dataModel.setData(e),this.dataModel.setIndex(0)},this.getEntities=function(){return this.dataModel.getData()},this.reload=function(){var e=0;for(var t in this.searchData)e++;e==0?this.query():this.query(this.searchData)},this.queryParams=function(){var e=this.queryMode,t="";if(e=="page")t="/page/"+this.page;else for(var n=0;n<this.entityHooks.length;n++)if(this.entityHooks[n].entityKey){t="/"+this.entityHooks[n].entityKey(this.currentEntity());break}return t},this.hash_page_expression=/^(\w+)\/page\/(\d+)$/,this.hash_element_expression=/^(\w+)\/(\d+)$/,this.setLocationHash=function(e){e!=window.location.hash.substring(window.location.hash.indexOf("#"))&&(window.location.hash=e)},this.summaryPageMessage=function(){return Math.max((this.page-1)*this.pageSize+1,1)+" - "+Math.min(this.page*this.pageSize,this.summary.total)+" de "+this.summary.total},this.summaryElementMessage=function(){return(this.page-1)*this.pageSize+this.getEntityIndex()+1+" de "+this.summary.total},this.summaryMessage=function(){return this.navigationMode=="page"?this.summaryPageMessage():this.summaryElementMessage()},this.nextPage=function(){this.isLastPage()||this.setPage(this.page+1)},this.previousPage=function(){this.isFirstPage()||this.setPage(this.page-1)},this.nextElement=function(){this.isLastElement()?this.nextPage():this.setEntityIndex(this.getEntityIndex()+1)},this.previousElement=function(){this.isFirstElement()?this.previousPage():this.setEntityIndex(this.getEntityIndex()-1)},this.isFirstPage=function(){return this.page==1},this.isLastPage=function(){return this.pageSize*this.page>=this.summary.total},this.isFirstElement=function(){return this.getEntityIndex()==0},this.isLastElement=function(){return this.getEntityIndex()==this.entitiesCount()-1},this.get=function(){this.change_state("entity_load");var t=this,r=this.urls.get_url;this.configuration.id&&(r+="/"+this.configuration.id),n.lockBackground&&n.lockBackground("#000000",!1),e.ajax({url:r,type:"GET",content_type:"json",headers:{Accept:"application/json"},dataType:"json",success:function(e,n,r){e!=null&&(e.data&&e.summary?(t.setEntities(e.data),t.summary=e.summary):(t.setEntities(new Array(e)),t.summary={total:1})),t.change_state("entity_loaded_successfully")},error:function(e,n,r){t.change_state("entity_loaded_error")},complete:function(e,t){n.unLockBackground&&n.unLockBackground()}})},this.create=function(t,r){this.change_state("entity_create");var i=this,s=t||this.urls.create_url;if(!e(e(".create-entity-button")[0].form).valid()){this.entityView.notify_user("Validation errors","Check the form. There are errors");return}var o=e(e(".create-entity-button")[0].form).formParams(!0);for(var u=0;u<this.entityHooks.length;u++)this.entityHooks[u].adaptFormData&&(o=this.entityHooks[u].adaptFormData(o));o=encodeURIComponent(JSON.stringify(o)),this.configuration.newInline||n.lockBackground("#000000",!1),e.ajax({url:s,data:o,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,n){i.appendEntity(e);for(var s=0;s<i.entityHooks.length;s++)i.entityHooks[s].onCreate&&i.entityHooks[s].onCreate(e);i.change_state("entity_created_successfully"),r&&r()},error:function(e,t,n){i.change_state("entity_created_error")},complete:function(e,t){i.configuration.newInline||n.unLockBackground()}})},this.update=function(t,r,i){this.change_state("entity_update");var s=this,o=t||this.urls.update_url,u=i||e(".update-entity-button")[0];if(!e(u.form).valid()){this.entityView.notify_user("Validation errors","Check the form. There are errors");return}var a=e(u.form).formParams(!0);for(var f=0;f<this.entityHooks.length;f++)this.entityHooks[f].adaptFormData&&(a=this.entityHooks[f].adaptFormData(a));a=encodeURIComponent(JSON.stringify(a)),this.configuration.editInline||n.lockBackground("#000000",!1),e.ajax({url:o,data:a,type:"PUT",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,n){s.synchronizeCurrentEntity(e),s.change_state("entity_updated_successfully"),r&&r()},error:function(e,t,n){s.change_state("entity_updated_error")},complete:function(e,t){s.configuration.editInline||n.unLockBackground()}})},this.deleteCurrent=function(t){this.change_state("entity_delete");var r=this.urls.delete_url,i=this,s=encodeURIComponent(JSON.stringify(this.currentEntity()));n.lockBackground&&n.lockBackground("#000000",!1),e.ajax({url:r,data:s,type:"DELETE",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,n,r){for(var s=0;s<i.entityHooks.length;s++)i.entityHooks[s].onDelete&&i.entityHooks[s].onDelete(e);i.change_state("entity_deleted_successfully"),t&&t()},error:function(e,t,n){i.change_state("entity_deleted_error")},complete:function(e,t){n.unLockBackground&&n.unLockBackground()}})},this.deleteAll=function(t){this.change_state("all_entities_delete");var r=this,i=this.urls.delete_all_url;n.lockBackground&&n.lockBackground("#000000",!1),e.ajax({url:i,data:null,type:"DELETE",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,n,i){r.change_state("all_entities_deleted_successfully"),t&&t()},error:function(e,t,n){r.lastError=t,r.change_state("all_entities_deleted_error")},complete:function(e,t){n.unLockBackground&&n.unLockBackground()}})},this.query=function(t,r){this.change_state("query_execution"),typeof t!="undefined"&&(t=encodeURIComponent(JSON.stringify(t)));var i=encodeURIComponent(JSON.stringify(e(e(".search-entity-input")[0].form).formParams(!1))),s=this.urls.query_url+this.queryParams(),o=this;this.setLocationHash(this.queryParams()),n.lockBackground&&n.lockBackground("#000000",!1),e.ajax({url:s,data:t||i,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,n){o.dataModel.setData(e.data),o.summary=e.summary,o.change_state("query_executed_successful"),r&&r()},error:function(e,t,n){o.lastError=t,o.change_state("query_executed_error")},complete:function(e,t){n.unLockBackground&&n.unLockBackground()}})},this.navigateTo=function(e){window.location.href=e},this.action=function(t,r,i,s){var o=null,u=this;this.change_state("execute_action"),n.lockBackground("#000000",!1),typeof i!="undefined"&&(o=encodeURIComponent(JSON.stringify(i))),e.ajax({url:r,data:o,type:t,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,n){u.synchronizeCurrentEntity(e);for(var r=0;r<u.entityHooks.length;r++)u.entityHooks[r].onAction&&u.entityHooks[r].onAction(u,e);u.change_state("action_executed_successfully"),s&&s()},error:function(e,t,n){u.lastError=t,u.change_state("action_executed_error")},complete:function(e,t){n.unLockBackground()}})},this.bulkAction=function(t,r,i){var s=e(e(".selectable-entity")[0].form).formParams(!0),o=this;this.change_state("bulk_action"),n.lockBackground("#000000",!1),e.ajax({url:r,data:s,type:t,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,n){o.synchronizeEntities(e),o.change_state("bulk_action_executed_successfully"),i&&i()},error:function(e,t,n){o.lastError=t,o.change_state("bulk_action_executed_error")},complete:function(e,t){n.unLockBackground()}})},this.notifyHooks=function(e){for(var t=0;t<this.entityHooks.length;t++)this.entityHooks[t].onNotify&&this.entityHooks[t].onNotify(e)}}return r}),define("YSDEntityManagementController",[],function(){function e(){this.setModel=function(e){this.model=e},this.setView=function(e){this.view=e},this.showEntityDetail=function(e){this.model.setEntityIndex(e)},this.nextPageButtonClick=function(){this.model.nextPage()},this.previousPageButtonClick=function(){this.model.previousPage()},this.nextElementButtonClick=function(){this.model.nextElement()},this.previousElementButtonClick=function(){this.model.previousElement()},this.newEntityButtonClick=function(){this.view.newEntity()},this.editEntityButtonClick=function(){this.view.editEntity()},this.createEntityButtonClick=function(e){var t=$(e).attr("data-create-url");this.model.create(t)},this.updateEntityButtonClick=function(e){var t=$(e).attr("data-update-url");this.model.update(t,null,e)},this.cancelEntityButtonClick=function(){this.view.cancelEntity()},this.deleteEntityButtonClick=function(){var e=this.model;this.view.ask_for_confirmation("Delete entity","Are you sure you want to delete this entity? This process can not be undone.",function(){e.deleteCurrent()})},this.deleteAllEntitiesButtonClick=function(){var e=this.model;this.view.ask_for_confirmation("Delete all entities","Are you sure you want to delete all entities? This process can not be undone.",function(){e.deleteAll()})},this.searchButtonClick=function(){var e=$($(".search-entity-button")[0].form).formParams(!0);for(var t=0;t<this.model.entityHooks.length;t++)this.model.entityHooks[t].adaptSearchFormData&&(e=this.model.entityHooks[t].adaptSearchFormData(e));this.model.page=1,this.model.searchData=e,this.model.query(e)},this.searchInputChange=function(){this.model.query()}}return e}),define("ysdtemplate",[],function(){var e={},t=function n(t,r,i){i=i||!0;var s=/\W/.test(t)?new Function("obj","var p=[], print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i?e[t]=e[t]||n(document.getElementById(t).innerHTML):n(document.getElementById(t).innerHTML);return r?s(r):s};return t}),define("ysdhtmleditor",["jquery","jquery.wysiwyg"],function(e){return htmlEditor=function(t){e(t).wysiwyg({autoSave:!0,removeHeadings:!0,initialContent:"",iFrameClass:"html_editor",css:"/css/style.css",replaceDivWithP:!1,controls:{h1:{visible:!1},html:{visible:!0}}})},htmlEditor}),define("YSDForms",["jquery","ysdhtmleditor","jquery.placeholder","jquery.formparams","jquery.ui","bootstrap","jquery.bsAlerts","jquery.validate","datejs"],function(e,t){var n={};return n.improve=function(){e(e("form").find("input[placeholder],textarea[placeholder]")).placeholder(),t(".texteditor"),e('form[data-remote="ajax"]').find('input[type="submit"]').bind("click",function(){var t=e(this.form)[0];return n.submitAjax(t),!1}),e('[data-autosubmit="true"]').bind("change",function(){var e=this.form;n.submitAjax(e)}),e(".render-to-edit").bind("click",function(){var t=e(this).attr("rel");e('.edit[rel="'+t+'"]').show(),e('.render[rel="'+t+'"]').hide()}),n.appendValidators()},n.appendValidators=function(){e.validator.addMethod("time24",function(e,t){if(""===e)return!0;if(!/^\d{2}:\d{2}$/.test(e))return!1;var n=e.split(":");return parseInt(n[0])>23||parseInt(n[1])>59?!1:!0}),e.validator.addMethod("regexp",function(e,t,n){var r=new RegExp(n);return this.optional(t)||r.test(e)}),e.validator.addMethod("validDate",function(e,t){return e!=""&&Date.parseExact(e,"d/M/yyyy")==null?!1:!0}),e.validator.addMethod("maxDate",function(e,t,n){var r=Date.parseExact(e,"d/M/yyyy");return r!=null&&r>n?!1:!0}),e.validator.addMethod("minDate",function(e,t,n){var r=Date.parseExact(e,"d/M/yyyy");return r!=null&&r<n?!1:!0})},n.submitAjax=function(t){var r=encodeURIComponent(JSON.stringify(e(t).formParams(!0))),i=e(t).attr("data-remote-method")||t.method;e.ajax({url:t.action,data:r,type:i,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e,t,r){n.showAlert("done","success")},error:function(e,t,r){n.showAlert(t,"error")}})},n.showAlert=function(t,n){e(document).trigger("add-alerts",{message:t,priority:n})},n.showModalDialogNotification=function(t,n){e("<div title='"+t+"'>"+n+"</div>").dialog({height:250,modal:!0,buttons:{Ok:function(){e(this).dialog("close")}}})},n.limit_text_area_content_size=function(t,n,r){r&&r.call(t,n-t.value.length),e(t).bind("keydown",function(e){var t=e.target.value.length;if(t==n&&e.keyCode!=8&&e.keyCode!=46&&e.keyCode!=37&&e.keyCode!=38&&e.keyCode!=39&&e.keyCode!=40)return!1}),e(t).bind("keyup",function(e){e.target.value.length>n&&(e.target.value=e.target.value.substring(0,n)),r&&r.call(e.target,n-e.target.value.length)}),e(t).bind("change",function(e){r&&r.call(e.target,n-e.target.value.length)})},n}),define("YSDFormatter",["datejs"],function(){var e={formatDate:function(e,t){return typeof t=="undefined"&&(t="dd.MM.yyyy HH:mm"),e instanceof Date?e.toString(t):isNaN(new Date(e))?"":(new Date(e)).toString(t)},formatCurrency:function(e,t){},formatPadNumber:function(e,t){var n=""+e;while(n.length<t)n="0"+n;return n}};return e}),define("YSDEntityManagementView",["ysdtemplate","YSDStyles","YSDGui","YSDForms","jquery","ysdhtmleditor","YSDFormatter","jquery.ui","datejs","bootstrap","jquery.bsAlerts","autonumeric","jquery.timeentry","jquery.validate"],function(e,t,n,r,i,s,o){function u(t){this.navigationAction=null,this.controller=t,this.controller&&this.controller.setView(this),this.setModel=function(e){this.model=e;var t=this;this.model.addListener("state_changed",function(e){t.state_changed(e)}),this.model.addListener("entity_selected",function(e){t.editEntity()})},this.init=function(){this.buildGui(),this.configureEvents(),this.configureAction()},this.configureEvents=function(){var e=this,t=this.model,n=this.controller;i(".next-element-button").bind("click",function(t){e.update_status(""),e.navigationAction="nextElement",n.nextElementButtonClick()}),i(".previous-element-button").bind("click",function(t){e.update_status(""),e.navigationAction="previousElement",n.previousElementButtonClick()}),i(".next-page-button").bind("click",function(r){e.update_status(""),t.navigationMode="page",e.navigationAction="nextPage",n.nextPageButtonClick()}),i(".previous-page-button").bind("click",function(r){e.update_status(""),t.navigationMode="page",e.navigationAction="previousPage",n.previousPageButtonClick()}),i(".page-navigation").bind("click",function(n){e.update_status(""),t.navigationMode="page",e.pageMode();if(t.configuration.action!="list"||t.forceReload)t.forceReload=!1,t.query()}),i(".reload-entities-button").bind("click",function(n){e.update_status(""),t.query()}),i(".delete-all-entities-button").bind("click",function(t){e.update_status(""),n.deleteAllEntitiesButtonClick()}),i(".new-entity-button").bind("click",function(r){e.update_status('<div class="entity-message">New '+t.entity+" </div>"),n.newEntityButtonClick()}),i(".edit-entity-button").bind("click",function(e){this.update_status('<div class="entity-message">Edit '+this.model.entity+" </div>"),this.controller.editEntityButtonClick()}),i(".delete-entity-button").bind("click",function(e){n.deleteEntityButtonClick()}),i(".search-entity-button").bind("click",function(e){n.searchButtonClick()}),i(".search-entity-input").bind("keyup",function(e){n.searchInputChange()}),i(".search-entity-control").bind("change",function(e){n.searchInputChange()})},this.configureAction=function(){switch(this.model.configuration.action){case"new":this.newEntity();break;case"edit":this.model.get();break;case"view":this.model.get();break;case"list":var e={};for(var t=0;t<this.model.entityHooks.length;t++)this.model.entityHooks[t].setFilters&&this.model.entityHooks[t].setFilters(e);var n=0;for(var r in e)n++;n==0?this.model.query():(this.model.searchData=e,this.model.query(e))}},this.configureBackLink=function(){this.model.configuration.search_params.destination?(i("#back").attr("href",this.model.configuration.search_params.destination),i(".back-bar").show()):i(".back-bar").hide()},this.configureTabs=function(){i("#tabs_above").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),i("#tabs_above li").removeClass("ui-corner-top").addClass("ui-corner-left"),i("#tabs_above ul").children().length&&(i("#tabs_above ul").children().length==1&&(i("#tabs_above ul").hide(),i("#tabs_above .ui-tabs-panel").css("width","auto"),i("#tabs_above .ui-tabs-panel").css("float","none"),i("#tabs_above .ui-tabs-panel").css("padding","0"),i("#tabs_above .ui-tabs-panel").css("border","none")),i("#tabs_above").show()),i("#tabs").tabs(),i("#tabs ul").children().length?(i("#tabs ul").children().length==1&&i("#tabs ul").hide(),i("#show_tabs").show(),i("#show_tabs").toggle(function(){i("#tabs").show()},function(){i("#tabs").hide()})):i("#show_tabs").hide()},this.configureElementEvents=function(e){var t=this.model,n=this.controller,r=this,s=e||".element-action-button";i(s).unbind("click"),i(s).bind("click",function(e){var n=i(e.currentTarget).attr("data-action-method"),s=i(e.currentTarget).attr("data-action-url");if(n&&s){e.preventDefault();var o=i(e.currentTarget).attr("data-confirm-message");return o?r.ask_for_confirmation("Confirm",o,function(){t.action(n,s)}):t.action(n,s),!1}})},this.configureFormEvents=function(){var e=this.model,t=this.controller,n=this;i(".create-entity-button").bind("click",function(e){return e.preventDefault(),t.createEntityButtonClick(e.currentTarget),!1}),i(".update-entity-button").bind("click",function(e){return e.preventDefault(),t.updateEntityButtonClick(e.currentTarget),!1}),i(".cancel-entity-button").bind("click",function(e){n.update_status(""),t.cancelEntityButtonClick()})},this.state_changed=function(e){switch(e.state){case"bulk_action_executed":this.renderEntities();break;case"error_executing_bulk_action":this.notify_user("Error executing the process","Error executing the process");break;case"action_executed":this.update_status('<div class="entity-message entity-message-ok">action executed successfully</div>'),this.updateCurrentEntity();break;case"action_executed_error":this.notify_user("Error executing the process","Error executing the process");break;case"data_loaded":this.renderEntities(),this.model.navigationMode=="entity"&&this.model.setEntityIndex(this.navigationAction=="nextElement"?0:this.model.entitiesCount()-1);break;case"error_retrieving_data":this.notify_user("Error retrieving data","Server error retrieving data");break;case"entity_loaded":this.editEntity();break;case"error_loading_entity":this.notify_user("Error loading data","Server error loading data");break;case"entity_created":this.check_hide_inline("new"),this.update_status('<div class="entity-message entity-message-ok">'+this.model.entity+" created successfully</div>"),this.model.configuration.action=="new"?(destination=this.model.configuration.search_params.destination)?this.redirect_destination_or_base():this.model.configuration.hold_form_after_action?this.editEntity():this.newEntity():this.model.configuration.action=="list"&&(this.model.forceReload=!0,this.model.configuration.hold_form_after_action?this.editEntity():this.newEntity());break;case"entity_updated":this.check_hide_inline("edit"),this.update_status('<div class="entity-message entity-message-ok">'+this.model.entity+" updated successfully</div>");if(this.model.configuration.action=="edit"){if(!this.model.configuration.hold_form_after_action)if(destination=this.model.configuration.search_params.destination){this.redirect_destination_or_base();break}}else if(this.model.configuration.action=="list"&&!this.model.configuration.hold_form_after_action){this.updateEntityRow(this.model.currentEntity(),this.model.getEntityIndex()),this.pageMode();break}this.updateCurrentEntity();break;case"error_creating_entity":this.check_hide_inline("new"),this.update_status('<div class="entity-message entity-message-error">Error creating '+this.model.entity+"</div>"),this.notify_user("Error creating entity","Server error creating entity");break;case"error_updating_entity":this.check_hide_inline("edit"),this.update_status('<div class="entity-message entity-message-error">Error updating '+this.model.entity+"</div>"),this.notify_user("Error updating entity","Server error updating entity");break;case"all_entities_deleted":this.model.query();break;case"error_deleting_all_entities":this.update_status('<div class="entity-message entity-message-error">Error deleting all '+this.model.entity+"</div>"),this.notify_user("Error deleting all entities","Server error deleting all entities");break;case"entity_deleted":this.model.query();break;case"error_deleting_entity":this.update_status('<div class="entity-message entity-message-error">Error deleting '+this.model.entity+"</div>"),this.notify_user("Error deleting entity","Server error deleting entity")}},this.check_hide_inline=function(e){var t=e=="new"&&this.model.configuration.newInline||e=="edit"&&this.model.configuration.editInline;t&&n.hideElement(i(".element-form-container")[0])},this.renderEntities=function(){var t=this.model.getEntities();i(".elements-list").hide(),this.buildEntitiesDescription(),t.length>0?this.buildEntitiesList(t):i(".elements-list").html(e("elements_no_data",{})),this.pageMode();var n=this;i(".element-row-selector").bind("click",function(){var e=new Number(i(this).attr("rel"));n.model.setEntityIndex(e)});for(var r=0;r<this.model.entityHooks.length;r++)this.model.entityHooks[r].onRenderEntities&&this.model.entityHooks[r].onRenderEntities(t)},this.newEntity=function(){i("#element-form-detail").html(e("element_template_form",{entity:null,self:this})),this.formElementMode("new");for(var t=0;t<this.model.entityHooks.length;t++)this.model.entityHooks[t].onNew&&this.model.entityHooks[t].onNew()},this.editEntity=function(){var t=this.model.currentEntity();i("#element-form-detail").html(e("element_template_form",{entity:t,self:this})),this.formElementMode("edit");for(var n=0;n<this.model.entityHooks.length;n++)this.model.entityHooks[n].onEdit&&this.model.entityHooks[n].onEdit(t)},this.cancelEntity=function(){if(this.model.configuration.action=="new"||this.model.configuration.action=="edit")(destination=this.model.configuration.search_params.destination)&&this.redirect_destination_or_base();else if(this.model.configuration.action=="list"){this.model.navigationMode=="page"||this.model.configuration.editInline?this.pageMode():this.formElementMode("edit");for(var e=0;e<this.model.entityHooks.length;e++)this.model.entityHooks[e].onCancel&&this.model.entityHooks[e].onCancel();this.model.forceReload&&(this.model.forceReload=!1,this.model.query())}},this.updateCurrentEntity=function(){var t=this.model.currentEntity();i("#element-form-detail").html(e("element_template_form",{entity:t,self:this})),this.formElementMode("edit");for(var n=0;n<this.model.entityHooks.length;n++)this.model.entityHooks[n].onEdit&&this.model.entityHooks[n].onEdit(t);this.updateEntityRow(t,this.model.getEntityIndex())},this.updateEntityRow=function(t,n){var r=e("elements_list_template",{entity:t,index:n,self:this}),s="#element_row_"+n;i(s).replaceWith(r);var o=this.controller,u=s+".element-navigation-detail, "+s+" .element-navigation-detail";i(u).bind("click",function(){o.showEntityDetail(new Number(i(this).attr("rel")))})},this.buildGui=function(){this.buildEntitiesTitle(),this.buildEntitiesDescription(),this.buildEntitiesSearch()},this.buildEntitiesTitle=function(){if(document.getElementById("elements_title")){var t=i(".elements-title"),n=e("elements_title");i(t).html(n)}},this.buildEntitiesSearch=function(){if(document.getElementById("elements_search")){var t=i(".elements-search"),n=e("elements_search");i(t).html(n);for(var r=0;r<this.model.entityHooks.length;r++)this.model.entityHooks[r].onRenderSearch&&this.model.entityHooks[r].onRenderSearch();t.show()}else if(document.getElementById("advanced_search")){var s=i(".advanced-search-container"),o=i(".advanced-search"),u=e("advanced_search");i(o).html(u);for(var r=0;r<this.model.entityHooks.length;r++)this.model.entityHooks[r].onRenderAdvancedSearch&&this.model.entityHooks[r].onRenderAdvancedSearch();s.show()}else if(i(".elements-search"))for(var r=0;r<this.model.entityHooks.length;r++)this.model.entityHooks[r].onProcessSearch&&this.model.entityHooks[r].onProcessSearch()},this.buildEntitiesDescription=function(){if(document.getElementById("elements_description")){var t=i(".elements-description")[0],n=e("elements_description");i(t).html(n)}},this.buildEntitiesList=function(t){var n=i(".elements-list")[0],r=e("elements_container_template",{});i(n).html(r);var s=document.getElementById("elements_tbody"),o=this.renderEntitiesData(t);i(s).html(o);var u=this,a=this.controller;i(".element-navigation-detail").bind("click",function(){a.showEntityDetail(new Number(i(this).attr("rel")))})},this.renderEntitiesData=function(t){var n="";for(var r in t)n+=e("elements_list_template",{entity:t[r],index:r,self:this});return n},this.pageMode=function(){i(".element-form-container").hide(),i(".element-container").hide(),i(".elements-container").show(),i(".element_actions").hide(),i(".elements_actions").show(),i(".elements-list").show(),i(".elements-container .top-navigation-bar").show(),i(".elements-container .bottom-navigation-bar").show(),i(".new-entity-button").show(),this.navigationBar(".elements-container")},this.formElementMode=function(e){e=="new"?i(".delete-entity-button").hide():i(".delete-entity-button").show(),this.model.configuration.action!="list"&&i(".page-navigation").hide();var t=e=="new"&&this.model.configuration.newInline||e=="edit"&&this.model.configuration.editInline;if(t){i(".element-form-container .top-navigation-bar").hide();var o=this;n.showElement(i(".element-form-container")[0],!0,function(){o.cancelEntity()})}else i(".elements-container").hide(),i(".elements_actions").hide(),i(".element-container").hide(),i(".element-form-container").show(),this.model.configuration.action!="list"&&this.configureBackLink(),e=="new"?i(".element_actions").hide():i(".element_actions").show(),this.navigationBar(".element-form-container");this.configureFormEvents(),this.configureElementEvents(),this.configureTabs(),s(".texteditor"),i(".alert-box").bsAlerts(),r.appendValidators()},this.isPageMode=function(){return i(".elements-container").is(":visible")},this.isFormElementMode=function(){return i(".element-form-container").is(":visible")},this.navigationBar=function(e){this.isFormElementMode()&&this.model.configuration.action=="list"||this.model.summary&&this.model.summary.total>this.model.pageSize?(i(".elements-summary").html(this.model.summaryMessage()),i(".navigation-bar-nav-buttons").show()):i(".navigation-bar-nav-buttons").hide();var t=e+" .top-navigation-bar",n=i(t).offset().top;i(window).scroll(function(){if(i(this).scrollTop()>n){var e=parseInt(i(".entity-management").css("width").replace("px",""))-parseInt(i(".top-navigation-bar").css("padding-left").replace("px",""))-parseInt(i(".top-navigation-bar").css("padding-right").replace("px",""));i(t).css("width",new String(e)+"px"),i(t).css("position","fixed"),i(t).css("top","0px")}else i(t).css("position","static"),i(t).css("width","auto")})},this.redirect_destination_or_base=function(){(destination=this.model.configuration.search_params.destination)?window.location.href=destination:window.location.href=this.model.configuration.url_base},this.notify_user=function(e,t){r.showAlert(t,"error")},this.ask_for_confirmation=function(e,t,n){var r=!1;i("<div title='"+e+"'>"+t+"</div>").dialog({height:250,modal:!0,buttons:{Ok:function(){r=!0,i(this).dialog("close")},Cancel:function(){r=!1,i(this).dialog("close")}},close:function(e,t){r&&n()}})},this.update_status=function(e){i(".entity-status-bar").html(e)},this.formatDate=function(e,t){return o.formatDate(e,t)},this.formatCurrency=function(e,t){return o.formatCurrency(e,t)},this.formatPadNumber=function(e,t){return o.formatPadNumber(e,t)}}return u}),define("YSDEntityManagement",["YSDArrayDataModel","YSDEntityManagementModel","YSDEntityManagementController","YSDEntityManagementView"],function(e,t,n,r){function i(i,s,o,u,a){this.controller=new n,this.view=new r(this.controller),this.model=new t(i,s,o,this.view,u,new e,a),this.controller.setModel(this.model),this.view.setModel(this.model);if(this.model.configuration.parentId&&this.model.configuration.parentId.length>0){var f="/"+this.model.configuration.parentId;this.model.urls.query_url+=f}this.configureHooks=function(){var e=this.model.entityHooks,t=e.length;for(var n=0;n<t;n++)e[n].manager=this},this.configureHooks(),this.view.init()}return i}),define("YSDHierachyListAdapter",[],function(){return YSDHierachyListAdapter=function(e){Array.apply(this,arguments);var t={},n=null,r=0,i=!1,s=0,o=function(e,t){var n={children:[],original_index:t};for(property in e)n[property]=e[property];return n};if(!(e instanceof Array&&e.length!=0))return;for(;;){n=e[r];if(!t[e[r].id]){var u=o(n,r);if(e[r].parent_id==null)u.level=0,this.push(u),t[e[r].id]=u,i=!0,s++;else{var a=t[e[r].parent_id];a&&(u.level=a.level+1,a.children.push(u),t[e[r].id]=u,i=!0,s++)}}if(r<e.length-1)r++;else{if(!(i&&s<e.length))break;r=0,i=!1}}},YSDHierachyListAdapter.prototype=new Array,YSDHierachyListAdapter.constructor=YSDHierachyListAdapter,YSDHierachyListAdapter}),define("YSDTreeDataModel",["YSDArrayDataModel","YSDHierachyListAdapter"],function(e,t){function n(){e.apply(this,arguments),this.adaptedData=[],this.equivalenceTable=[],this.adaptedIndex=-1,this.setData=function(e){n.prototype.setData.call(this,e),this.adaptedData=new t(e),this.equivalenceTable=[],this.addToEquivalenceTable(this.adaptedData)},this.getData=function(){return this.adaptedData},this.current=function(){return this.index<0||this.index>=this.count()?null:this.equivalenceTable[this.index]},this.currentForUpdate=function(){return this.index<0||this.index>=this.count()?null:this.data[this.equivalenceTable[this.index].original_index]},this.updateField=function(e,t){this.current()[e]=t,this.currentForUpdate()[e]=t},this.addToEquivalenceTable=function(e){for(var t=0;t<e.length;t++)this.equivalenceTable.push(e[t]),e[t].children.length>0&&this.addToEquivalenceTable(e[t].children)}}return n.prototype=new e,n.constructor=n,n}),define("YSDTreeEntityManagement",["YSDTreeDataModel","YSDEntityManagementModel","YSDEntityManagementController","YSDEntityManagementView","ysdtemplate"],function(e,t,n,r,i){function s(r,i,s,u,a){this.controller=new n,this.view=new o(this.controller),this.model=new t(r,i,s,this.entityView,u,new e,a),this.controller.setModel(this.model),this.view.setModel(this.model);if(this.model.configuration.parentId&&this.model.configuration.parentId.length>0){var f="/"+this.model.configuration.parentId;this.model.urls.query_url+=f}this.configureHooks=function(){var e=this.model.entityHooks,t=e.length;for(var n=0;n<t;n++)e[n].manager=this},this.configureHooks(),this.view.init()}function o(e){r.apply(this,arguments),this.renderEntitiesData=function(e){var t="",n=0;this.index=0;for(var r=0;r<e.length;r++)t+=this.renderEntityDataOneItem(e[r],n);return t},this.renderEntityDataOneItem=function(e,t){var n=i("elements_list_template",{entity:e,level:t,index:this.index,self:this});this.index++;if(e.children.length>0)for(var r in e.children)n+=this.renderEntityDataOneItem(e.children[r],t+1);return n}}return o.prototype=new r,s}),define("YSDDataAdapter",[],function(){return YSDDataAdapter=function(e,t){this.adaptee=e;var n=null;for(idx in t)t[idx]instanceof Function?n=t[idx](e):n=e[t[idx]],this[idx]=n},YSDDataAdapter}),define("YSDAbstractDataSource",["YSDEventTarget","YSDDataAdapter"],function(e,t){return YSDAbstractDataSource=function(){this.events=new e,this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.adaptData=function(e,n,r){var i=[];if(n!=null)for(idx in e)i.push(new t(e[idx],n));else i=e;for(idx in r)i=new r[idx](i);return i}},YSDAbstractDataSource}),define("YSDRemoteDataSource",["YSDAbstractDataSource","jquery"],function(e,t){return YSDRemoteDataSource=function(n,r,i){e.apply(this,arguments),this.url=n,this.matchingProperties=r,this.adapters=i||[],this.data=[],this.retrieveData=function(e){var n=this;t.getJSON(this.url,e,function(t){n.data=t,n.events.fireEvent({type:"data_available",data:n.adaptData(n.data,n.matchingProperties,n.adapters)})})}},YSDRemoteDataSource.prototype=new e,YSDRemoteDataSource.constructor=YSDRemoteDataSource,YSDRemoteDataSource}),define("YSDMemoryDataSource",["YSDAbstractDataSource"],function(e){return YSDMemoryDataSource=function(t,n,r){e.apply(this,arguments);if(t instanceof Array){this.data=[];for(index in t)t[index]instanceof Object?this.data.push(t[index]):this.data.push({id:t[index],description:t[index]})}else this.data=t;this.matchingProperties=n,this.adapters=r||[];var i=this;this.retrieveData=function(e){this.events.fireEvent({type:"data_available",data:i.adaptData(i.data,i.matchingProperties,i.adapters)})}},YSDMemoryDataSource.prototype=new e,YSDMemoryDataSource.constructor=YSDMemoryDataSource,YSDMemoryDataSource}),define("YSDListManagementModel",[],function(){return YSDListManagementModel=function(e){this.dataSource=e,this.data=[],this.setController=function(e){this.controller=e},this.setView=function(e){this.view=e};var t=this;this.dataSource.addListener("data_available",function(e){switch(e.type){case"data_available":t.data=e.data,t.view.notify("data_changed")}}),this.retrieveData=function(){this.dataSource.retrieveData()},this.addElement=function(e){this.data.push(e),this.view.notify("data_changed")},this.updateElement=function(e){for(var t=0;t<this.data.length;t++)if(e.id&&this.data[t].id==e.id){this.data[t]=e,this.view.notify("data_changed");break}},this.deleteElement=function(e){var t=null;for(var n=0;n<this.data.length;n++)if(this.data[n].id==e){t=n;break}t>=0&&this.data.splice(t,1),this.view.notify("data_changed")}},YSDListManagementModel}),define("YSDListManagementController",["YSDEventTarget"],function(e){return YSDListManagementController=function(t){this.model=t,this.model.setController(this),this.events=new e,this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.setView=function(e){this.view=e},this.deleteElementButtonClick=function(e){this.events.fireEvent({type:"delete_element_button_click",data:e})},this.addElementButtonClick=function(){this.events.fireEvent("add_element_button_click")}},YSDListManagementController}),define("YSDListManagementView",["jquery","ysdtemplate"],function(e,t){return YSDListManagementView=function(n,r,i,s,o,u){this.model=n,this.controller=r,this.placementId=i,this.controlName=s,this.addElementTitle=o,this.itemClass=u,this.controller.setView(this),this.model.setView(this),this.createGui=function(){if(!this.container){this.container=document.createElement("div"),this.container.setAttribute("id",s),this.container.setAttribute("class","list-management-container"),this.actions=document.createElement("div"),this.actions.setAttribute("id",s+"Actions"),this.actions.setAttribute("class","list-management-container-actions clear-float");var t=document.createTextNode(this.addElementTitle);this.appendAction=document.createElement("span"),this.appendAction.setAttribute("class","list-management-add-action smaller_text as_link"),this.appendAction.appendChild(t),this.actions.appendChild(this.appendAction);var n=document.getElementById(i);n!=null&&(n.appendChild(this.container),n.appendChild(this.actions));var r=this.controller;e("#"+s+"Actions .list-management-add-action").bind("click",function(e){r.addElementButtonClick()})}},this.notify=function(e){switch(e){case"data_changed":this.createRows()}},this.createRows=function(){e(this.container).empty();var t=this.model.data;for(var n=0;n<t.length;n++)this.createRow(t[n]);this.controller.events.fireEvent("elements_updated")},this.createRow=function(n){var r='<div class="list-management-item <%=item_class%>" rel="<%=element.id%>"> <span class="list-management-item-description"><span><%=element.description%></span></span>';n.hideDelete||(r+=' <span class="list-management-item-delete"><span class="list-management-item-delete-img smaller_text" rel="<%=element.id%>" data-icon="&#xe01a"/></span>'),r+="</div>";var i=t(r);e(this.container).append(i({element:n,item_class:this.itemClass}));var o=this.controller;e("#"+s+' .list-management-item-delete-img[rel="'+n.id+'"]').bind("click",function(t){o.deleteElementButtonClick(e(this).attr("rel"))})}},YSDListManagementView}),define("YSDListManagement",["YSDListManagementModel","YSDListManagementController","YSDListManagementView"],function(e,t,n){return YSDListManagement=function(r,i,s,o,u){this.model=new e(s),this.controller=new t(this.model),this.view=new n(this.model,this.controller,r,i,o||"upload",u),this.view.createGui(),this.model.retrieveData(),this.getData=function(){return this.model.data},this.addElement=function(e){this.model.addElement(e)},this.updateElement=function(e){this.model.updateElement(e)},this.deleteElement=function(e){this.model.deleteElement(e)},this.addListener=function(e,t){this.controller.addListener(e,t)},this.removeListener=function(e,t){this.controller.removeListener(e,t)}},YSDListManagement}),define("YSDListViewer",["YSDEventTarget","jquery","ysdtemplate"],function(e,t,n){return YSDListViewer=function(e,t,n){this.model=new YSDListViewerModel(n),this.controller=new YSDListViewerController(this.model),this.view=new YSDListViewerView(this.model,this.controller,e,t),this.view.createGui(),this.model.retrieveData()},YSDListViewerModel=function(e){this.dataSource=e,this.data=[],this.setController=function(e){this.controller=e},this.setView=function(e){this.view=e};var t=this;this.dataSource.addListener("data_available",function(e){switch(e.type){case"data_available":t.data=e.data,t.view.notify("data_changed")}}),this.retrieveData=function(){this.dataSource.retrieveData()}},YSDListViewerController=function(t){this.model=t,this.model.setController(this),this.events=new e,this.setView=function(e){this.view=e}},YSDListViewerView=function(e,r,i,s){this.model=e,this.controller=r,this.placementId=i,this.controlName=s,this.controller.setView(this),this.model.setView(this),this.createGui=function(){if(!this.container){this.container=document.createElement("div"),this.container.setAttribute("id",s),this.container.setAttribute("class","list-viewer-container");var e=document.getElementById(i);e.appendChild(this.container)}},this.notify=function(e){switch(e){case"data_changed":this.createRows()}},this.createRows=function(){t(this.container).empty();var e=this.model.data;for(var n=0;n<e.length;n++)this.createRow(e[n])},this.createRow=function(e){var r='<div class="list-management-item" rel="<%=element.id%>"> <span class="list-management-item-description"><span><%=element.description%></span></span></div>',i=n(r);t(this.container).append(i({element:e}))}},YSDListViewer}),define("YSDListSelectorModel",[],function(){return YSDListSelectorModel=function(e,t){this.dataSource=e,this.data=[],this.value=t,this.setView=function(e){this.view=e};var n=this;this.dataSource.addListener("data_available",function(e){switch(e.type){case"data_available":n.data=e.data,n.view.notify("data_changed")}}),this.retrieveData=function(){this.dataSource.retrieveData()},this.setValue=function(e){this.value=e,this.view.notify("value_changed")}},YSDListSelectorModel}),define("YSDListSelector",["YSDListSelectorModel","jquery"],function(e,t){return YSDListSelector=function(t,n,r,i,s){typeof s=="undefined"&&(s=!0),this.model=new e(r,i),this.controller=new YSDListSelectorController,this.view=new YSDListSelectorView(this.model,this.controller,n,t,s),this.controller.setView(this.view),this.model.setView(this.view),this.model.retrieveData()},YSDListSelectorController=function(){this.setView=function(e){this.view=e}},YSDListSelectorView=function(e,n,r,i,s){this.multipleChoice=s,this.model=e,this.controller=n,this.controlName=r,this.controlInputType=this.multipleChoice?"checkbox":"radio",this.controlInputName=r,this.placement_id=i,this.container=null,this.notify=function(e){switch(e){case"data_changed":this.createControls(),this.selectValues();break;case"value_changed":this.selectValues()}},this.render=function(){this.container=document.createElement("div"),this.container.setAttribute("id",r+"_container"),this.container.setAttribute("class","chooser_container")},this.selectValues=function(){var e=document.getElementsByName(this.controlName),t=null;for(var n=0;n<e.length;n++)t=e[n],this.model.value!=null&&this.model.value.indexOf(t.getAttribute("value"))>=0?t.setAttribute("checked","true"):t.removeAttribute("checked")},this.createControls=function(){var e=this.model.data,n=null,r=null,i=null,s=null;t(this.container).empty();for(idx in e)n=document.createElement("div"),n.setAttribute("class","chooser_row"),r=document.createElement("input"),r.setAttribute("type",this.controlInputType),r.setAttribute("value",e[idx].id),r.setAttribute("class","chooser"),r.setAttribute("name",this.controlInputName),s=e[idx].description,i=document.createElement("label"),i.setAttribute("for",this.controlName),i.setAttribute("class","chooser_label"),s.match(/<.+>/)?t(i).append(t(s)):i.appendChild(document.createTextNode(s)),n.appendChild(r),n.appendChild(i),this.container.appendChild(n);var o=document.getElementById(this.placement_id);t(o).empty(),o.appendChild(this.container)},this.render()},YSDListSelector}),define("YSDSelectSelectorController",[],function(){return YSDSelectSelectorController=function(){this.setView=function(e){this.view=e}},YSDSelectSelectorController}),define("YSDSelectSelectorView",[],function(){return YSDSelectSelectorView=function(e,t,n,r,i,s){this.model=e,this.controller=t,this.selectControlId=n,this.nullOption=r||!1,i?this.nullOptionText=i:this.nullOptionText="- No selection -",this.callback=s,this.notify=function(e){switch(e){case"data_changed":this.createOptions(),this.selectValues();break;case"value_changed":this.selectValues()}},this.createNullOption=function(){var e=document.getElementById(n),t=document.createElement("option");t.setAttribute("value",""),t.text=t.innerText=this.nullOptionText,e.appendChild(t)},this.createOptions=function(){var e=this.model.data,t=null,i=document.getElementById(n);if(i!=null){if(i.options.length>0)while(i.hasChildNodes())i.removeChild(i.firstChild);r&&this.createNullOption();for(idx in e)t=document.createElement("option"),t.setAttribute("value",e[idx].id),t.text=t.innerText=e[idx].description,i.appendChild(t)}this.callback&&this.callback()},this.selectValues=function(){var e=this.model.value,t=document.getElementById(n);if(t!=null){var r=t.firstElementChild;while(r){if(e instanceof Array)for(idx in e)e[idx]instanceof Object&&r.getAttribute("value")==e[idx].id?r.selected=!0:r.getAttribute("value")==e[idx]&&(r.selected=!0);else{if(e instanceof Object&&r.getAttribute("value")==e.id){r.selected=!0;break}if(r.getAttribute("value")==e){r.selected=!0;break}}r=r.nextElementSibling}}}},YSDSelectSelectorView}),define("YSDSelectSelector",["YSDListSelectorModel","YSDSelectSelectorController","YSDSelectSelectorView"],function(e,t,n){return YSDSelectSelector=function(r,i,s,o,u,a){this.model=new e(i,s),this.controller=new t,this.view=new n(this.model,this.controller,r,o,u,a),this.setValue=function(e){this.model.setValue(e)},this.controller.setView(this.view),this.model.setView(this.view),this.model.retrieveData()},YSDSelectSelector}),define("YSDSelectHierarchicalSelector",["YSDListSelectorModel","YSDSelectSelectorController","YSDSelectSelectorView"],function(e,t,n){return YSDSelectHierarchicalSelector=function(n,r,i,s,o){this.model=new e(r,i),this.controller=new t,this.view=new YSDSelectHierarchicalSelectorView(this.model,this.controller,n,s,o),this.setValue=function(e){this.model.setValue(e)},this.controller.setView(this.view),this.model.setView(this.view),this.model.retrieveData()},YSDSelectHierarchicalSelectorView=function(e,t,r,i,s){n.apply(this,arguments),this.model=e,this.controller=t,this.selectControlId=r,this.nullOption=i||!1,s?this.nullOptionText=s:this.nullOptionText="- No selection -",this.notify=function(e){switch(e){case"data_changed":this.removeOptions(),i&&this.createNullOption(),this.createOptions(this.model.data,0),this.selectValues();break;case"value_changed":this.selectValues()}},this.removeOptions=function(){var e=document.getElementById(this.selectControlId);if(e.options.length>0)while(e.hasChildNodes())e.removeChild(e.firstChild)},this.createOptions=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.createOption(r,t),r.children&&r.children.length>0&&this.createOptions(r.children,t+1)}},this.createOption=function(e,t){var n=document.getElementById(this.selectControlId),r="";for(var i=0;i<t;i++)r+="-";var s=document.createElement("option");s.setAttribute("value",e.id),s.text=s.innerText=r+e.description,n.appendChild(s)}},YSDSelectHierarchicalSelectorView.prototype=new n,YSDSelectHierarchicalSelectorView.constructor=YSDSelectHierarchicalSelectorView,YSDSelectHierarchicalSelector}),define("async",[],function(){function e(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function t(e,t){var n=/!(.+)/,r=e.replace(n,""),i=n.test(e)?e.replace(/.+!/,""):"callback";return r+=r.indexOf("?")<0?"?":"&",r+i+"="+t}return{load:function(n,r,i,s){if(s.isBuild)i(null);else{var o="__mm_asynch_req__"+ +(new Date);window[o]=i,e(t(n,o))}}}}),define("YSDLocationViewer",["YSDEventTarget","async!https://maps.google.com/maps/api/js?sensor=false!callback"],function(e){return YSDLocationViewer=function(e){this.model=new YSDLocationViewerModel,this.controller=new YSDLocationViewerController(this.model),this.view=new YSDLocationViewerView(e,this.model,this.controller),this.controller.setView(this.view),this.model.setView(this.view),this.setCenter=function(e){this.model.setCenter(e)},this.addLocation=function(e){this.model.addLocation(e)}},YSDLocationViewerModel=function(){this.locations=[],this.geocoder=null,this.region="yes",this.options=null,this.events=new e,this.setView=function(e){this.view=e},this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.getMapOptions=function(){return this.options==null&&(this.options={zoom:16,center:this.locations[0].latlng,mapTypeId:google.maps.MapTypeId.ROADMAP}),this.options},this.setCenter=function(e){this.geocoder==null&&(this.geocoder=new google.maps.Geocoder);var t=this;e.latlng?(this.locations.push(e),this.events.fireEvent({type:"set_center",location:e})):this.geocoder.geocode({address:e.address,region:this.region},function(n,r){e.latlng=new google.maps.LatLng(n[0].geometry.location.lat(),n[0].geometry.location.lng()),t.locations.push(e),t.events.fireEvent({type:"set_center",location:e})})},this.addLocation=function(e){this.geocoder==null&&(this.geocoder=new google.maps.Geocoder);var t=this;e.latlng?(t.locations.push(e),this.events.fireEvent({type:"add_location",location:e})):this.geocoder.geocode({address:e.address,region:this.region},function(n,r){e.latlng=new google.maps.LatLng(n[0].geometry.location.lat(),n[0].geometry.location.lng()),t.locations.push(e),t.events.fireEvent({type:"add_location",location:e})})}},YSDLocationViewerController=function(e){this.model=e,this.setView=function(e){this.view=e},this.infoClick=function(e,t,n){var r=new google.maps.InfoWindow({content:n.description});r.open(e,t)}},YSDLocationViewerView=function(e,t,n){this.element=e,this.model=t,this.controller=n,this.map=null;var r=this;this.model.addListener("add_location",function(e){r.addLocation(e.location)}),this.model.addListener("set_center",function(e){r.setCenter(e.location.latlng)}),this.setCenter=function(t){var n=this.model.getMapOptions();n.center=t,this.map==null?this.map=new google.maps.Map(document.getElementById(e),n):this.map.options.center=latlong},this.addLocation=function(t){this.map==null&&(this.map=new google.maps.Map(document.getElementById(e),this.model.getMapOptions()));var n=new google.maps.Marker({position:t.latlng,map:this.map,title:t.title});google.maps.event.addListener(n,"click",function(){r.controller.infoClick(r.map,n,t)})}},YSDLocationViewer}),define("YSDPagerModel",["YSDEventTarget"],function(e){function t(t,n,r){this.pageSize=t,r?this.total=r:this.total=0,n?this.currentPage=n:this.currentPage=1,this.events=new e,this.view=null,this.controller=null,this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.setView=function(e){this.view=e},this.setController=function(e){this.controller=e},this.setTotal=function(e){this.total=e},this.setCurrentPage=function(e){e>=1&&e<=this.getLastPage()&&(this.currentPage=e,this.events.fireEvent({type:"navigate",page:this.currentPage}))},this.nextPage=function(){this.currentPage<this.getLastPage()&&this.setCurrentPage(this.currentPage+1)},this.previousPage=function(){this.currentPage>1&&this.setCurrentPage(this.currentPage-1)},this.isFirstPage=function(){return this.currentPage==1},this.isLastPage=function(){return this.currentPage==this.getLastPage()},this.getLastPage=function(){return Math.ceil(this.total/this.pageSize)}}return t}),define("YSDPager",["YSDPagerModel"],function(e){function t(t,n,r,i,s){this.model=new e(t,n,r),this.controller=i,this.view=s,this.model.setView(this.view),this.model.setController(this.controller),this.controller.setModel(this.model),this.controller.setView(this.view),this.view.setModel(this.model),this.view.setController(this.controller),this.addListener=function(e,t){this.model.addListener(e,t)},this.removeListener=function(e,t){this.model.removeListener(e,t)},this.view.configGui()}return t}),define("YSDPagerSimpleController",[],function(){function e(){this.model=null,this.view=null,this.setView=function(e){this.view=e},this.setModel=function(e){this.model=e},this.buttonNavigateNextPageClick=function(){this.model.nextPage()},this.buttonNavigatePreviousPageClick=function(){this.model.previousPage()}}return e}),define("YSDPagerPListController",[],function(){function e(){this.model=null,this.view=null,this.setView=function(e){this.view=e},this.setModel=function(e){this.model=e},this.buttonNavigatePageClick=function(e){this.model.setCurrentPage(e)}}return e}),define("YSDPagerSimpleView",["jquery"],function(e){function t(t){this.containerElementId=t,this.model=null,this.controller=null,this.setModel=function(e){this.model=e},this.setController=function(e){this.controller=e},this.createButtons=function(){var n=document.getElementById(t),r=document.createElement("button"),i="form-button pager-navigation-button previous-page-button";this.model.isFirstPage()&&(i+=" disabled-form-button",r.setAttribute("disabled","disabled")),r.setAttribute("class",i),r.setAttribute("name","next-page-button"),r.text=r.innerText="<";var s=document.createElement("button"),o="form-button pager-navigation-button next-page-button";this.model.isLastPage()&&(o+=" disabled-form-button",s.setAttribute("disabled","disabled")),s.setAttribute("class",o),s.setAttribute("name","next-page-button"),s.text=s.innerText=">",n.appendChild(r),n.appendChild(s);var u=this.controller;this.model.isFirstPage()||e(r).bind("click",function(e){u.buttonNavigatePreviousPageClick()}),this.model.isLastPage()||e(s).bind("click",function(e){u.buttonNavigateNextPageClick()})},this.configEvents=function(){var t=this.controller;e(".next-element-button").bind("click",function(){t.buttonNavigateNextPageClick()}),e(".previous-element-button").bind("click",function(){t.buttonNavigatePreviousPageClick()})},this.configGui=function(){this.containerElementId?this.createButtons():this.configEvents()}}return t}),define("YSDPagerPListView",["jquery"],function(e){function t(t,n){this.containerElementId=t,this.numberOfPages=n||10,this.model=null,this.controller=null,this.setModel=function(e){this.model=e},this.setController=function(e){this.controller=e},this.createButtons=function(){var t="#"+this.containerElementId+" .pager-navigation-button",n=this.getContainer();e(n).empty(),e(t).unbind("click");var r=Math.max(this.model.currentPage-2,1),i=Math.min(this.model.currentPage+this.numberOfPages,this.model.getLastPage());for(var s=r;s<=i;s++){var o=document.createElement("button"),u="form-button pager-navigation-button";this.model.currentPage==s&&(u+=" current-page-button"),o.setAttribute("class",u),o.setAttribute("rel",s),o.setAttribute("value",s),o.setAttribute("name","navigation_button_"+s),o.text=o.innerText=s,n.appendChild(o)}var a=this.controller;e(t).bind("click",function(e){a.buttonNavigatePageClick(new Number(e.currentTarget.getAttribute("rel")))})},this.getContainer=function(){return this.container||(this.container=document.getElementById(t)),this.container},this.configGui=function(){this.createButtons()}}return t}),define("YSDPagerFactory",["YSDPagerSimpleController","YSDPagerPListController","YSDPagerSimpleView","YSDPagerPListView"],function(e,t,n,r){return PagerFactory={},PagerFactory.getPagerController=function(n){var r=null;switch(n){case"simple":r=e;break;case"page_list":r=t;break;default:r=e}return r},PagerFactory.getPagerView=function(e){var t=null;switch(e){case"simple":t=n;break;case"page_list":t=r;break;default:t=n}return t},PagerFactory}),define("YSDCommentsManager",["YSDEventTarget","YSDGui","YSDForms","ysdtemplate","jquery","YSDPager","YSDPagerFactory","YSDjson2","datejs","time","jquery.formparams","jquery.validate","jquery.ui"],function(e,t,n,r,i,s,o){return YSDCommentsManager=function(e,t,n){this.model=new YSDCommentsModel(e,t),this.controller=new YSDCommentsController(this.model),this.view=new YSDCommentsView(this.model,this.controller,n),this.model.view=this.view,this.view.render()},YSDCommentsModel=function(n,r){this.state="none",this.comment_set_id=n,this.comments=[],this.total=0,this.pageSize=r||10,this.currentPage=1,this.events=new e,this.view=null,this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.retrieve_comments=function(e){this.currentPage=e||1;if(this.comment_set_id==null)return;var t=this,n="/api/comments/"+this.comment_set_id+"/page/"+this.currentPage;i.ajax({type:"GET",url:n,dataType:"json",contentType:"json",cache:!1,success:function(e,n,r){console.log(e),t.comments=e.data,t.total=e.total,t.change_state("comments_retrieved_success")},error:function(e,n,r){t.change_state("comments_retrieved_error")},complete:function(e,t){}})},this.post_comment=function(e){if(!i(i(".post-button")[0].form).valid()){this.view.notify_user("Validation errors","Check the form. There are errors");return}delete e.post;var n=this;e.comment_set.id==""&&delete e.comment_set.id;var r=encodeURIComponent(JSON.stringify(e));t.lockBackground("#000000",!1),i.ajax({type:"POST",url:"/api/comment",data:r,data_type:"json",success:function(e,t,r){n.comment_set_id||(n.comment_set_id=e.comment_set_id),n.add_comment(e),n.change_state("post_comment_success")},error:function(e,t,r){n.response_status=t,n.change_state("post_comment_error")},complete:function(e,n){t.unLockBackground&&t.unLockBackground()}})},this.add_comment=function(e){this.comments.push(e),this.total+=1,this.events.fireEvent({type:"comments_updated",comments:this.comments})},this.change_state=function(e){switch(e){case"comments_retrieved_success":this.state="comments_loaded";break;case"comments_retrieved_error":this.state="comments_loaded_error";break;case"post_comment_success":this.state="post_comment_sent";break;case"post_comment_error":this.state="post_comment_sent_error"}this.events.fireEvent({type:"state_changed",state:this.state})}},YSDCommentsController=function(e){this.model=e,this.postButtonClick=function(){var e=i(i(".post-button")[0].form).formParams(!0);this.model.post_comment(e)}},YSDCommentsView=function(e,t,u){this.model=e,this.controller=t,this.pagerId=u||"page_list",this.pager=null,this.tmpl_comments_holder=null,this.tmpl_comment=null,this.configure_events=function(){var e=this;this.model.addListener("state_changed",function(t){e.state_changed(t)})},this.configure_post_form=function(){var e=this;n.limit_text_area_content_size(document.getElementById("message"),1024,function(e){document.getElementById("message_length").innerHTML="<strong>"+e+"</strong>"}),i(".post-button").bind("click",function(t){e.controller.postButtonClick()})},this.configure_events(),this.state_changed=function(e){switch(e.state){case"comments_loaded":this.load_comments();break;case"comments_loaded_error":this.notify_user("Error","Error retrieving comments");break;case"post_comment_sent":this.update_comments(),this.reset_form();break;case"reply_message_sent_error":this.notify_user("Error","Error posting message")}},this.render=function(){this.tmpl_comments_holder==null&&(this.tmpl_comments_holder=r("comments_script"));var e=document.getElementById("comments-container");e.innerHTML=this.tmpl_comments_holder({comment_set_id:this.model.comment_set_id,self:this}),this.configure_post_form(),this.model.retrieve_comments()},this.load_comments=function(){var e=this.model.comments;if(e==null||e.length==0)return;this.tmpl_comment==null&&(this.tmpl_comment=r("comment_script")),this.configure_pager();var t="";for(var n=0;n<e.length;n++)t+=this.tmpl_comment({comment:e[n],self:this,index:n});var i=document.getElementById("comments_holder");i.innerHTML=t},this.configure_pager=function(){controller_class=o.getPagerController(this.pagerId),view_class=o.getPagerView(this.pagerId),pagerController=new controller_class,pagerView=new view_class("comments_pagination");var e=this;i("#comments_pagination").empty(),this.model.total>this.model.pageSize&&(this.pager=new s(this.model.pageSize,this.model.currentPage,this.model.total,pagerController,pagerView),this.pager.addListener("navigate",function(t){e.model.retrieve_comments(t.page)}))},this.update_comments=function(){this.tmpl_comment==null&&(this.tmpl_comment=r("comment_script"));var e=document.getElementById("comments_holder");e.innerHTML+=this.tmpl_comment({comment:this.model.comments[this.model.comments.length-1],self:this,index:this.model.comments.length-1});var t=document.getElementById("message");i(t).val("")},this.reset_form=function(){i(".post-button")[0].form.reset()},this.notify_user=function(e,t){i("<div title='"+e+"'>"+t+"</div>").dialog({height:160,modal:!0,buttons:{Ok:function(){i(this).dialog("close")}}})},this.format_message_date_time=function(e){if(e==null||e.date==null)return"";var t=Date.today(),n=e.date,r=null;return n instanceof String?(n=new Date(n),r=(new Date(n)).clearTime()):r=(new Date(n.getTime())).clearTime(),Date.equals(r,t)?n.toString("HH:mm"):n.getFullYear()==t.getFullYear()?n.toString("d MMM, HH:mm"):n.toString("d.MM.yy, HH:mm")},this.format_sender_url=function(e){return e.composer_username==null||e.composer_username==""||e.composer_username=="anonymous"?e.composer_name:e.composer_username},this.format_message=function(e){return e.message.replace(/\n/gi,"<br/>")}},YSDCommentsManager}),define("YSDDateControl",["jquery"],function(e){return YSDDateControl=function(e,t,n,r,i){var s=new YSDDateControlModel(i),o=new YSDDateControlController(s),u=new YSDDateControlView(o,s,e,t,n,r);s.setView(u),o.setView(u),this.setDate=function(e){isNaN(e)||s.setDate(e)}},YSDDateControlModelData={years:90,en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],literals:{day:"Day",month:"Month",year:"Year"}},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],literals:{day:"Dia",month:"Mes",year:"Año"}},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octobre","Novembre","Desembre"],literals:{day:"Dia",month:"Mes",year:"Any"}}},YSDDateControlModel=function(e){this.locale=e||"es",this.day=null,this.month=null,this.year=null,this.days_of_month=null,this.current_year=(new Date).getFullYear(),this.setView=function(e){this.view=e},this.setDay=function(e){this.day=e,this.view.data_changed("day")},this.setMonth=function(e){this.month=e,this.checkDaysOfMonth(),this.view.data_changed("month")},this.setYear=function(e){this.year=e,this.month==1&&this.checkDaysOfMonth(),this.view.data_changed("year")},this.setDate=function(e){this.setYear(e.getFullYear()),this.setMonth(e.getMonth()),this.setDay(e.getDate()),this.view.data_changed("full_date")},this.checkDaysOfMonth=function(){var e=this.days_of_month;this.days_of_month=Date.getDaysInMonth(this.year,this.month),this.days_of_month!=e&&this.view&&this.view.data_changed("days_of_month")},this.getMonths=function(){return YSDDateControlModelData[this.locale].months},this.getYears=function(){return YSDDateControlModelData.years}},YSDDateControlController=function(e){this.model=e,this.setView=function(e){this.view=e},this.day_changed=function(e){this.model.setDay(e)},this.month_changed=function(e){this.model.setMonth(e)},this.year_changed=function(e){this.model.setYear(e)}},YSDDateControlView=function(t,n,r,i,s,o){this.controller=t,this.model=n,this.comboDay=r,this.comboMonth=i,this.comboYear=s,this.hiddenDate=o,this.data_changed=function(e){switch(e){case"days_of_month":var t=(n.days_of_month||31)+1;if(t<r.length)while(t<r.length)r.remove(r.length-1);else for(idxDay=r.length;idxDay<t;idxDay++){var u=document.createElement("option");u.setAttribute("value",idxDay),u.text=u.innerText=u.text=idxDay,r.appendChild(u)}break;case"full_date":r.selectedIndex=n.day,i.selectedIndex=n.month+1,s.selectedIndex=n.current_year-n.year+1;case"day":case"month":case"year":typeof n.year=="number"&&typeof n.month=="number"&&typeof n.day=="number"?o.value=(new Date(n.year,n.month,n.day)).toUTCString():o.value!=""&&(o.value="")}},this.render=function(){var o=document.createElement("option");o.text=o.innerText=YSDDateControlModelData[n.locale].literals.day,r.appendChild(o);var u=n.days_of_month||31;for(var a=1;a<=u;a++){var f=document.createElement("option");f.setAttribute("value",a),f.text=f.innerText=a,r.appendChild(f)}var l=document.createElement("option");l.text=l.innerText=YSDDateControlModelData[n.locale].literals.month,i.appendChild(l);var c=n.getMonths(),h=c.length;for(var p=0;p<h;p++){var d=document.createElement("option");d.setAttribute("value",c[p]),d.text=d.innerText=c[p],i.appendChild(d)}var v=document.createElement("option");v.text=v.innerText=YSDDateControlModelData[n.locale].literals.year,s.appendChild(v);var m=(new Date).getFullYear(),g=m-n.getYears();for(var y=m;y>g;y--){var b=document.createElement("option");b.setAttribute("value",y),b.text=b.innerText=y,s.appendChild(b)}e(r).bind("change",function(e){t.day_changed(this.selectedIndex==0?null:(new Number(this.value)).valueOf())}),e(i).bind("change",function(e){t.month_changed(this.selectedIndex==0?null:this.selectedIndex-1)}),e(s).bind("change",function(e){t.year_changed(this.selectedIndex==0?null:(new Number(this.value)).valueOf())})},this.render()},YSDDateControl}),define("YSDTimeControl",["jquery"],function(e){return YSDTimeControl=function(e,t,n){var r=new YSDTimeControlModel,i=new YSDTimeControlController(r),s=new YSDTimeControlView(i,r,e,t,n);r.setView(s),i.setView(s),this.setTime=function(e){r.setTime(e)}},YSDTimeControlModel=function(){this.time="00:00",this.hours="00",this.minutes="00",this.hoursList=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],this.minutesList=["00","15","30","45"],this.setView=function(e){this.view=e},this.setTime=function(e){this.time=e;var t=this.time.split(":");t.length==2&&(this.hours=t[0],this.minutes=t[1]),this.view.data_changed("time")},this.setHours=function(e){this.hours=e,this.time=this.hours+":"+this.minutes,this.view.data_changed("hours")},this.setMinutes=function(e){this.minutes=e,this.time=this.hours+":"+this.minutes,this.view.data_changed("minutes")}},YSDTimeControlController=function(e){this.model=e,this.setView=function(e){this.view=e},this.hours_changed=function(e){this.model.setHours(e)},this.minutes_changed=function(e){this.model.setMinutes(e)}},YSDTimeControlView=function(t,n,r,i,s){this.controller=t,this.model=n,this.comboHours=r,this.comboMinutes=i,this.hiddenTime=s,this.data_changed=function(e){switch(e){case"time":r.selectedIndex=n.hoursList.indexOf(n.hours),i.selectedIndex=n.minutesList.indexOf(n.minutes);case"hours":case"minutes":s.value=n.time}},this.render=function(){var s=n.hoursList;for(var o=0;o<s.length;o++){var u=document.createElement("option");u.setAttribute("value",s[o]),u.text=u.innerText=s[o],r.appendChild(u)}var a=n.minutesList;for(var f=0;f<a.length;f++){var l=document.createElement("option");l.setAttribute("value",a[f]),l.text=l.innerText=a[f],i.appendChild(l)}e(r).bind("change",function(e){t.hours_changed(this.value)}),e(i).bind("change",function(e){t.minutes_changed(this.value)})},this.render()},YSDTimeControl}),define("YSDDialog",["jquery","jquery.ui"],function(e){return YSDProcessingRequest=function(t){this.id="sending-ajax-request",this.message=t,this.show=function(){document.getElementById(this.id)||n.call(this),e("#"+this.id).dialog("open")},this.close=function(){e("#"+this.id).dialog("close")};var n=function(){divSending=document.createElement("div"),divSending.setAttribute("id",this.id),divSending.setAttribute("title",this.message),imgSending=document.createElement("img"),imgSending.setAttribute("src","/img/ajax-loader_grande.gif"),imgSending.style.margin="0 auto",imgSending.style.display="block",imgSending.style.marginTop="15px",divSending.appendChild(imgSending),e(divSending).dialog({autoOpen:!1,height:160,modal:!0,closeOnEscape:!1,open:function(t,n){e(".ui-dialog-titlebar-close").hide()},close:function(t,n){e(".ui-dialog-titlebar-close").show()}})}},YSDProcessingRequest}),define("YSDSpreadSheet",["jquery"],function(e){return SpreadSheet=function(e,t,n,r,i,s,o,u,a,f,l,c){this.model=new SpreadSheetModel(t,n,r,f,l),this.controller=new SpreadSheetController(this.model),this.view=new SpreadSheetView(e,this.model,this.controller,i,s,o,u,a,c),this.model.setView(this.view),this.controller.setView(this.view)},SpreadSheetModel=function(e,t,n,r,i){this.columnIds=e,this.rowIds=t,this.columnTitles=r||e,this.rowTitles=i||t,this.view=null,this.numberOfRows=n,this.columns=t.length,this.fixedColumn=e.length>0,this.setView=function(e){this.view=e}},SpreadSheetController=function(e){this.model=e,this.view=null,this.setView=function(e){this.view=e}},SpreadSheetView=function(e,t,n,r,i,s,o,u,a){this.table=document.querySelector("#"+e),this.model=t,this.controller=n,this.inputPrefix=i,this.inputSize=s,this.inputClass=o,this.zeroZeroTitle=r,this.readonly=u,this.repeatRowTitles=a||0,this.init=function(){var e=null,t=0,n=0;e=this.table.insertRow(-1),this.model.fixedColumn&&(e.insertCell(-1).innerHTML='<span class="rowTitle">'+this.zeroZeroTitle+"</span>");for(t=0;t<this.model.rowIds.length;t++)e.insertCell(-1).innerHTML='<span class="rowTitle">'+this.model.rowTitles[t]+"</span>";for(t=0;t<this.model.numberOfRows;t++){e=this.table.insertRow(-1),this.model.fixedColumn&&(e.insertCell(-1).innerHTML='<span class="columnTitle">'+this.model.columnTitles[t]+"</span>");for(n=0;n<this.model.rowIds.length;n++){var r="["+this.inputPrefix+"]";r+=this.model.fixedColumn?"["+this.model.columnIds[t]+"]":"["+t+"]",r+="["+this.model.rowIds[n]+"]";var i=e.insertCell(-1);i.innerHTML='<input type="text" id="'+r+'" name="'+r+'" '+'class="spread_input '+this.inputClass+'" '+'" size="'+this.inputSize+'"'+(this.readonly?" readonly":"")+"/>"}if(this.repeatRowTitles>0&&t%this.repeatRowTitles==0&&t>0){e=this.table.insertRow(-1),this.model.fixedColumn&&(e.insertCell(-1).innerHTML='<span class="rowTitle">'+this.zeroZeroTitle+"</span>");for(x=0;x<this.model.rowIds.length;x++)e.insertCell(-1).innerHTML='<span class="rowTitle top-margin">'+this.model.rowTitles[x]+"</span>"}}},this.init()},SpreadSheet}),define("YSDFileUploaderModel",["YSDEventTarget"],function(e){return FileUploaderModel=function(t,n,r){this.formName=t,this.inputFileId=n,this.iframeId=r,this.events=new e,this.state="initial",this.fileName=null,this.data=null,this.addListener=function(e,t){this.events.addEventListener(e,t)},this.removeListener=function(e,t){this.events.removeEventListener(e,t)},this.setView=function(e){this.view=e},this.changeState=function(e,t){switch(e){case"send_request":this.state="uploading_file",this.events.fireEvent({type:"start_upload",data:{fileName:this.fileName}});break;case"file_uploaded_ok":this.state="file_uploaded",this.events.fireEvent({type:"file_uploaded",data:{file:this.data,fileName:this.fileName}});break;case"file_uploaded_error":this.state="error_uploading_file",this.events.fireEvent({type:"file_uploaded_error",data:{fileName:this.fileName,extraData:t}})}this.view.stateChanged(this.state)},this.uploadFile=function(e){this.changeState("send_request"),document.forms[this.formName].submit()}},FileUploaderModel}),define("YSDFileUploaderController",[],function(){return FileUploaderController=function(e){this.model=e,this.addNewFileClick=function(){$(document.forms[this.model.formName][this.model.inputFileId]).click()},this.fileSelected=function(){this.model.uploadFile()}},FileUploaderController}),define("YSDFileUploaderView",["YSDjson2"],function(){return FileUploaderView=function(e,t){this.model=e,this.controller=t,this.showingFileSelect=!1,this.counter=0,this.init=function(){var e=this,t=this.controller,n=this.model;$(document.forms[this.model.formName][this.model.inputFileId]).unbind("change"),$(document.forms[this.model.formName][this.model.inputFileId]).bind("change",function(r){$(document.forms[e.model.formName][e.model.inputFileId]).val()!=""&&(n.fileName=$(document.forms[e.model.formName][e.model.inputFileId]).val(),n.fileName+=e.counter++,t.fileSelected())}),$(document.getElementById(this.model.iframeId)).unbind("load"),$(document.getElementById(this.model.iframeId)).bind("load",function(t){try{n.state=="uploading_file"&&(n.data=JSON.parse(frames[n.iframeId].document.body.innerHTML),n.changeState("file_uploaded_ok"))}catch(r){n.changeState("file_uploaded_error",r)}$(document.forms[e.model.formName][e.model.inputFileId]).val("")})},this.stateChanged=function(e){}},FileUploaderView}),define("YSDFileUploader",["YSDFileUploaderModel","YSDFileUploaderController","YSDFileUploaderView"],function(e,t,n){return FileUploader=function(r,i,s){this.model=new e(r,i,s),this.controller=new t(this.model),this.view=new n(this.model,this.controller),this.model.setView(this.view),this.addListener=function(e,t){this.model.addListener(e,t)},this.removeListener=function(e,t){this.model.removeListener(e,t)},this.uploadFile=function(){this.controller.addNewFileClick()},this.view.init()},FileUploader}),define("YSDCssMenu",["jquery"],function(e){return YsdCssMenu={buildMenu:function(){e("#cssmenu li.active").addClass("open").children("ul").show(),e("#cssmenu li.has-sub>a").on("click",function(){e(this).removeAttr("href");var t=e(this).parent("li");t.hasClass("open")?(t.removeClass("open"),t.find("li").removeClass("open"),t.find("ul").slideUp(200)):(t.addClass("open"),t.children("ul").slideDown(200),t.siblings("li").children("ul").slideUp(200),t.siblings("li").removeClass("open"),t.siblings("li").find("li").removeClass("open"),t.siblings("li").find("ul").slideUp(200))})}},YsdCssMenu}),requirejs(["jquery","jquery.migrate","jquery.ui","jquery.ui.datepicker-es","jquery.ui.datepicker-ca","jquery.ui.timepicker","jquery.ui.timepicker-es","jquery.ui.timepicker-ca","jquery.fullcalendar","jquery.tools","jquery.validate","jquery.ui.datepicker.validation","jquery.formparams","autonumeric","jquery.plugin","jquery.timeentry","jquery.wysiwyg","controls/wysiwyg.colorpicker","controls/wysiwyg.cssWrap","controls/wysiwyg.image","controls/wysiwyg.link","controls/wysiwyg.table","jquery.ad-gallery","jquery.nivo.slider","jquery.fcbkcomplete","jquery.placeholder","jquery.superscrollorama","jquery.lettering","jquery.bsAlerts","jquery.calendar","jquery.combo.select","jquery.dropdown","jquery.fixedtable","bootstrap","jquery.sidr","superfish","jquery.prettyPhoto","owl.carousel","jquery.sticky","jquery.easing","jquery.smoothscroll","swiper.jquery","bootstrap.select","json2","datejs","time","underscore","TimelineMax.min","TweenMax.min","charts","masonry","YSDDateFormatter","YSDjson2","YSDEntityManagementComplementHooks","YSDEntityManagement","YSDTreeEntityManagement","YSDAbstractDataSource","YSDRemoteDataSource","YSDMemoryDataSource","YSDDataAdapter","YSDHierachyListAdapter","YSDListManagement","YSDListViewer","YSDListSelector","YSDSelectSelector","YSDSelectHierarchicalSelector","YSDLocationViewer","YSDEventTarget","YSDStyles","YSDGui","YSDForms","YSDFormatter","YSDCommentsManager","YSDDateControl","YSDTimeControl","YSDDialog","YSDPager","YSDPagerSimpleController","YSDPagerSimpleView","YSDPagerPListController","YSDPagerPListView","YSDPagerFactory","YSDSpreadSheet","YSDFileUploader","YSDCssMenu"],function(){}),define("app.js",function(){})